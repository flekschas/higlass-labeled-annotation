!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("pixi.js"),require("react-dom"),require("react-bootstrap")):"function"==typeof define&&define.amd?define(["react","pixi.js","react-dom","react-bootstrap"],t):"object"==typeof exports?exports.hglib=t(require("react"),require("pixi.js"),require("react-dom"),require("react-bootstrap")):e.hglib=t(e.React,e.PIXI,e.ReactDOM,e.ReactBootstrap)}(this,function(e,t,n,r){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=709)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var i=n(699),o=r(i),a=n(701),s=r(a),l=n(696),u=r(l),c=n(698),f=r(c),h=n(697),d=r(h),p=n(700),v=r(p);t.hover=f.default,t.handleHover=f.default,t.handleActive=d.default,t.loop=v.default;var m=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=(0,o.default)(n),a=(0,s.default)(e,i);return(0,u.default)(a)};t.default=m},function(e,t,n){e.exports=n(636)()},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(314);Object.defineProperty(t,"absToChr",{enumerable:!0,get:function(){function e(){return r(i).default}return e}()});var o=n(316);Object.defineProperty(t,"chromInfoBisector",{enumerable:!0,get:function(){function e(){return r(o).default}return e}()});var a=n(315);Object.defineProperty(t,"chrToAbs",{enumerable:!0,get:function(){function e(){return r(a).default}return e}()});var s=n(317);Object.defineProperty(t,"colorDomainToRgbaArray",{enumerable:!0,get:function(){function e(){return r(s).default}return e}()});var l=n(318);Object.defineProperty(t,"colorToHex",{enumerable:!0,get:function(){function e(){return r(l).default}return e}()});var u=n(319);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){function e(){return r(u).default}return e}()});var c=n(320);Object.defineProperty(t,"dictFromTuples",{enumerable:!0,get:function(){function e(){return r(c).default}return e}()});var f=n(321);Object.defineProperty(t,"dictItems",{enumerable:!0,get:function(){function e(){return r(f).default}return e}()});var h=n(322);Object.defineProperty(t,"dictKeys",{enumerable:!0,get:function(){function e(){return r(h).default}return e}()});var d=n(323);Object.defineProperty(t,"dictValues",{enumerable:!0,get:function(){function e(){return r(d).default}return e}()});var p=n(324);Object.defineProperty(t,"download",{enumerable:!0,get:function(){function e(){return r(p).default}return e}()});var v=n(325);Object.defineProperty(t,"genomeLociToPixels",{enumerable:!0,get:function(){function e(){return r(v).default}return e}()});var m=n(326);Object.defineProperty(t,"getTrackByUid",{enumerable:!0,get:function(){function e(){return r(m).default}return e}()});var g=n(327);Object.defineProperty(t,"getTrackPositionByUid",{enumerable:!0,get:function(){function e(){return r(g).default}return e}()});var y=n(328);Object.defineProperty(t,"loadChromInfos",{enumerable:!0,get:function(){function e(){return r(y).default}return e}()});var b=n(329);Object.defineProperty(t,"map",{enumerable:!0,get:function(){function e(){return r(b).default}return e}()});var w=n(330);Object.defineProperty(t,"objVals",{enumerable:!0,get:function(){function e(){return r(w).default}return e}()});var x=n(331);Object.defineProperty(t,"or",{enumerable:!0,get:function(){function e(){return r(x).default}return e}()});var k=n(152);Object.defineProperty(t,"pixelToGenomeLoci",{enumerable:!0,get:function(){function e(){return r(k).default}return e}()});var _=n(332);Object.defineProperty(t,"pixiTextToSvg",{enumerable:!0,get:function(){function e(){return r(_).default}return e}()});var S=n(153);Object.defineProperty(t,"positionedTracksToAllTracks",{enumerable:!0,get:function(){function e(){return r(S).default}return e}()});var T=n(333);Object.defineProperty(t,"relToAbsChromPos",{enumerable:!0,get:function(){function e(){return r(T).default}return e}()});var O=n(334);Object.defineProperty(t,"scalesCenterAndK",{enumerable:!0,get:function(){function e(){return r(O).default}return e}()});var C=n(335);Object.defineProperty(t,"scalesToGenomeLoci",{enumerable:!0,get:function(){function e(){return r(C).default}return e}()});var P=n(336);Object.defineProperty(t,"sum",{enumerable:!0,get:function(){function e(){return r(P).default}return e}()});var E=n(337);Object.defineProperty(t,"svgLine",{enumerable:!0,get:function(){function e(){return r(E).default}return e}()});var M=n(338);Object.defineProperty(t,"totalTrackPixelHeight",{enumerable:!0,get:function(){function e(){return r(M).default}return e}()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(424);n.d(t,"create",function(){return r.a});var i=n(73);n.d(t,"creator",function(){return i.a});var o=n(425);n.d(t,"local",function(){return o.a});var a=n(191);n.d(t,"matcher",function(){return a.a});var s=n(426);n.d(t,"mouse",function(){return s.a});var l=n(113);n.d(t,"namespace",function(){return l.a});var u=n(114);n.d(t,"namespaces",function(){return u.a});var c=n(74);n.d(t,"clientPoint",function(){return c.a});var f=n(192);n.d(t,"select",function(){return f.a});var h=n(427);n.d(t,"selectAll",function(){return h.a});var d=n(16);n.d(t,"selection",function(){return d.a});var p=n(116);n.d(t,"selector",function(){return p.a});var v=n(196);n.d(t,"selectorAll",function(){return v.a});var m=n(195);n.d(t,"style",function(){return m.a});var g=n(455);n.d(t,"touch",function(){return g.a});var y=n(456);n.d(t,"touches",function(){return y.a});var b=n(118);n.d(t,"window",function(){return b.a});var w=n(115);n.d(t,"event",function(){return w.a}),n.d(t,"customEvent",function(){return w.b})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(649);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return r(i).default}});var o=n(237);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return r(o).default}});var a=n(650);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return r(a).default}});var s=n(651);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return r(s).default}});var l=n(652);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return r(l).default}});var u=n(653);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return r(u).default}});var c=n(238);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return r(c).default}});var f=n(654);Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return r(f).default}})},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(301);Object.defineProperty(t,"AVAILABLE_TRACK_TYPES",{enumerable:!0,get:function(){function e(){return r(i).default}return e}()});var o=n(303);Object.defineProperty(t,"DATATYPE_TO_TRACK_TYPE",{enumerable:!0,get:function(){function e(){return r(o).default}return e}()});var a=n(302);Object.defineProperty(t,"HEATED_OBJECT_MAP",{enumerable:!0,get:function(){function e(){return r(a).default}return e}()});var s=n(304);Object.defineProperty(t,"IS_TRACK_RANGE_SELECTABLE",{enumerable:!0,get:function(){function e(){return r(s).default}return e}()});var l=n(305);Object.defineProperty(t,"OPTIONS_INFO",{enumerable:!0,get:function(){function e(){return r(l).default}return e}()});var u=n(307);Object.defineProperty(t,"TRACKS_INFO",{enumerable:!0,get:function(){function e(){return r(u).default}return e}()});var c=n(306);Object.defineProperty(t,"TRACKS_INFO_BY_TYPE",{enumerable:!0,get:function(){function e(){return r(c).default}return e}()});var f=n(308);Object.defineProperty(t,"USED_SERVER",{enumerable:!0,get:function(){function e(){return r(f).default}return e}()});t.MOUSE_TOOL_MOVE="move",t.MOUSE_TOOL_SELECT="select",t.TILE_FETCH_DEBOUNCE=100,t.ZOOM_DEBOUNCE=100,t.SHORT_DRAG_TIMEOUT=110,t.LONG_DRAG_TIMEOUT=3e3,t.LOCATION_LISTENER_PREFIX="locationListenerPrefix",t.ZOOM_TRANSITION_DURATION=1e3,t.DEFAULT_SERVER="http://higlass.io/api/v1",t.VIEW_HEADER_MED_WIDTH_SEARCH_BAR=400,t.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR=300},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(310);Object.defineProperty(t,"chromInfo",{enumerable:!0,get:function(){function e(){return r(i).default}return e}()});var o=n(311);Object.defineProperty(t,"domEvent",{enumerable:!0,get:function(){function e(){return r(o).default}return e}()});var a=n(31);Object.defineProperty(t,"pubSub",{enumerable:!0,get:function(){function e(){return r(a).default}return e}()});var s=n(312);Object.defineProperty(t,"tileProxy",{enumerable:!0,get:function(){function e(){return r(s).default}return e}()}),Object.defineProperty(t,"requestsInFlight",{enumerable:!0,get:function(){function e(){return s.requestsInFlight}return e}()})},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(161);n.d(t,"bisect",function(){return r.a}),n.d(t,"bisectRight",function(){return r.b}),n.d(t,"bisectLeft",function(){return r.c});var i=n(44);n.d(t,"ascending",function(){return i.a});var o=n(162);n.d(t,"bisector",function(){return o.a});var a=n(346);n.d(t,"cross",function(){return a.a});var s=n(347);n.d(t,"descending",function(){return s.a});var l=n(163);n.d(t,"deviation",function(){return l.a});var u=n(164);n.d(t,"extent",function(){return u.a});var c=n(348);n.d(t,"histogram",function(){return c.a});var f=n(358);n.d(t,"thresholdFreedmanDiaconis",function(){return f.a});var h=n(359);n.d(t,"thresholdScott",function(){return h.a});var d=n(168);n.d(t,"thresholdSturges",function(){return d.a});var p=n(350);n.d(t,"max",function(){return p.a});var v=n(351);n.d(t,"mean",function(){return v.a});var m=n(352);n.d(t,"median",function(){return m.a});var g=n(353);n.d(t,"merge",function(){return g.a});var y=n(165);n.d(t,"min",function(){return y.a});var b=n(166);n.d(t,"pairs",function(){return b.a});var w=n(354);n.d(t,"permute",function(){return w.a});var x=n(91);n.d(t,"quantile",function(){return x.a});var k=n(167);n.d(t,"range",function(){return k.a});var _=n(355);n.d(t,"scan",function(){return _.a});var S=n(356);n.d(t,"shuffle",function(){return S.a});var T=n(357);n.d(t,"sum",function(){return T.a});var O=n(169);n.d(t,"ticks",function(){return O.a}),n.d(t,"tickIncrement",function(){return O.b}),n.d(t,"tickStep",function(){return O.c});var C=n(170);n.d(t,"transpose",function(){return C.a});var P=n(171);n.d(t,"variance",function(){return P.a});var E=n(360);n.d(t,"zip",function(){return E.a})},function(e,t,n){e.exports=n(703)},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(406);n.d(t,"scaleBand",function(){return r.a}),n.d(t,"scalePoint",function(){return r.b});var i=n(412);n.d(t,"scaleIdentity",function(){return i.a});var o=n(58);n.d(t,"scaleLinear",function(){return o.a});var a=n(413);n.d(t,"scaleLog",function(){return a.a});var s=n(189);n.d(t,"scaleOrdinal",function(){return s.a}),n.d(t,"scaleImplicit",function(){return s.b});var l=n(414);n.d(t,"scalePow",function(){return l.a}),n.d(t,"scaleSqrt",function(){return l.b});var u=n(415);n.d(t,"scaleQuantile",function(){return u.a});var c=n(416);n.d(t,"scaleQuantize",function(){return c.a});var f=n(419);n.d(t,"scaleThreshold",function(){return f.a});var h=n(190);n.d(t,"scaleTime",function(){return h.a});var d=n(421);n.d(t,"scaleUtc",function(){return d.a});var p=n(407);n.d(t,"schemeCategory10",function(){return p.a});var v=n(409);n.d(t,"schemeCategory20b",function(){return v.a});var m=n(410);n.d(t,"schemeCategory20c",function(){return m.a});var g=n(408);n.d(t,"schemeCategory20",function(){return g.a});var y=n(411);n.d(t,"interpolateCubehelixDefault",function(){return y.a});var b=n(417);n.d(t,"interpolateRainbow",function(){return b.a}),n.d(t,"interpolateWarm",function(){return b.b}),n.d(t,"interpolateCool",function(){return b.c});var w=n(422);n.d(t,"interpolateViridis",function(){return w.a}),n.d(t,"interpolateMagma",function(){return w.b}),n.d(t,"interpolateInferno",function(){return w.c}),n.d(t,"interpolatePlasma",function(){return w.d});var x=n(418);n.d(t,"scaleSequential",function(){return x.a})},function(e,t,n){"use strict";function r(e,t,n,a){function s(t){return e(t=new Date(+t)),t}return s.floor=s,s.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},s.range=function(n,r,i){var o,a=[];if(n=s.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return a;do{a.push(o=new Date(+n)),t(n,i),e(n)}while(o<n&&n<r);return a},s.filter=function(n){return r(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(s.count=function(t,r){return i.setTime(+t),o.setTime(+r),e(i),e(o),Math.floor(n(i,o))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(a?function(t){return a(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}t.a=r;var i=new Date,o=new Date},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(97);n.d(t,"color",function(){return r.a}),n.d(t,"rgb",function(){return r.b}),n.d(t,"hsl",function(){return r.c});var i=n(369);n.d(t,"lab",function(){return i.a}),n.d(t,"hcl",function(){return i.b});var o=n(368);n.d(t,"cubehelix",function(){return o.a})},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";function r(e,t){this._groups=e,this._parents=t}function i(){return new r([[document.documentElement]],D)}n.d(t,"c",function(){return D}),t.b=r;var o=n(450),a=n(451),s=n(439),l=n(433),u=n(193),c=n(438),f=n(443),h=n(446),d=n(453),p=n(430),v=n(445),m=n(444),g=n(452),y=n(437),b=n(436),w=n(429),x=n(195),k=n(447),_=n(431),S=n(454),T=n(440),O=n(448),C=n(442),P=n(428),E=n(441),M=n(449),A=n(432),j=n(434),R=n(115),I=n(435),D=[null];r.prototype=i.prototype={constructor:r,select:o.a,selectAll:a.a,filter:s.a,data:l.a,enter:u.a,exit:c.a,merge:f.a,order:h.a,sort:d.a,call:p.a,nodes:v.a,node:m.a,size:g.a,empty:y.a,each:b.a,attr:w.a,style:x.b,property:k.a,classed:_.a,text:S.a,html:T.a,raise:O.a,lower:C.a,append:P.a,insert:E.a,remove:M.a,clone:A.a,datum:j.a,on:R.c,dispatch:I.a},t.a=i},function(e,t,n){"use strict";function r(e,t){var n=o(e,t);if(n.state>f)throw new Error("too late; already scheduled");return n}function i(e,t){var n=o(e,t);if(n.state>d)throw new Error("too late; already started");return n}function o(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function a(e,t,r){function i(e){r.state=h,r.timer.restart(o,r.delay,r.time),r.delay<=e&&o(e-r.delay)}function o(i){var f,m,y,b;if(r.state!==h)return s();for(f in c)if(b=c[f],b.name===r.name){if(b.state===p)return n.i(l.b)(o);b.state===v?(b.state=g,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete c[f]):+f<t&&(b.state=g,b.timer.stop(),delete c[f])}if(n.i(l.b)(function(){r.state===p&&(r.state=v,r.timer.restart(a,r.delay,r.time),a(i))}),r.state=d,r.on.call("start",e,e.__data__,r.index,r.group),r.state===d){for(r.state=p,u=new Array(y=r.tween.length),f=0,m=-1;f<y;++f)(b=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(u[++m]=b);u.length=m+1}}function a(t){for(var n=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(s),r.state=m,1),i=-1,o=u.length;++i<o;)u[i].call(null,n);r.state===m&&(r.on.call("end",e,e.__data__,r.index,r.group),s())}function s(){r.state=g,r.timer.stop(),delete c[t];for(var n in c)return;delete e.__transition}var u,c=e.__transition;c[t]=r,r.timer=n.i(l.a)(i,0,r.time)}n.d(t,"d",function(){return h}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return g}),t.g=r,t.e=i,t.f=o;var s=n(34),l=n(200),u=n.i(s.a)("start","end","interrupt"),c=[],f=0,h=1,d=2,p=3,v=4,m=5,g=6;t.h=function(e,t,n,r,i,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};a(e,n,{name:t,index:r,group:i,on:u,tween:c,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:f})}},function(e,t,n){var r=n(223),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.red=void 0;var i=n(617),o=r(i),a=n(704),s=r(a);t.default={simpleCheckForValidColor:function(e){var t=["r","g","b","a","h","s","l","v"],n=0,r=0;return(0,o.default)(t,function(t){if(e[t]&&(n+=1,isNaN(e[t])||(r+=1),"s"===t||"l"===t)){/^\d+%$/.test(e[t])&&(r+=1)}}),n===r&&e},toState:function(e,t){var n=e.hex?(0,s.default)(e.hex):(0,s.default)(e),r=n.toHsl(),i=n.toHsv(),o=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=t||0,i.h=t||0),{hsl:r,hex:"000000"===a&&0===o.a?"transparent":"#"+a,rgb:o,hsv:i,oldHue:e.h||t||r.h,source:e.source}},isValidHex:function(e){var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,s.default)(e).isValid()},getContrastingColor:function(e){if(!e)return"#fff";var t=this.toState(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"}};t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},function(e,t,n){"use strict";var r=n(105);n.d(t,"b",function(){return r.a});var i=(n(180),n(104),n(181),n(183),n(71));n.d(t,"a",function(){return i.a});var o=(n(184),n(398));n.d(t,"c",function(){return o.a});var a=n(186);n.d(t,"g",function(){return a.a});var s=n(400);n.d(t,"e",function(){return s.a}),n.d(t,"h",function(){return s.b});var l=n(402);n.d(t,"i",function(){return l.a});var u=n(185);n.d(t,"f",function(){return u.a});var c=(n(395),n(396),n(394),n(393));n.d(t,"d",function(){return c.a});n(397)},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){"use strict";var r=n(38);t.a=function(e,t){return function(i,o){var a=n.i(r.a)(i).mimeType(e).response(t);if(null!=o){if("function"!=typeof o)throw new Error("invalid callback: "+o);return a.get(o)}return a}}},function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=1e3,i=6e4,o=36e5,a=864e5,s=6048e5},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(364);n.d(t,"brush",function(){return r.a}),n.d(t,"brushX",function(){return r.b}),n.d(t,"brushY",function(){return r.c}),n.d(t,"brushSelection",function(){return r.d})},function(e,t,n){"use strict";function r(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function i(e){return n.i(a.selection)().transition(e)}function o(){return++S}t.a=r,t.b=o;var a=n(4),s=n(478),l=n(479),u=n(480),c=n(481),f=n(482),h=n(483),d=n(484),p=n(485),v=n(486),m=n(487),g=n(488),y=n(489),b=n(490),w=n(491),x=n(492),k=n(493),_=n(75),S=0,T=a.selection.prototype;r.prototype=i.prototype={constructor:r,select:m.a,selectAll:g.a,filter:h.a,merge:d.a,selection:y.a,transition:k.a,call:T.call,nodes:T.nodes,node:T.node,size:T.size,empty:T.empty,each:T.each,on:p.a,attr:s.a,attrTween:l.a,style:b.a,styleTween:w.a,text:x.a,remove:v.a,tween:_.a,delay:u.a,duration:c.a,ease:f.a}},function(e,t,n){function r(e,t){return(s(e)?i:a)(e,o(t,3))}var i=n(129),o=n(78),a=n(218),s=n(15);e.exports=r},function(e,t,n){function r(e,t){o.tileProxy.text(e,function(n,r){n&&(console.warn("Chromosome info not found at:",e),t(null));for(var o=(0,i.tsvParseRows)(r),a=[],s={},l={},u=0,c=0;c<o.length;c++){u+=+o[c][1];var f={id:c,chr:o[c][0],pos:u-+o[c][1]};a.push(f),l[f.chr]=f,s[o[c][0]]=o[c][1]}t({cumPositions:a,chrPositions:l,totalLength:u,chromLengths:s})})}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromosomeInfo=r;var i=n(35),o=n(7);t.default=r},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=(0,f.precisionPrefix)(t,e);return(0,f.formatPrefix)("."+n,e)(e)}function s(e,t){var n=e.map(function(e){return+e}).sort(function(e,t){return t-e});return a(n[t],n[n.length-1])}function l(e,t,n,r){var i=t/(Math.pow(2,e)*n);if(isNaN(i))return console.warn("NaN resolution, screen is probably too small. Dimensions:",this.dimensions),"";var o=t/(Math.pow(2,r)*n),a=(0,f.precisionPrefix)(o,i);return(0,f.formatPrefix)("."+a,i)(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.PixiTrack=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),f=n(45),h=n(8),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),p=n(10),v=function(e){return e&&e.__esModule?e:{default:e}}(p),m=n(88),g=n(3),y=t.PixiTrack=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));o.scene=e,o.delayDrawing=!1,o.pBase=new d.Graphics,o.pMasked=new d.Graphics,o.pMask=new d.Graphics,o.pMain=new d.Graphics,o.pBorder=new d.Graphics,o.pLabel=new d.Graphics,o.pMobile=new d.Graphics,o.pAxis=new d.Graphics,o.scene.addChild(o.pBase),o.pBase.addChild(o.pMasked),o.pMasked.addChild(o.pMain),o.pMasked.addChild(o.pMask),o.pMasked.addChild(o.pMobile),o.pMasked.addChild(o.pBorder),o.pMasked.addChild(o.pLabel),o.pBase.addChild(o.pAxis),o.pMasked.mask=o.pMask,o.prevOptions="",o.options=Object.assign(o.options,n);var a=o.options.name?o.options.name:o.tilesetInfo?o.tilesetInfo.name:"";return o.labelTextFontFamily="Arial",o.labelTextFontSize=12,o.labelText=new d.Text(a,{fontSize:o.labelTextFontSize+"px",fontFamily:o.labelTextFontFamily,fill:"black"}),o.pLabel.addChild(o.labelText),o}return o(t,e),u(t,[{key:"setLabelText",value:function(){function e(){}return e}()},{key:"setPosition",value:function(){function e(e){this.position=e,this.setMask(this.position,this.dimensions)}return e}()},{key:"setDimensions",value:function(){function e(e){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDimensions",this).call(this,e),this.setMask(this.position,this.dimensions)}return e}()},{key:"setMask",value:function(){function e(e,t){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(e[0],e[1],t[0],t[1]),this.pMask.endFill()}return e}()},{key:"remove",value:function(){function e(){this.pBase.clear(),this.scene.removeChild(this.pBase)}return e}()},{key:"drawBorder",value:function(){function e(){var e=this.pBorder;if(e.clear(),this.options&&this.options.trackBorderWidth){var t=(0,g.colorToHex)(this.options.trackBorderColor?this.options.trackBorderColor:"white");e.lineStyle(this.options.trackBorderWidth,t),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}return e}()},{key:"drawLabel",value:function(){function e(){var e=this.pLabel;if(!this.options||!this.options.labelPosition)return void(this.labelText.opacity=0);e.clear(),this.options.labelBackgroundOpacity?e.beginFill(16777215,+this.options.labelBackgroundOpacity):e.beginFill(16777215,0);var t=(0,g.colorToHex)(this.options.labelColor?this.options.labelColor:"black");if(!(this.dimensions[0]<0)){var n=this.tilesetInfo&&this.tilesetInfo.coordSystem?this.tilesetInfo.coordSystem+" | ":"";if(n+=this.options.name?this.options.name:this.tilesetInfo?this.tilesetInfo.name:"",this.tilesetInfo&&this.tilesetInfo.max_width&&this.tilesetInfo.bins_per_dimension){n+="\n[Current data resolution: "+l(this.calculateZoomLevel(),this.tilesetInfo.max_width,this.tilesetInfo.bins_per_dimension,this.tilesetInfo.max_zoom)+"]"}else if(this.tilesetInfo&&this.tilesetInfo.resolutions){var r=s(this.tilesetInfo.resolutions,this.calculateZoomLevel());n+="\n[Current data resolution: "+r+"]"}if(this.options&&this.options.dataTransform){var i=null;if(this.tilesetInfo&&this.tilesetInfo.transforms){var o=!0,a=!1,u=void 0;try{for(var c,f=this.tilesetInfo.transforms[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var h=c.value;h.value===this.options.dataTransform&&(i=h)}}catch(e){a=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(a)throw u}}}i?n+="\n[Transform: "+i.name+"]":"None"===this.options.dataTransform?n+="\n[Transform: None ]":n+="\n[Transform: Default ]"}this.labelText.text=n,this.labelText.style={fontSize:this.labelTextFontSize+"px",fontFamily:this.labelTextFontFamily,fill:t},this.labelText.alpha=void 0!==this.options.labelTextOpacity?this.options.labelTextOpacity:1,this.labelText.visible=!0,this.flipText&&(this.labelText.scale.x=-1),"topLeft"===this.options.labelPosition?(this.labelText.x=this.position[0],this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x+=this.labelText.width/2,e.drawRect(this.position[0],this.position[1],this.labelText.width+2,this.labelText.height+2)):"bottomLeft"===this.options.labelPosition&&!this.flipText||"topRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0],this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x+=this.labelText.width/2,e.drawRect(this.position[0],this.position[1]+this.dimensions[1]-this.labelText.height-2,this.labelText.width+2,this.labelText.height+2)):"topRight"===this.options.labelPosition&&!this.flipText||"bottomLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x-=this.labelText.width/2,e.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-2,this.position[1],this.labelText.width+2,this.labelText.height+2)):"bottomRight"===this.options.labelPosition?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x-=this.labelText.width/2,e.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-2,this.position[1]+this.dimensions[1]-this.labelText.height-2,this.labelText.width+2,this.labelText.height+2)):"outerLeft"===this.options.labelPosition&&!this.flipText||"outerTop"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x-=this.labelText.width/2+3):"outerTop"===this.options.labelPosition&&!this.flipText||"outerLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y-=this.labelText.height/2+3):"outerBottom"===this.options.labelPosition&&!this.flipText||"outerRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y+=this.labelText.height/2+3):"outerRight"==this.options.labelPosition&&!this.flipText||"outerBottom"==this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x+=this.labelText.width/2+3):this.labelText.visible=!1,"outerLeft"==this.options.labelPosition||"outerRight"==this.options.labelPosition||"outerTop"==this.options.labelPosition||"outerBottom"==this.options.labelPosition?this.pLabel.setParent(this.pBase):this.pLabel.setParent(this.pMasked)}}return e}()},{key:"rerender",value:function(){function e(e){this.options=e,this.draw()}return e}()},{key:"draw",value:function(){function e(){this.drawBorder(),this.drawLabel()}return e}()},{key:"exportSVG",value:function(){function e(){var e=document.createElement("g"),t=document.createElement("g");t.setAttribute("class","g-clipped"),e.appendChild(t);var n=document.createElement("g");t.setAttribute("class","g-track"),t.appendChild(n);var r=document.createElement("g");t.setAttribute("class","g-labels"),t.appendChild(r);var i=document.createElementNS("http://www.w3.org/2000/svg","clipPath");e.appendChild(i);var o=document.createElementNS("http://www.w3.org/2000/svg","polygon");i.appendChild(o),o.setAttribute("points",this.position[0]+","+this.position[1]+" "+(this.position[0]+this.dimensions[0])+","+this.position[1]+" "+(this.position[0]+this.dimensions[0])+","+(this.position[1]+this.dimensions[1])+" "+this.position[0]+","+(this.position[1]+this.dimensions[1])+" ");var a=v.default.nice();i.setAttribute("id",a),t.setAttribute("style","clip-path:url(#"+a+");");var s=this.labelText.text.split("\n"),l=0,u=(this.labelTextFontSize+2)*s.length+3;.5==this.labelText.anchor.y?l=u/2:1==this.labelText.anchor.y&&(l=-u);for(var c=0;c<s.length;c++){var f=document.createElement("text");if(f.setAttribute("font-family",this.labelTextFontFamily),f.setAttribute("font-size",this.labelTextFontSize+"px"),f.innerText=s[c],"topLeft"===this.options.labelPosition||"topRight"===this.options.labelPosition){var h=l+(c+1)*(this.labelTextFontSize+2);f.setAttribute("dy",h)}else"bottomLeft"!==this.options.labelPosition&&"bottomRight"!==this.options.labelPosition||f.setAttribute("dy",l+c*(this.labelTextFontSize+2));f.setAttribute("fill",this.options.labelColor),.5==this.labelText.anchor.x?f.setAttribute("text-anchor","middle"):1==this.labelText.anchor.x&&f.setAttribute("text-anchor","end"),r.appendChild(f)}return r.setAttribute("transform","translate("+this.labelText.x+","+this.labelText.y+")scale("+this.labelText.scale.x+",1)"),[e,n]}return e}()}]),t}(m.Track);t.default=y},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TiledPixiTrack=t.getValueScale=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),c=n(12),f=n(9),h=n(10),d=r(h),p=n(8),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),m=n(29),g=r(m),y=(n(7),n(3)),b=n(6),w=n(260),x=r(w),k=(t.getValueScale=function(){function e(e,t,n,r,i){var o=e||i;return"log"==o&&t>0?["log",(0,c.scaleLog)().range([254,0]).domain([t+n,r+n])]:("log"==o&&console.warn("Negative values present in data. Defaulting to linear scale: ",t),["linear",(0,c.scaleLinear)().range([254,0]).domain([t,r])])}return e}(),t.TiledPixiTrack=function(e){function t(e,n,r,i,s,l){o(this,t);var u=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));u.visibleTiles=new Set,u.visibleTileIds=new Set,u.fetching=new Set,u.scale={},u.fetchedTiles={};return u.tileGraphics={},u.maxZoom=0,u.medianVisibleValue=null,u.animate=s,u.onValueScaleChanged=l,u.prevValueScale=null,u.dataFetcher=new x.default(n),u.dataFetcher.tilesetInfo(function(e){if(u.tilesetInfo=e,"error"in u.tilesetInfo)return console.warn("Error retrieving tilesetInfo:",n,u.tilesetInfo.error),u.error=u.tilesetInfo.error,u.tilesetInfo=null,u.draw(),void u.animate();u.maxZoom=+u.tilesetInfo.max_zoom,u.options&&u.options.maxZoom&&(u.options.maxZoom>=0?u.maxZoom=Math.min(u.options.maxZoom,u.maxZoom):console.error("Invalid maxZoom on track:",u)),u.refreshTiles(),r&&r(e),u.options||(u.options={}),u.options.name=u.options.name?u.options.name:e.name,u.draw(),u.animate()}),u.uuid=d.default.nice(),u.refreshTilesDebounced=(0,y.debounce)(u.refreshTiles.bind(u),b.ZOOM_DEBOUNCE),u.trackNotFoundText=new v.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"black"}),u.pLabel.addChild(u.trackNotFoundText),u}return s(t,e),l(t,[{key:"rerender",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rerender",this).call(this,e),this.tilesetInfo&&(this.maxZoom=+this.tilesetInfo.max_zoom,this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?this.maxZoom=Math.min(this.options.maxZoom,this.maxZoom):console.error("Invalid maxZoom on track:",this)))}return e}()},{key:"visibleAndFetchedIds",value:function(){function e(){var e=this;return Object.keys(this.fetchedTiles).filter(function(t){return e.visibleTileIds.has(t)})}return e}()},{key:"visibleAndFetchedTiles",value:function(){function e(){var e=this;return this.visibleAndFetchedIds().map(function(t){return e.fetchedTiles[t]})}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map(function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e),mirrored:e.mirrored}}),this.visibleTileIds=new Set(this.visibleTiles.map(function(e){return e.tileId}))}return e}()},{key:"refreshTiles",value:function(){function e(){var e=this;if(this.tilesetInfo){this.calculateVisibleTiles();for(var t=new Set(Object.keys(this.fetchedTiles)),n=[].concat(i(this.visibleTiles)).filter(function(n){return!e.fetching.has(n.remoteId)&&!t.has(n.tileId)}),r=0;r<n.length;r++)this.fetching.add(n[r].remoteId);var o=[].concat(i(t)).filter(function(t){return!e.visibleTileIds.has(t)});this.removeTiles(o),this.fetchNewTiles(n)}}return e}()},{key:"parentInFetched",value:function(){function e(e){for(var t=e.tileData.tilesetUid,n=e.tileData.zoomLevel,r=e.tileData.tilePos;n>0;){n-=1,r=r.map(function(e){return Math.floor(e/2)});if(t+"."+n+"."+r.join(".")in this.fetchedTiles)return!0}return!1}return e}()},{key:"parentTileId",value:function(){function e(e){var t=e.tileData.zoomLevel-1,n=e.tileData.tilePos.map(function(e){return Math.floor(e/2)});return e.tileData.tilesetUid+"."+t+"."+n.join(".")}return e}()},{key:"removeTiles",value:function(){function e(e){var t=this;e.length&&this.areAllVisibleTilesLoaded()&&(e.forEach(function(e){var n=e;t.destroyTile(t.fetchedTiles[n]),n in t.tileGraphics&&(t.pMain.removeChild(t.tileGraphics[n]),delete t.tileGraphics[n]),delete t.fetchedTiles[n]}),this.synchronizeTilesAndGraphics(),this.draw())}return e}()},{key:"zoomed",value:function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.xScale(e),this.yScale(t),this.refreshTilesDebounced(),this.pMobile.position.x=r,this.pMobile.position.y=this.position[1],this.pMobile.scale.x=n,this.pMobile.scale.y=1}return e}()},{key:"setPosition",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e)}return e}()},{key:"setDimensions",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDimensions",this).call(this,e)}return e}()},{key:"areAllVisibleTilesLoaded",value:function(){function e(){for(var e=new Set(Object.keys(this.fetchedTiles)),t=[].concat(i(this.visibleTileIds)),n=0;n<t.length;n++)if(!e.has(t[n]))return!1;return!0}return e}()},{key:"allTilesLoaded",value:function(){function e(){}return e}()},{key:"minValue",value:function(){function e(e){if(!e)return this.scale.minValue;this.scale.minValue=e}return e}()},{key:"maxValue",value:function(){function e(e){if(!e)return this.scale.maxValue;this.scale.maxValue=e}return e}()},{key:"minRawValue",value:function(){function e(){return this.scale.minRawValue}return e}()},{key:"maxRawValue",value:function(){function e(){return this.scale.maxRawValue}return e}()},{key:"initTile",value:function(){function e(e){this.scale.minRawValue=this.minVisibleValue(),this.scale.maxRawValue=this.maxVisibleValue(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue}return e}()},{key:"updateTile",value:function(){function e(e){}return e}()},{key:"destroyTile",value:function(){function e(e){}return e}()},{key:"addMissingGraphics",value:function(){function e(){for(var e=Object.keys(this.fetchedTiles),t=0;t<e.length;t++)if(!(e[t]in this.tileGraphics)){var n=new v.Graphics;this.pMain.addChild(n),this.fetchedTiles[e[t]].graphics=n,this.initTile(this.fetchedTiles[e[t]]),this.tileGraphics[e[t]]=n,!0}}return e}()},{key:"updateExistingGraphics",value:function(){function e(){for(var e=Object.keys(this.fetchedTiles),t=0;t<e.length;t++)this.updateTile(this.fetchedTiles[e[t]])}return e}()},{key:"synchronizeTilesAndGraphics",value:function(){function e(){this.addMissingGraphics(),this.updateExistingGraphics()}return e}()},{key:"loadTileData",value:function(){function e(e,t){var n=this.lruCache.get(e.tileId);return n||(n=t(e.data,e.type),this.lruCache.put(e.tileId,n)),n}return e}()},{key:"fetchNewTiles",value:function(){function e(e){if(e.length>0){var t=[].concat(i(new Set(e.map(function(e){return e.remoteId}))));this.dataFetcher.fetchTilesDebounced(this.receivedTiles.bind(this),t)}}return e}()},{key:"receivedTiles",value:function(){function e(e){for(var t=0;t<this.visibleTiles.length;t++){var n=this.visibleTiles[t].tileId;e[this.visibleTiles[t].remoteId]&&(this.visibleTiles[t].remoteId in e&&(n in this.fetchedTiles||(this.fetchedTiles[n]=this.visibleTiles[t]),this.fetchedTiles[n].tileData=e[this.visibleTiles[t].remoteId],this.fetchedTiles[n].tileData.error&&console.warn("Error in loaded tile",n,this.fetchedTiles[n].tileData)))}new Set(Object.keys(this.fetchedTiles));for(var r in e)if(e[r]){var i=e[r].tilePositionId;this.fetching.has(i)&&this.fetching.delete(i)}this.synchronizeTilesAndGraphics(),this.refreshTiles(),this.options.valueScaling&&this.calculateMedianVisibleValue(),this.draw(),this.valueScale&&(this.prevValueScale&&JSON.stringify(this.valueScale.domain())==JSON.stringify(this.prevValueScale.domain())||(this.prevValueScale=this.valueScale.copy(),this.onValueScaleChanged&&this.onValueScaleChanged())),this.animate()}return e}()},{key:"draw",value:function(){function e(){if(!this.delayDrawing){this.tilesetInfo?this.trackNotFoundText.visible=!1:(this.dataFetcher.tilesetInfoLoading?this.trackNotFoundText.text="Loading...":this.trackNotFoundText.text="Tileset info not found. Server: ["+this.server+"] tilesetUid: ["+this.tilesetUid+"]",this.trackNotFoundText.x=this.position[0],this.trackNotFoundText.y=this.position[1],this.trackNotFoundText.visible=!0),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this);for(var e in this.fetchedTiles)this.drawTile(this.fetchedTiles[e])}}return e}()},{key:"drawTile",value:function(){function e(e,t){}return e}()},{key:"calculateMedianVisibleValue",value:function(){function e(){var e=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var t=this.visibleAndFetchedIds();0===t.length&&(t=Object.keys(this.fetchedTiles));var n=[].concat.apply([],t.filter(function(t){return e.fetchedTiles[t].tileData.dense}).map(function(t){return Array.from(e.fetchedTiles[t].tileData.dense)})).filter(function(e){return e>0});return this.medianVisibleValue=(0,f.median)(n),this.medianVisibleValue}return e}()},{key:"allVisibleValues",value:function(){function e(){var e=this;return[].concat.apply([],this.visibleAndFetchedIds().map(function(t){return Array.from(e.fetchedTiles[t].tileData.dense)}))}return e}()},{key:"minVisibleValue",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds();0==t.length&&(t=Object.keys(this.fetchedTiles));var n=Math.min.apply(null,t.map(function(t){return e.fetchedTiles[t].tileData.minNonZero}).filter(function(e){return e}));return n===Number.MAX_SAFE_INTEGER&&(n=null),n}return e}()},{key:"maxVisibleValue",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds();0===t.length&&(t=Object.keys(this.fetchedTiles));var n=Math.max.apply(null,t.map(function(t){return e.fetchedTiles[t].tileData.maxNonZero}).filter(function(e){return e}));return n===Number.MIN_SAFE_INTEGER&&(n=null),n}return e}()},{key:"makeValueScale",value:function(){function e(e,t,n,r){var i=null;if(r||(r=6),"log"===this.options.valueScaling){var o=t;o||(o=e),i=(0,c.scaleLog)().domain([o,n+o]).range([this.dimensions[1]-r,r]),pseudocount=o}else i=(0,c.scaleLinear)().domain([e,n]).range([this.dimensions[1]-r,r]);return i}return e}()}]),t}(g.default));t.default=k},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={},i=function(){function e(e,t){r[e]&&r[e].forEach(function(e){return e(t)})}return e}(),o=function(){function e(e,t){return r[e]||(r[e]=[]),{event:e,id:r[e].push(t)-1}}return e}(),a=function(){function e(e,t,i){var o=e,a=i;"object"===(void 0===e?"undefined":n(e))?(o=e.event,a=e.id):a=void 0!==i?i:r[o].indexOf(t),r[o]&&(-1===a||a>=r[o].length||r[o].splice(a,1))}return e}(),s={publish:i,subscribe:o,unsubscribe:a};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return-1!==e.indexOf(".")},i=function(e,t,n){var r=e.split("."),i=r[0],o=r[1],a=n||"throw";if(!o){if("throw"===a)throw new Error("Invalid style name.");if("warn"!==a)return null;console.warn("Invalid style name.")}if(!t[i]){if("throw"===a)throw new Error("CSS module import does not exist.");if("warn"!==a)return null;console.warn("CSS module import does not exist.")}if(!t[i][o]){if("throw"===a)throw new Error("CSS module does not exist.");if("warn"!==a)return null;console.warn("CSS module does not exist.")}return t[i][o]};t.default=function(e,t,n){var o=Object.keys(t),a=n&&n.handleMissingStyleName||"throw";return e.split(" ").filter(function(e){return e}).map(function(e){if(r(e))return i(e,t,a);if(0===o.length)throw new Error("Cannot use styleName attribute without importing at least one stylesheet.");if(o.length>1)throw new Error("Cannot use anonymous style name with more than one stylesheet import.");var n=t[o[0]];if(!n[e]){if("throw"===a)throw new Error("Could not resolve the styleName '"+e+"'.");"warn"===a&&console.warn("Could not resolve the styleName '"+e+"'.")}return n[e]}).filter(function(e){return e}).join(" ")}},function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var i,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(i=e[o],o,e),i)}else if(e)for(var s in e)n.set(s,e[s]);return n}n.d(t,"b",function(){return o});var o="$";r.prototype=i.prototype={constructor:r,has:function(e){return o+e in this},get:function(e){return this[o+e]},set:function(e,t){return this[o+e]=t,this},remove:function(e){var t=o+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===o&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===o&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===o&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===o&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===o&&++e;return e},empty:function(){for(var e in this)if(e[0]===o)return!1;return!0},each:function(e){for(var t in this)t[0]===o&&e(this[t],t.slice(1),this)}},t.a=i},function(e,t,n){"use strict";var r=n(99);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36);n.d(t,"dsvFormat",function(){return r.a});var i=n(101);n.d(t,"csvParse",function(){return i.a}),n.d(t,"csvParseRows",function(){return i.b}),n.d(t,"csvFormat",function(){return i.c}),n.d(t,"csvFormatRows",function(){return i.d});var o=n(102);n.d(t,"tsvParse",function(){return o.a}),n.d(t,"tsvParseRows",function(){return o.b}),n.d(t,"tsvFormat",function(){return o.c}),n.d(t,"tsvFormatRows",function(){return o.d})},function(e,t,n){"use strict";function r(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function i(e,t){var n=r(e);return function(r,i){return t(n(r),i,e)}}function o(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}var a={},s={},l=34,u=10,c=13;t.a=function(e){function t(e,t){var o,a,s=n(e,function(e,n){if(o)return o(e,n-1);a=e,o=t?i(e,t):r(e)});return s.columns=a||[],s}function n(e,t){function n(){if(d)return s;if(p)return p=!1,a;var t,n,r=f;if(e.charCodeAt(r)===l){for(;f++<o&&e.charCodeAt(f)!==l||e.charCodeAt(++f)===l;);return(t=f)>=o?d=!0:(n=e.charCodeAt(f++))===u?p=!0:n===c&&(p=!0,e.charCodeAt(f)===u&&++f),e.slice(r+1,t-1).replace(/""/g,'"')}for(;f<o;){if((n=e.charCodeAt(t=f++))===u)p=!0;else if(n===c)p=!0,e.charCodeAt(f)===u&&++f;else if(n!==m)continue;return e.slice(r,t)}return d=!0,e.slice(r,o)}var r,i=[],o=e.length,f=0,h=0,d=o<=0,p=!1;for(e.charCodeAt(o-1)===u&&--o,e.charCodeAt(o-1)===c&&--o;(r=n())!==s;){for(var v=[];r!==a&&r!==s;)v.push(r),r=n();t&&null==(v=t(v,h++))||i.push(v)}return i}function f(t,n){return null==n&&(n=o(t)),[n.map(p).join(e)].concat(t.map(function(t){return n.map(function(e){return p(t[e])}).join(e)})).join("\n")}function h(e){return e.map(d).join("\n")}function d(t){return t.map(p).join(e)}function p(e){return null==e?"":v.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}var v=new RegExp('["'+e+"\n\r]"),m=e.charCodeAt(0);return{parse:t,parseRows:n,format:f,formatRows:h}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38);n.d(t,"request",function(){return r.a});var i=n(107);n.d(t,"html",function(){return i.a});var o=n(108);n.d(t,"json",function(){return o.a});var a=n(109);n.d(t,"text",function(){return a.a});var s=n(111);n.d(t,"xml",function(){return s.a});var l=n(106);n.d(t,"csv",function(){return l.a});var u=n(110);n.d(t,"tsv",function(){return u.a})},function(e,t,n){"use strict";function r(e){return function(t,n){e(null==t?n:null)}}function i(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}var o=n(69),a=n(34);t.a=function(e,t){function s(e){var t,n=p.status;if(!n&&i(p)||n>=200&&n<300||304===n){if(c)try{t=c.call(l,p)}catch(e){return void h.call("error",l,e)}else t=p;h.call("load",l,t)}else h.call("error",l,e)}var l,u,c,f,h=n.i(a.a)("beforesend","progress","load","error"),d=n.i(o.a)(),p=new XMLHttpRequest,v=null,m=null,g=0;if("undefined"==typeof XDomainRequest||"withCredentials"in p||!/^(http(s)?:)?\/\//.test(e)||(p=new XDomainRequest),"onload"in p?p.onload=p.onerror=p.ontimeout=s:p.onreadystatechange=function(e){p.readyState>3&&s(e)},p.onprogress=function(e){h.call("progress",l,e)},l={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?d.get(e):(null==t?d.remove(e):d.set(e,t+""),l)},mimeType:function(e){return arguments.length?(u=null==e?null:e+"",l):u},responseType:function(e){return arguments.length?(f=e,l):f},timeout:function(e){return arguments.length?(g=+e,l):g},user:function(e){return arguments.length<1?v:(v=null==e?null:e+"",l)},password:function(e){return arguments.length<1?m:(m=null==e?null:e+"",l)},response:function(e){return c=e,l},get:function(e,t){return l.send("GET",e,t)},post:function(e,t){return l.send("POST",e,t)},send:function(t,n,i){return p.open(t,e,!0,v,m),null==u||d.has("accept")||d.set("accept",u+",*/*"),p.setRequestHeader&&d.each(function(e,t){p.setRequestHeader(t,e)}),null!=u&&p.overrideMimeType&&p.overrideMimeType(u),null!=f&&(p.responseType=f),g>0&&(p.timeout=g),null==i&&"function"==typeof n&&(i=n,n=null),null!=i&&1===i.length&&(i=r(i)),null!=i&&l.on("error",i).on("load",function(e){i(null,e)}),h.call("beforesend",l,p),p.send(null==n?null:n),l},abort:function(){return p.abort(),l},on:function(){var e=h.on.apply(h,arguments);return e===h?l:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return l.get(t)}return l}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=Array.prototype,i=r.map,o=r.slice},function(e,t){e.exports={"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},function(e,t,n){function r(e){return null==e?void 0===e?l:s:u&&u in Object(e)?o(e):a(e)}var i=n(46),o=n(573),a=n(602),s="[object Null]",l="[object Undefined]",u=i?i.toStringTag:void 0;e.exports=r},function(e,t,n){function r(e,t){var n=o(e,t);return i(n)?n:void 0}var i=n(539),o=n(574);e.exports=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.a=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(384);n.d(t,"formatDefaultLocale",function(){return r.a}),n.d(t,"format",function(){return r.b}),n.d(t,"formatPrefix",function(){return r.c});var i=n(179);n.d(t,"formatLocale",function(){return i.a});var o=n(177);n.d(t,"formatSpecifier",function(){return o.a});var a=n(390);n.d(t,"precisionFixed",function(){return a.a});var s=n(391);n.d(t,"precisionPrefix",function(){return s.a});var l=n(392);n.d(t,"precisionRound",function(){return l.a})},function(e,t,n){var r=n(18),i=r.Symbol;e.exports=i},function(e,t,n){function r(e){return null!=e&&o(e.length)&&!i(e)}var i=n(231),o=n(141);e.exports=r},function(e,t,n){function r(e){return a(e)?i(e):o(e)}var i=n(210),o=n(542),a=n(47);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=t.SortableHandle=t.SortableElement=t.SortableContainer=void 0;var i=n(244);Object.defineProperty(t,"arrayMove",{enumerable:!0,get:function(){return i.arrayMove}});var o=n(693),a=r(o),s=n(694),l=r(s),u=n(695),c=r(u);t.SortableContainer=a.default,t.SortableElement=l.default,t.SortableHandle=c.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenuContainer=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),u=r(l),c=n(0),f=r(c),h=n(11),d=r(h);n(40);var p=20,v=t.ContextMenuContainer=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.adjusted=!1,n.state={orientation:n.props.orientation?n.props.orientation:"right",left:n.props.position.left,top:n.props.position.top,submenuShown:null},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){this.updateOrientation()}return e}()},{key:"componentWillReceiveProps",value:function(){function e(e){this.adjusted=!1,this.setState({left:e.position.left,top:e.position.top})}return e}()},{key:"componentDidUpdate",value:function(){function e(){this.updateOrientation()}return e}()},{key:"handleItemMouseEnterWithRect",value:function(){function e(e,t){this.setState({submenuShown:t,submenuSourceBbox:e})}return e}()},{key:"handleItemMouseEnter",value:function(){function e(e,t){this.handleItemMouseEnterWithRect(e.currentTarget.getBoundingClientRect(),t)}return e}()},{key:"handleMouseLeave",value:function(){function e(){}return e}()},{key:"handleOtherMouseEnter",value:function(){function e(){this.setState({submenuShown:null})}return e}()},{key:"updateOrientation",value:function(){function e(){if(!this.adjusted){this.adjusted=!0,this.divDom=d.default.findDOMNode(this.div);var e=this.divDom.getBoundingClientRect(),t=this.props.parentBbox?this.props.parentBbox:{top:this.props.position.top,left:this.props.position.left,width:0,height:0},n=this.state.orientation,r=t.top;if(t.top+e.height>window.innerHeight&&t.top-e.height>0&&(r=t.top-e.height+p),"left"===this.state.orientation){var i=t.left-e.width;i<0&&(t.left+t.width+e.width>window.innerWidth?i=0:(i=t.left+t.width,n="right")),this.setState({left:i,top:r,orientation:n})}else{var o=t.left+t.width;t.left+t.width+e.width>window.innerWidth&&(t.left-e.width<0?(o=0,n="right"):(o=t.left-e.width,n="left")),this.setState({left:o,top:r,orientation:n})}}}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.state.left?{left:this.state.left}:{right:this.state.right},n={top:this.state.top},r=Object.assign(t,n);return f.default.createElement("div",{className:"context-menu-item ContextMenu-module_context-menu-2OwvL",ref:function(){function t(t){return e.div=t}return t}(),style:r},this.props.children)}return e}()}]),t}(f.default.Component);v.propTypes={children:u.default.node,orientation:u.default.string,parentBbox:u.default.object,position:u.default.object},t.default=v},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenuItem=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),u=r(l),c=n(0),f=r(c);n(40);var h=t.ContextMenuItem=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"componentWillUnmount",value:function(){function e(){}return e}()},{key:"render",value:function(){function e(){var e=this;return f.default.createElement("div",{onClick:function(){function t(t){return e.props.onClick(t)}return t}(),onMouseEnter:function(){function t(t){return e.props.onMouseEnter&&e.props.onMouseEnter(t)}return t}(),onMouseLeave:function(){function t(t){return e.props.onMouseLeave&&e.props.onMouseLeave(t)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},this.props.children))}return e}()}]),t}(f.default.Component);h.propTypes={children:u.default.node,onClick:u.default.func,onMouseEnter:u.default.func,onMouseLeave:u.default.func},t.default=h},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(150),l=n(7),u=n(64),c=function(e){function t(e,n,o,a,s,l){r(this,t);var c=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,l));return c.axis=new u.AxisPixi(c),c.pBase.addChild(c.axis.pAxis),c}return o(t,e),a(t,[{key:"calculateZoomLevel",value:function(){function e(){var e=l.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])-2,t=Math.min(e,this.maxZoom);return t=Math.max(t,0)}return e}()},{key:"relevantScale",value:function(){function e(){return this._xScale}return e}()},{key:"drawAxis",value:function(){function e(e){return this.options.axisPositionVertical||this.options.axisPositionHorizontal?this.options.axisPositionVertical&&"hidden"===this.options.axisPositionVertical?void this.axis.clearAxis():this.options.axisPositionHorizontal&&"hidden"===this.options.axisPositionHorizontal?void this.axis.clearAxis():void("left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0],this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(e,this.dimensions[1])):"outsideLeft"===this.options.axisPositionHorizontal||"outsideTop"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0],this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(e,this.dimensions[1])):"right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0],this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(e,this.dimensions[1])):"outsideRight"!==this.options.axisPositionHorizontal&&"outsideBottom"!==this.options.axisPositionVertical||(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0],this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(e,this.dimensions[1]))):void this.axis.clearAxis()}return e}()}]),t}(s.Tiled1DPixiTrack);t.default=c},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SVGTrack=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=n(10),c=r(u),f=n(88),h=r(f),d=t.SVGTrack=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.gMain=(0,l.select)(e).append("g"),n.clipUid=c.default.nice(),n.clipRect=n.gMain.append("clipPath").attr("id","track-bounds-"+n.clipUid).append("rect"),n.gMain.attr("clip-path","url(#track-bounds-"+n.clipUid+")"),n}return a(t,e),s(t,[{key:"setPosition",value:function(){function e(e){this.position=e,this.gMain.attr("transform","translate("+this.position[0]+","+this.position[1]+")"),this.draw()}return e}()},{key:"setDimensions",value:function(){function e(e){this.dimensions=e,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]]),e[0]>=0&&e[1]>=0?(this.clipRect.attr("width",e[0]),this.clipRect.attr("height",e[1])):(this.clipRect.attr("width",0),this.clipRect.attr("height",0)),this.draw()}return e}()},{key:"remove",value:function(){function e(){this.gMain.remove(),this.gMain=null}return e}()},{key:"draw",value:function(){function e(){return this}return e}()}]),t}(h.default);t.default=d},function(e,t,n){"use strict";t.a=function(e){return null===e?NaN:+e}},function(e,t,n){"use strict";function r(e,t){return function(n){return e+n*t}}function i(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function o(e,t){var i=t-e;return i?r(e,i>180||i<-180?i-360*Math.round(i/360):i):n.i(l.a)(isNaN(e)?t:e)}function a(e){return 1==(e=+e)?s:function(t,r){return r-t?i(t,r,e):n.i(l.a)(isNaN(t)?r:t)}}function s(e,t){var i=t-e;return i?r(e,i):n.i(l.a)(isNaN(e)?t:e)}t.b=o,t.c=a,t.a=s;var l=n(182)},function(e,t,n){"use strict";function r(e,t){return function(n){return e(n.responseText,t)}}var i=n(38);t.a=function(e,t){return function(o,a,s){arguments.length<3&&(s=a,a=null);var l=n.i(i.a)(o).mimeType(e);return l.row=function(e){return arguments.length?l.response(r(t,a=e)):a},l.row(a),s?l.get(s):l}}},function(e,t,n){"use strict";t.a=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})}},function(e,t,n){"use strict";function r(e){var t=e.domain;return e.ticks=function(e){var r=t();return n.i(o.ticks)(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){return n.i(l.a)(t(),e,r)},e.nice=function(r){null==r&&(r=10);var i,a=t(),s=0,l=a.length-1,u=a[s],c=a[l];return c<u&&(i=u,u=c,c=i,i=s,s=l,l=i),i=n.i(o.tickIncrement)(u,c,r),i>0?(u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i,i=n.i(o.tickIncrement)(u,c,r)):i<0&&(u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i,i=n.i(o.tickIncrement)(u,c,r)),i>0?(a[s]=Math.floor(u/i)*i,a[l]=Math.ceil(c/i)*i,t(a)):i<0&&(a[s]=Math.ceil(u*i)/i,a[l]=Math.floor(c*i)/i,t(a)),e},e}function i(){var e=n.i(s.a)(s.b,a.a);return e.copy=function(){return n.i(s.c)(e,i())},r(e)}t.b=r,t.a=i;var o=n(9),a=n(20),s=n(72),l=n(420)},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e){return"symbol"==typeof e||o(e)&&i(e)==a}var i=n(41),o=n(24),a="[object Symbol]";e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=0,n=void 0,r=0,i=e.length;r<i;r++)(n=e[r].y+e[r].h)>t&&(t=n);return t}function o(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=a(e[n]);return t}function a(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable}}function s(e,t){return(0,A.default)(R.default.Children.map(e,function(e){return e.key}),R.default.Children.map(t,function(e){return e.key}))}function l(e,t){return e!==t&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function u(e,t,n){for(var r=m(e),i=k(e,t),o=Array(e.length),s=0,l=i.length;s<l;s++){var u=a(i[s]);u.static||(u=f(r,u,t,n,i),r.push(u)),o[e.indexOf(i[s])]=u,u.moved=!1}return o}function c(e,t,n,r){var i=L[r];t[r]+=1;for(var o=e.indexOf(t),a=o+1;a<e.length;a++){var s=e[a];if(!s.static){if(s.y>t.y+t.h)break;l(t,s)&&c(e,s,n+t[i],r)}}t[r]=n}function f(e,t,n,r,o){var a="vertical"===n,s="horizontal"===n;if(a)for(t.y=Math.min(i(e),t.y);t.y>0&&!p(e,t);)t.y--;else if(s)for(t.y=Math.min(i(e),t.y);t.x>0&&!p(e,t);)t.x--;for(var l=void 0;l=p(e,t);)s?c(o,t,l.x+l.w,"x"):c(o,t,l.y+l.h,"y"),s&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function h(e,t){for(var n=m(e),r=0,i=e.length;r<i;r++){var o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;p(n,o);)o.y++;else n.push(o)}return e}function d(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function p(e,t){for(var n=0,r=e.length;n<r;n++)if(l(e[n],t))return e[n]}function v(e,t){return e.filter(function(e){return l(e,t)})}function m(e){return e.filter(function(e){return e.static})}function g(e,t,n,r,i,o,a,s){if(t.static)return e;if(t.y===r&&t.x===n)return e;P("Moving element "+t.i+" to ["+String(n)+","+String(r)+"] from ["+t.x+","+t.y+"]");var l=t.x,u=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var c=k(e,a);("vertical"===a&&"number"==typeof r?u>=r:"horizontal"===a&&"number"==typeof n&&l>=n)&&(c=c.reverse());var f=v(c,t);if(o&&f.length)return P("Collision prevented on "+t.i+", reverting."),t.x=l,t.y=u,t.moved=!1,e;for(var h=0,d=f.length;h<d;h++){var p=f[h];P("Resolving collision between "+t.i+" at ["+t.x+","+t.y+"] and "+p.i+" at ["+p.x+","+p.y+"]"),p.moved||(e=p.static?y(e,p,t,i,a,s):y(e,t,p,i,a,s))}return e}function y(e,t,n,r,i,o){var a="horizontal"===i,s="vertical"===i;if(r){r=!1;var l={x:a?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!p(e,l))return P("Doing reverse collision on "+n.i+" up to ["+l.x+","+l.y+"]."),g(e,n,a?l.x:void 0,s?l.y:void 0,r,!1,i,o)}return g(e,n,a?n.x+1:void 0,s?n.y+1:void 0,r,!1,i,o)}function b(e){return 100*e+"%"}function w(e){var t=e.top,n=e.left,r=e.width,i=e.height,o="translate("+n+"px,"+t+"px)";return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:r+"px",height:i+"px",position:"absolute"}}function x(e){return{top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px",position:"absolute"}}function k(e,t){return"horizontal"===t?S(e):_(e)}function _(e){return[].concat(e).sort(function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1})}function S(e){return[].concat(e).sort(function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1})}function T(e,t,n,r){e=e||[];var o=[];return R.default.Children.forEach(t,function(t,n){var r=d(e,String(t.key));if(r)o[n]=a(r);else{!I&&t.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var s=t.props["data-grid"]||t.props._grid;s?(I||O([s],"ReactGridLayout.children"),o[n]=a(E({},s,{i:t.key}))):o[n]=a({w:1,h:1,x:0,y:i(o),i:String(t.key)})}}),o=h(o,{cols:n}),o=u(o,r,n)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,i=e.length;r<i;r++){for(var o=e[r],a=0;a<n.length;a++)if("number"!=typeof o[n[a]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[a]+" must be a number!");if(o.i&&"string"!=typeof o.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==o.static&&"boolean"!=typeof o.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}}function C(e,t){t.forEach(function(t){return e[t]=e[t].bind(e)})}function P(){var e;D&&(e=console).log.apply(e,arguments)}t.__esModule=!0,t.noop=void 0;var E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.bottom=i,t.cloneLayout=o,t.cloneLayoutItem=a,t.childrenEqual=s,t.collides=l,t.compact=u,t.compactItem=f,t.correctBounds=h,t.getLayoutItem=d,t.getFirstCollision=p,t.getAllCollisions=v,t.getStatics=m,t.moveElement=g,t.moveElementAwayFromCollision=y,t.perc=b,t.setTransform=w,t.setTopLeft=x,t.sortLayoutItems=k,t.sortLayoutItemsByRowCol=_,t.sortLayoutItemsByColRow=S,t.synchronizeLayoutWithChildren=T,t.validateLayout=O,t.autoBindHandlers=C;var M=n(125),A=r(M),j=n(0),R=r(j),I=!0,D=!1,L={x:"w",y:"h"};t.noop=function(){}},function(e,t){e.exports=r},function(e,t,n){function r(e){for(var t=Number.MAX_SAFE_INTEGER,n=0;n<e.length;n++){var r=e[n];r<v&&r>-v||r<t&&(t=r)}return t}function i(e){for(var t=Number.MIN_SAFE_INTEGER,n=0;n<e.length;n++){var r=e[n];r<v&&r>-v||r>t&&(t=r)}return t}function o(e,t,n,r,i,o){var a=new Uint8ClampedArray(4*e),s=0,l=0;try{for(var u=0;u<t.length;u++){var c=t[u];l=c,s=255,c>1e-6&&(s=Math.max(0,Math.min(254,Math.floor(n(c+r))))),(s<0||s>255)&&console.warn("out of bounds rgbIdx:",s," (should be 0 <= rgbIdx <= 255)");var f=i[s];a[4*u]=f[0],a[4*u+1]=f[1],a[4*u+2]=f[2],a[4*u+3]=f[3]}}catch(e){return console.warn("Odd datapoint"),console.warn("valueScale.domain():",n.domain()),console.warn("pseudocount:",r),console.warn("rgbIdx:",s,"d:",l,"ct:",n(l)),console.error("ERROR:",e),a}return a}function a(e,t){p.default.publish("requestSent",e),(0,h.json)(e,function(n,r){p.default.publish("requestReceived",e),n||t(r)})}function s(e){var t=void 0,n=void 0,r=void 0;return t=32767&e,n=32768&e,r=31744&e,t<<=13,n<<=16,t+=939524096,t=0===r?0:t,t|=n}function l(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r.buffer}function u(e){for(var t=new Uint32Array(e.length),n=0;n<e.length;n++)t[n]=s(e[n]);return new Float32Array(t.buffer)}function c(e,t,n,r){for(var i=[],o=(function(){function r(r){var o=t.slice(r,r+Math.min(t.length-r,m)),a=o.map(function(e){return"d="+e}).join("&"),s=e+"/tiles/?"+a+"&s="+n,u=new Promise(function(e,t){p.default.publish("requestSent",s),(0,h.json)(s,function(t,n){if(p.default.publish("requestReceived",s),t)e({});else{for(var r in n){var i=r.split(".");if(n[r].tileId=r,n[r].zoomLevel=+i[1],n[r].tilePos=i.slice(2,i.length).map(function(e){return+e}),n[r].tilesetUid=i[0],"dense"in n[r]){var o=l(n[r].dense),a=_float16ArrayToFloat32Array(o),u=new Float32Array(a),c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;n[r].dense=u;for(var h=0;h<u.length;h++){var d=u[h];d<v&&d>-v||(d<c&&(c=d),d>f&&(f=d))}n[r].minNonZero=c,n[r].maxNonZero=f}}e(n)}})});i.push(u)}return r}()),a=0;a<t.length;a+=m)o(a);Promise.all(i).then(function(e){for(var t=1;t<e.length;t++)for(var n in e[t])e[0][n]=e[t][n];r(e[0])})}function f(e){var t=e.sessionId,n=e.requests,o=[],a={},s=!0,c=!1,f=void 0;try{for(var d,v=n[Symbol.iterator]();!(s=(d=v.next()).done);s=!0){var g=d.value;a[g.server]||(a[g.server]={});var y=!0,b=!1,w=void 0;try{for(var x,k=g.ids[Symbol.iterator]();!(y=(x=k.next()).done);y=!0){var _=x.value;a[g.server][_]=!0}}catch(e){b=!0,w=e}finally{try{!y&&k.return&&k.return()}finally{if(b)throw w}}}}catch(e){c=!0,f=e}finally{try{!s&&v.return&&v.return()}finally{if(c)throw f}}var S=Object.keys(a),T=!0,O=!1,C=void 0;try{for(var P,E=(function(){function e(){for(var e=P.value,n=Object.keys(a[e]),s=(function(){function a(a){var s=n.slice(a,a+Math.min(n.length-a,m)),c=s.map(function(e){return"d="+e}).join("&"),f=e+"/tiles/?"+c+"&s="+t,d=new Promise(function(t,n){p.default.publish("requestSent",f),(0,h.json)(f,function(n,o){p.default.publish("requestReceived",f),o||(o={}),n&&console.warn("Error fetching data:",n);var a=!0,c=!1,h=void 0;try{for(var d,v=s[Symbol.iterator]();!(a=(d=v.next()).done);a=!0){var m=d.value;m in o||(o[m]={});var g=m,y=g.split(".");if(o[g].server=e,o[g].tileId=g,o[g].zoomLevel=+y[1],o[g].tilePos=y.slice(2,y.length).map(function(e){return+e}),o[g].tilesetUid=y[0],n)o[g].error=n;else if("dense"in o[g]){var b=l(o[g].dense),w=void 0;if("float16"==o[g].dtype){var x=new Uint16Array(b),k=u(x);w=k}else w=new Float32Array(b);o[g].dense=w,o[g].minNonZero=r(w),o[g].maxNonZero=i(w)}}}catch(e){c=!0,h=e}finally{try{!a&&v.return&&v.return()}finally{if(c)throw h}}t(o)})});o.push(d)}return a}()),c=0;c<n.length;c+=m)s(c)}return e}()),M=S[Symbol.iterator]();!(T=(P=M.next()).done);T=!0)E()}catch(e){O=!0,C=e}finally{try{!T&&M.return&&M.return()}finally{if(O)throw C}}Promise.all(o).then(function(e){var t={},r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,u=Object.keys(l),c=!0,f=!1,h=void 0;try{for(var d,p=u[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var v=d.value;t[l[v].server+"/"+v]=l[v]}}catch(e){f=!0,h=e}finally{try{!c&&p.return&&p.return()}finally{if(f)throw h}}}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}var m=!0,g=!1,y=void 0;try{for(var b,w=n[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){var x=b.value,k={},_=x.server,S=!0,T=!1,O=void 0;try{for(var C,P=x.ids[Symbol.iterator]();!(S=(C=P.next()).done);S=!0){var E=C.value;k[E]=t[_+"/"+E]}}catch(e){T=!0,O=e}finally{try{!S&&P.return&&P.return()}finally{if(T)throw O}}x.done(k)}}catch(e){g=!0,y=e}finally{try{!m&&w.return&&w.return()}finally{if(g)throw y}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.minNonZero=r,t.maxNonZero=i,t.workerSetPix=o,t.workerGetTilesetInfo=a,t.workerFetchTiles=c,t.workerFetchMultiRequestTiles=f;var h=n(37),d=n(31),p=function(e){return e&&e.__esModule?e:{default:e}}(d),v=1e-7,m=20},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AxisPixi=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(45),a=n(8),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),l=40,u=0,c=5,f=4,h=t.AxisPixi=function(){function e(t){r(this,e),this.pAxis=new s.Graphics,this.track=t,this.axisTexts=[],this.axisTextFontFamily="Arial",this.axisTextFontSize=10,this.tickFormat=(0,o.format)(".2")}return i(e,[{key:"startAxis",value:function(){function e(e){var t=this.pAxis;t.clear(),t.lineStyle(1,0,1),t.moveTo(0,0),t.lineTo(0,e)}return e}()},{key:"createAxisTexts",value:function(){function e(e,t){this.tickValues=this.calculateAxisTickValues(e,t);for(var n=0;n<this.tickValues.length;){for(var r=this.tickValues[n];this.axisTexts.length<=n;){var i=new s.Text(r,{fontSize:this.axisTextFontSize+"px",fontFamily:this.axisTextFontFamily,fill:"black"});this.axisTexts.push(i),this.pAxis.addChild(i)}for(;this.axisTexts.length>n+1;){var o=this.axisTexts.pop();this.pAxis.removeChild(o)}this.axisTexts[n].text=this.tickFormat(r),this.axisTexts[n].anchor.y=.5,this.axisTexts[n].anchor.x=.5,n++}}return e}()},{key:"calculateAxisTickValues",value:function(){function e(e,t){var n=Math.max(Math.ceil(t/l),1),r=e.ticks(n);return r.length<1&&(r=e.ticks(n+1),r.length>1&&(r=[r[0]])),r}return e}()},{key:"drawAxisLeft",value:function(){function e(e,t){this.startAxis(this.pAxis,t),this.createAxisTexts(e,t);var n=this.pAxis;n.moveTo(0,0),n.lineTo(-(u+c),0),n.moveTo(0,t),n.lineTo(-(u+c),t);for(var r=0;r<this.axisTexts.length;r++){var i=this.tickValues[r];this.axisTexts[r].x=-(u+c+f+this.axisTexts[r].width/2),this.axisTexts[r].y=e(i),n.moveTo(-u,e(i)),n.lineTo(-(u+c),e(i)),this.track&&this.track.flipText&&(this.axisTexts[r].scale.x=-1)}this.hideOverlappingAxisLabels()}return e}()},{key:"drawAxisRight",value:function(){function e(e,t){this.startAxis(t),this.createAxisTexts(e,t);var n=this.pAxis;n.moveTo(0,0),n.lineTo(u+c,0),n.moveTo(0,t),n.lineTo(u+c,t);for(var r=0;r<this.axisTexts.length;r++){var i=this.tickValues[r];this.axisTexts[r].x=u+c+f+this.axisTexts[r].width/2,this.axisTexts[r].y=e(i),n.moveTo(u,e(i)),n.lineTo(u+c,e(i)),this.track&&this.track.flipText&&(this.axisTexts[r].scale.x=-1)}this.hideOverlappingAxisLabels()}return e}()},{key:"hideOverlappingAxisLabels",value:function(){function e(){for(var e=this.axisTexts.length-1;e>=0;e--)this.axisTexts[e].visible=!0;for(var t=this.axisTexts.length-1;t>=0;t--)if(this.axisTexts[t].visible)for(var n=t-1;n>=0&&this.axisTexts[t].y+this.axisTexts[t].height/2>this.axisTexts[n].y-this.axisTexts[n].height/2;)this.axisTexts[n].visible=!1,n-=1}return e}()},{key:"exportVerticalAxis",value:function(){function e(e){var t=document.createElement("g");t.setAttribute("class","axis-vertical");this.track&&(this.track.options.lineStrokeColor&&this.track.options.lineStrokeColor);var n=document.createElement("path");return n.setAttribute("fill","transparent"),n.setAttribute("stroke","black"),n.setAttribute("id","axis-line"),n.setAttribute("d","M0,0 L0,"+e),t.appendChild(n),t}return e}()},{key:"createAxisSVGLine",value:function(){function e(){var e="black";this.track&&(e=this.track.options.lineStrokeColor?this.track.options.lineStrokeColor:"blue");var t=document.createElement("path");return t.setAttribute("id","tick-mark"),t.setAttribute("fill","transparent"),t.setAttribute("stroke",e),t}return e}()},{key:"createAxisSVGText",value:function(){function e(e){var t=document.createElement("text");return t.innerHTML=e,t.setAttribute("id","axis-text"),t.setAttribute("text-anchor","middle"),t.setAttribute("font-family",this.axisTextFontFamily),t.setAttribute("font-size",this.axisTextFontSize),t.setAttribute("dy",this.axisTextFontSize/2-2),t}return e}()},{key:"exportAxisLeftSVG",value:function(){function e(e,t){var n=this.exportVerticalAxis(t),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L"+-(u+c)+",0");for(var i=0;i<this.axisTexts.length;i++){var o=this.tickValues[i],a=this.axisTexts[i],s=this.createAxisSVGLine();n.appendChild(s),s.setAttribute("d","M"+-u+","+e(o)+" L"+-(u+c)+","+e(o));var l=document.createElement("g");if(n.appendChild(l),a.visible){var f=this.createAxisSVGText(a.text);l.appendChild(f)}l.setAttribute("transform","translate("+a.position.x+","+a.position.y+")\n             scale("+a.scale.x+","+a.scale.y+")")}return n}return e}()},{key:"exportAxisRightSVG",value:function(){function e(e,t){var n=this.exportVerticalAxis(t),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L"+(u+c)+",0");for(var i=0;i<this.axisTexts.length;i++){var o=this.tickValues[i],a=this.axisTexts[i],s=this.createAxisSVGLine();n.appendChild(s),s.setAttribute("d","M"+u+","+e(o)+" L"+(u+c)+","+e(o));var l=document.createElement("g");if(n.appendChild(l),a.visible){var f=this.createAxisSVGText(a.text);l.appendChild(f)}l.setAttribute("transform","translate("+a.position.x+","+a.position.y+")\n             scale("+a.scale.x+","+a.scale.y+")")}return n}return e}()},{key:"clearAxis",value:function(){function e(){for(var e=this.pAxis;this.axisTexts.length;){var t=this.axisTexts.pop();e.removeChild(t)}e.clear()}return e}()}]),e}();t.default=h},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HeatmapTiledPixiTrack=void 0;var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),u=n(25),c=n(12),f=n(4),h=n(8),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),p=n(30),v=n(64),m=n(7),g=n(3),y=n(6),b=200,w=10,x=40,k=10,_=k,S=4,T=1,O=4,C=5,P=256,E=t.HeatmapTiledPixiTrack=function(e){function t(e,n,o,a,s,l,u,c){r(this,t);var h=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,u));return h.onTrackOptionsChanged=c,h.pColorbarArea=new d.Graphics,h.pMasked.addChild(h.pColorbarArea),h.pColorbar=new d.Graphics,h.pColorbarArea.addChild(h.pColorbar),h.axis=new v.AxisPixi(h),h.pColorbarArea.addChild(h.axis.pAxis),h.colorScale=y.heatedObjectMap,a&&a.colorRange&&(h.colorScale=(0,g.colorDomainToRgbaArray)(a.colorRange)),h.gBase=(0,f.select)(l).append("g"),h.gMain=h.gBase.append("g"),h.gColorscaleBrush=h.gMain.append("g"),h.brushing=!1,h.prevOptions="",h}return o(t,e),s(t,[{key:"setPosition",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e)}return e}()},{key:"rerender",value:function(){function e(e,n){var r=JSON.stringify(e);if(n||r!==this.prevOptions){this.prevOptions=r,l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rerender",this).call(this,e,n),this.calculateVisibleTiles(),e&&e.colorRange&&(this.colorScale=(0,g.colorDomainToRgbaArray)(e.colorRange));var i=!0,o=!1,a=void 0;try{for(var s,u=this.visibleAndFetchedTiles()[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;this.renderTile(c)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}this.drawColorbar()}}return e}()},{key:"tileDataToCanvas",value:function(){function e(e){var t=document.createElement("canvas");t.width=256,t.height=256;var n=t.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height);var r=new ImageData(e,t.width,t.height);return n.putImageData(r,0,0),t}return e}()},{key:"exportData",value:function(){function e(){}return e}()},{key:"setSpriteProperties",value:function(){function e(e,t,n,r){var i=this.getTilePosAndDimensions(t,n),o=i.tileX,a=i.tileY,s=i.tileWidth,l=i.tileHeight,u=o+s,c=a+l,f=this._refXScale(u)-this._refXScale(o),h=this._refYScale(c)-this._refYScale(a);e.width=this._refXScale(u)-this._refXScale(o),e.height=this._refYScale(c)-this._refYScale(a),r?(e.x=this._refXScale(a),e.y=this._refYScale(o),e.rotation=-Math.PI/2,e.scale.x=-1*Math.abs(e.scale.x),e.width=h,e.height=f):(e.x=this._refXScale(o),e.y=this._refYScale(a))}return e}()},{key:"refXScale",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refXScale",this).call(this,e),this.draw()}return e}()},{key:"refYScale",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refYScale",this).call(this,e),this.draw()}return e}()},{key:"draw",value:function(){function e(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this),this.drawColorbar()}return e}()},{key:"newBrushOptions",value:function(){function e(e){var t=JSON.parse(JSON.stringify(this.options)),n=this.valueScale.copy().range([this.colorbarHeight,0]),r=n.invert(e[0]),i=n.invert(e[1]),o=(i-n.domain()[0])/(n.domain()[1]-n.domain()[0]),a=(r-n.domain()[0])/(n.domain()[1]-n.domain()[0]);return t.scaleStartPercent=o.toFixed(C),t.scaleEndPercent=a.toFixed(C),t}return e}()},{key:"brushStart",value:function(){function e(){this.brushing=!0}return e}()},{key:"brushMoved",value:function(){function e(){if(f.event.selection){var e=this.newBrushOptions(f.event.selection),t=JSON.stringify(e);this.gColorscaleBrush.selectAll(".handle--custom").attr("y",function(e){return"n"===e.type?f.event.selection[0]:f.event.selection[1]-S/2}),t!==this.prevOptions&&(this.prevOptions=t,this.rerender(e,!0),this.onTrackOptionsChanged(e),this.onValueScaleChanged())}}return e}()},{key:"brushEnd",value:function(){function e(){this.brushing=!1}return e}()},{key:"drawColorbar",value:function(){function e(){if(this.pColorbar.clear(),!this.options.colorbarPosition||"hidden"===this.options.colorbarPosition)return this.pColorbarArea.visible=!1,this.scaleBrush&&this.gColorscaleBrush.call(this.scaleBrush.move,null),this.gColorscaleBrush.on(".brush",null),void this.gColorscaleBrush.selectAll("rect").remove();if(this.pColorbarArea.visible=!0,this.valueScale&&!isNaN(this.valueScale.domain()[0])&&!isNaN(this.valueScale.domain()[1])){var e=Math.min(this.dimensions[1]/2,b);if(this.colorbarHeight=e-2*k,!(this.colorbarHeight<0)){var t=w+x+k+T+_+O,n=this.valueScale.copy().range([this.colorbarHeight,0]);this.scaleBrush=(0,u.brushY)(),"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.scaleBrush.extent([[O,0],[_,this.colorbarHeight]]):this.scaleBrush.extent([[0,0],[_-O,this.colorbarHeight]]),"topLeft"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0],this.pColorbarArea.y=this.position[1],this.pColorbar.y=k,this.axis.pAxis.y=k,this.axis.pAxis.x=O+_+T+w,this.pColorbar.x=O+_+T,this.gColorscaleBrush.attr("transform","translate("+(this.pColorbarArea.x+O)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"topRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-t,this.pColorbarArea.y=this.position[1],this.pColorbar.y=k,this.axis.pAxis.y=k,this.axis.pAxis.x=x+k,this.pColorbar.x=x+k,this.gColorscaleBrush.attr("transform","translate("+(this.pColorbarArea.x+this.pColorbar.x+w+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"bottomRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-t,this.pColorbarArea.y=this.position[1]+this.dimensions[1]-e,this.pColorbar.y=k,this.axis.pAxis.y=k,this.axis.pAxis.x=x+k,this.pColorbar.x=x+k,this.gColorscaleBrush.attr("transform","translate("+(this.pColorbarArea.x+this.pColorbar.x+w+T)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"bottomLeft"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0],this.pColorbarArea.y=this.position[1]+this.dimensions[1]-e,this.pColorbar.y=k,this.axis.pAxis.y=k,this.axis.pAxis.x=O+_+T+w,this.pColorbar.x=O+_+T,this.gColorscaleBrush.attr("transform","translate("+(this.pColorbarArea.x+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),this.pColorbarArea.clear(),this.pColorbarArea.beginFill((0,g.colorToHex)("white"),.6),this.pColorbarArea.drawRect(0,0,t,e),this.options||(this.options={}),this.options.scaleStartPercent||(this.options.scaleStartPercent=0),this.options.scaleEndPercent||(this.options.scaleEndPercent=1);var r=n.domain()[1]-n.domain()[0],i=n(this.options.scaleStartPercent*r+n.domain()[0]),o=n(this.options.scaleEndPercent*r+n.domain()[0]);this.brushing||(this.scaleBrush.on("start",this.brushStart.bind(this)).on("brush",this.brushMoved.bind(this)).on("end",this.brushEnd.bind(this)).handleSize(0),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.call(this.scaleBrush),this.northHandle=this.gColorscaleBrush.selectAll(".handle--custom").data([{type:"n"},{type:"s"}]).enter().append("rect").classed("handle--custom",!0).attr("cursor","ns-resize").attr("width",_).attr("height",S).style("fill","#666").style("stroke","white"),this.flipText&&this.northHandle.attr("cursor","ew-resize"),this.gColorscaleBrush.call(this.scaleBrush.move,[o,i]));for(var a=(0,c.scaleLinear)().domain([0,255]).range([0,this.colorbarHeight]),s=0;s<this.colorbarHeight;s++){var l=this.limitedValueScale(n.invert(s)),f=Math.max(0,Math.min(254,Math.floor(l)));this.pColorbar.beginFill((0,g.colorToHex)("rgb("+this.colorScale[f][0]+","+this.colorScale[f][1]+","+this.colorScale[f][2]+")")),this.pColorbar.drawRect(0,s,w,1)}this.pAxis.position.x=w,this.pAxis.position.y=a(0),"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.axis.drawAxisRight(n,this.colorbarHeight):"topRight"!==this.options.colorbarPosition&&"bottomRight"!==this.options.colorbarPosition||this.axis.drawAxisLeft(n,this.colorbarHeight)}}}return e}()},{key:"exportColorBarSVG",value:function(){function e(){var e=document.createElement("g");if(!this.options.colorbarPosition||"hidden"===this.options.colorbarPosition)return e;if(!this.valueScale)return e;e.setAttribute("transform","translate("+this.pColorbarArea.x+", "+this.pColorbarArea.y+")"),e.setAttribute("transform","translate("+this.pColorbarArea.x+", "+this.pColorbarArea.y+")");var t=document.createElement("rect");e.appendChild(t);var n=document.createElement("g");e.appendChild(n),n.setAttribute("transform","translate("+this.pColorbar.x+", "+this.pColorbar.y+")");var r=Math.min(this.dimensions[1],b);this.colorbarHeight=r-2*k;var i=w+x+2*k;t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("width",i),t.setAttribute("height",r),t.setAttribute("style","fill: white; stroke-width: 0; opacity: 0.7");for(var o=(0,c.scaleLinear)().domain([0,255]).range([0,this.colorbarHeight]),a=this.colorbarHeight/256,s=0;s<256;s++){var l=document.createElement("rect");n.appendChild(l),l.setAttribute("x",0),l.setAttribute("y",o(s)),l.setAttribute("width",w),l.setAttribute("height",a),l.setAttribute("class","color-rect"),l.setAttribute("style","fill: rgb("+this.colorScale[s][0]+", "+this.colorScale[s][1]+", "+this.colorScale[s][2]+")")}var u=document.createElement("g");e.appendChild(u),u.setAttribute("transform","translate("+this.axis.pAxis.position.x+","+this.axis.pAxis.position.y+")");var f=null,h=this.valueScale.copy().range([this.colorbarHeight,0]);return"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?f=this.axis.exportAxisRightSVG(h,this.colorbarHeight):"topRight"!==this.options.colorbarPosition&&"bottomRight"!==this.options.colorbarPosition||(f=this.axis.exportAxisLeftSVG(h,this.colorbarHeight)),u.appendChild(f),e}return e}()},{key:"initTile",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initTile",this).call(this,e),null!=this.scale.minValue&&null!=this.scale.maxValue&&this.renderTile(e)}return e}()},{key:"renderTile",value:function(){function e(e){var t=this,n=(0,p.getValueScale)(this.options.heatmapValueScaling,this.scale.minValue,this.medianVisibleValue,this.scale.maxValue,"log"),r=a(n,2),i=r[0],o=r[1];this.valueScale=o;var s=0;"log"==i&&(s=this.valueScale.domain()[0]),this.limitedValueScale=this.valueScale.copy(),this.options&&void 0!==this.options.scaleStartPercent&&void 0!==this.options.scaleEndPercent&&this.limitedValueScale.domain([this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleStartPercent,this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleEndPercent]),m.tileProxy.tileDataToPixData(e,this.limitedValueScale,s,this.colorScale,function(n){var r=e.graphics,i=t.tileDataToCanvas(n),o=null;o=new d.Sprite(d.Texture.fromCanvas(i,d.SCALE_MODES.NEAREST)),e.sprite=o,e.canvas=i,t.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored),r.removeChildren(),r.addChild(e.sprite)})}return e}()},{key:"remove",value:function(){function e(){this.gMain.remove(),this.gMain=null,l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}return e}()},{key:"refScalesChanged",value:function(){function e(e,n){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refScalesChanged",this).call(this,e,n);for(var r in this.fetchedTiles){var i=this.fetchedTiles[r];i.sprite&&this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos,i.mirrored)}}return e}()},{key:"superSVG",value:function(){function e(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this)}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this)){var r=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this),i=a(r,2);n=i[0],e=i[1]}else n=document.createElement("g"),e=n;var o=document.createElement("g");e.appendChild(o),o.setAttribute("transform","translate("+this.pMain.position.x+","+this.pMain.position.y+") scale("+this.pMain.scale.x+","+this.pMain.scale.y+")");var s=!0,u=!1,c=void 0;try{for(var f,h=this.visibleAndFetchedTiles()[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var d=f.value,p=180*d.sprite.rotation/Math.PI,v=document.createElement("g");v.setAttribute("transform","translate("+d.sprite.x+","+d.sprite.y+") rotate("+p+") scale("+d.sprite.scale.x+","+d.sprite.scale.y+")");var m=document.createElement("image");m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.canvas.toDataURL()),m.setAttribute("width",256),m.setAttribute("height",256),v.appendChild(m),o.appendChild(v)}}catch(e){u=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(u)throw c}}var g=this.exportColorBarSVG();return e.appendChild(g),[n,n]}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,o){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n),this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=r,this.pMain.scale.y=r,this.drawColorbar()}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map(function(e){return+e}).sort(function(e,t){return t-e});this.xTiles=m.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=m.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=m.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=m.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var n=this.xTiles,r=this.yTiles,i=this.zoomLevel,o=[],a=0;a<n.length;a++)for(var s=0;s<r.length;s++)if(e){if(n[a]>=r[s]){var l=[i,r[s],n[a]];l.mirrored=!0,l.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",o.push(l)}else{var u=[i,n[a],r[s]];u.mirrored=!1,u.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",o.push(u)}if(n[a]==r[s]){var c=[i,n[a],r[s]];c.mirrored=!1,c.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",o.push(c)}}else{var f=[i,n[a],r[s]];f.mirrored=!1,f.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",o.push(f)}this.setVisibleTiles(o)}}return e}()},{key:"getTilePosAndDimensions",value:function(){function e(e,t){if(this.tilesetInfo.resolutions){var n=this.tilesetInfo.resolutions.map(function(e){return+e}).sort(function(e,t){return t-e}),r=n[e],i=r*P,o=i;return{tileX:r*P*t[0],tileY:r*P*t[1],tileWidth:i,tileHeight:o}}var a=t[0],s=t[1],l=this.tilesetInfo.max_width,u=this.tilesetInfo.max_width,c=l/Math.pow(2,e),f=u/Math.pow(2,e);return{tileX:0+a*c,tileY:0+s*f,tileWidth:c,tileHeight:f}}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=this.tilesetInfo.min_pos[0],t=this.tilesetInfo.max_pos[0],n=this.tilesetInfo.min_pos[1],r=this.tilesetInfo.max_pos[1];if(this.tilesetInfo.resolutions){var i=m.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,e,t),o=m.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._yScale,n,r);return Math.min(i,o)}var a=m.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),s=m.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),l=Math.max(a,s);return l=Math.min(l,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?l=Math.min(this.options.maxZoom,l):console.error("Invalid maxZoom on track:",this)),l}return e}()},{key:"tileToLocalId",value:function(){function e(e){return e.dataTransform&&"default"!=e.dataTransform?e.join(".")+"."+e.mirrored+"."+e.dataTransform:e.join(".")+"."+e.mirrored}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return e.dataTransform&&"default"!=e.dataTransform?e.join(".")+"."+e.dataTransform:""+e.join(".")}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()}]),t}(p.TiledPixiTrack);t.default=E},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalLine1DPixiTrack=void 0;var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),u=n(12),c=n(52),f=function(e){return e&&e.__esModule?e:{default:e}}(c),h=n(3),d=t.HorizontalLine1DPixiTrack=function(e){function t(e,n,o,a,s,l){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,l))}return o(t,e),s(t,[{key:"initTile",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initTile",this).call(this,e),e.lineXValues=new Array(e.tileData.dense.length),e.lineYValues=new Array(e.tileData.dense.length),this.drawTile(e)}return e}()},{key:"rerender",value:function(){function e(e){this.options=e,l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this);var n=!0,r=!1,i=void 0;try{for(var o,a=this.visibleAndFetchedTiles()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.renderTile(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}return e}()},{key:"renderTile",value:function(){function e(e){this.drawTile(e)}return e}()},{key:"drawTile",value:function(){function e(e){if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,r=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),i=r.tileX,o=r.tileWidth,a=e.tileData.dense;if(0!==a.length){if(this.valueScale=this.makeValueScale(this.minValue(),this.calculateMedianVisibleValue(),this.maxValue()),n.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var s=(0,h.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),c=(0,u.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([i,i+o]),f=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;n.lineStyle(f,s,1);for(var d="log"===this.options.valueScaling,p=0;p<a.length;p++){var v=this._xScale(c(p)),m=this.valueScale(a[p]+0);if(e.lineXValues[p]=v,e.lineYValues[p]=m,0!==p){if(c(p)>this.tilesetInfo.max_pos[0])break;d&&0===a[p]?n.moveTo(v,m):n.lineTo(v,m)}else n.moveTo(v,m)}}}}return e}()},{key:"setPosition",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}return e}()},{key:"superSVG",value:function(){function e(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this)}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this)){var r=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this),i=a(r,2);n=i[0],e=i[1]}else n=document.createElement("g"),e=n;n.setAttribute("class","exported-line-track");var o=document.createElement("g");e.appendChild(o),o.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")");var s=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue",u=!0,c=!1,f=void 0;try{for(var h,d=this.visibleAndFetchedTiles()[Symbol.iterator]();!(u=(h=d.next()).done);u=!0){var p=h.value,v=document.createElement("path");v.setAttribute("fill","transparent"),v.setAttribute("stroke",s);for(var m="M"+p.lineXValues[0]+" "+p.lineYValues[0],g=0;g<p.lineXValues.length;g++)m+="L"+p.lineXValues[g]+" "+p.lineYValues[g];v.setAttribute("d",m),o.appendChild(v)}}catch(e){c=!0,f=e}finally{try{!u&&d.return&&d.return()}finally{if(c)throw f}}var y=document.createElement("g");if(y.setAttribute("id","axis"),n.appendChild(y),y.setAttribute("transform","translate("+this.axis.pAxis.position.x+", "+this.axis.pAxis.position.y+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var b=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);y.appendChild(b)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var w=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);y.appendChild(w)}return[n,e]}return e}()}]),t}(f.default);t.default=d},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchField=void 0;var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(9),s=n(45),l=n(3),u=t.SearchField=function(){function e(t){r(this,e),this.chromInfo=t,this.chromInfoBisector=(0,a.bisector)(function(e){return e.pos}).left}return o(e,[{key:"scalesToPositionText",value:function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==this.chromInfo)return"";if(!e||!t)return"";var r=(0,l.absToChr)(e.domain()[0],this.chromInfo),i=(0,l.absToChr)(e.domain()[1],this.chromInfo),o=(0,l.absToChr)(t.domain()[0],this.chromInfo),a=(0,l.absToChr)(t.domain()[1],this.chromInfo),u=null,c=(0,s.format)(",d");return u=r[0]!=i[0]?r[0]+":"+c(Math.floor(r[1]))+"-"+i[0]+":"+c(Math.ceil(i[1])):r[0]+":"+c(Math.floor(r[1]))+"-"+c(Math.ceil(i[1])),n&&(o[0]!=a[0]?u+=" & "+o[0]+":"+c(Math.floor(o[1]))+"-"+a[0]+":"+c(Math.ceil(a[1])):u+=" & "+o[0]+":"+c(Math.floor(o[1]))+"-"+c(Math.ceil(a[1]))),(r[2]<=0||i[2]>0||n&&(o[2]<=0||a[2]>0))&&(u+=" [offset "+r[2]+","+i[2],n&&(u+=":"+o[2]+","+a[2]),u+="]"),u}return e}()},{key:"parsePosition",value:function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.split(":"),r=null,i=0;n.length>1?(r=n[0],i=+n[1].replace(/,/g,"")):n[0]in this.chromInfo.chrPositions?(r=n[0],i=0,null!=t&&(i=+this.chromInfo.chromLengths[r])):(i=+n[0].replace(/,/g,""),r=null,t&&(r=t));var o=null;return isNaN(i)&&(o=null),null==r&&(r=t),o=null==r?i:r in this.chromInfo.chrPositions?this.chromInfo.chrPositions[r].pos+i:null,[r,i,o]}return e}()},{key:"matchRangesToLarger",value:function(){function e(e,t){if(e[1]-e[0]<t[1]-t[0]){var n=t[1]-t[0]-(e[1]-e[0]);return[[e[0]-n/2,e[1]+n/2],t]}var r=e[1]-e[0]-(t[1]-t[0]);return[e,[t[0]-r/2,t[1]+r/2]]}return e}()},{key:"getSearchRange",value:function(){function e(e){if(0==e.length)return null;var t=e.split("-");t=t.filter(function(e){return e.length>0});var n=null;if(0==t[0].indexOf("-")&&(t[0]=t[0].slice(3,t[0].length)),t.length>1){var r=this.parsePosition(t[0]),o=i(r,3),a=o[0],s=(o[1],o[2]),l=this.parsePosition(t[1],a),u=i(l,3),c=u[0],f=(u[1],u[2]),h=[s,f],d=this.parsePosition(t[1]),p=i(d,3);a=p[0],p[1],s=p[2];var v=this.parsePosition(t[0],a),m=i(v,3);if(c=m[0],m[1],f=m[2],null==a&&null!=c){var g=this.parsePosition(t[1],c),y=i(g,3);a=y[0],y[1],s=y[2]}var b=[s,f];return b[1]-b[0]>h[1]-h[0]?b:h}if(t[0]in this.chromInfo.chrPositions){var w=this.chromInfo.chrPositions[t[0]].pos;n=[+w,+w+ +this.chromInfo.chromLengths[t[0]]]}else{var x=this.parsePosition(t[0]),k=i(x,3),_=(k[0],k[1],k[2]);n=[_-8e6,_+8e6]}return n[0]>n[1]?[n[1],n[0]]:n}return e}()},{key:"parseOffset",value:function(){function e(e){var t=e.split(":");if(0==t.length)return[[0,0],[0,0]];if(1==t.length){var n=t[0].split(",");return[[+n[0],+n[1]],[0,0]]}var r=t[0].split(","),i=t[1].split(",");return[[+r[0],+r[1]],[+i[0],+i[1]]]}return e}()},{key:"searchPosition",value:function(){function e(e){var t=null,n=null;e=e.trim();var r=/\[offset\ (.+?)\]/.exec(e),o=[[0,0],[0,0]];r&&(e=e.replace(r[0],""),o=this.parseOffset(r[1]));var a=e.split(" & ");if(a.length>1?(t=this.getSearchRange(a[0].split(" ")[0]),n=this.getSearchRange(a[1].split(" ")[0])):t=this.getSearchRange(a[0]),null!=t&&null!=n){var s=this.matchRangesToLarger(t,n),l=i(s,2);t=l[0],n=l[1]}return t&&(t[0]+=o[0][0],t[1]+=o[0][1]),n&&(n[0]+=o[1][0],n[1]+=o[1][1]),[t,n]}return e}()}]),e}();t.default=u},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e;++n)if(!(t[n]<=t[n+e]))return!0;return!1}function i(e,t,n,i){for(var o=0,a=0,s=0,l=e.length;s<l;++s){var u=e[s];if(!r(t,u)){for(var c=0;c<2*t;++c)n[o++]=u[c];i[a++]=s}}return a}function o(e,t,n,r){var o=e.length,a=t.length;if(!(o<=0||a<=0)){var s=e[0].length>>>1;if(!(s<=0)){var l,u=f.mallocDouble(2*s*o),c=f.mallocInt32(o);if((o=i(e,s,u,c))>0){if(1===s&&r)h.init(o),l=h.sweepComplete(s,n,0,o,u,c,0,o,u,c);else{var p=f.mallocDouble(2*s*a),v=f.mallocInt32(a);a=i(t,s,p,v),a>0&&(h.init(o+a),l=1===s?h.sweepBipartite(s,n,0,o,u,c,0,a,p,v):d(s,n,r,o,u,c,a,p,v),f.free(p),f.free(v))}f.free(u),f.free(c)}return l}}}function a(e,t){c.push([e,t])}function s(e){return c=[],o(e,e,a,!0),c}function l(e,t){return c=[],o(e,t,a,!1),c}function u(e,t,n){switch(arguments.length){case 1:return s(e);case 2:return"function"==typeof t?o(e,e,t,!0):l(e,t);case 3:return o(e,t,n,!1);default:throw new Error("box-intersect: Invalid arguments")}}e.exports=u;var c,f=n(142),h=n(155),d=n(341)},function(e,t,n){"use strict";var r=(n(94),n(95),n(33));n.d(t,"a",function(){return r.a});n(93),n(96),n(92)},function(e,t,n){"use strict";var r=n(103);t.a=function(e){return e=n.i(r.a)(Math.abs(e)),e?e[1]:NaN}},function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t-=e,function(n){return e+t*n}}},function(e,t,n){"use strict";function r(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:n.i(d.a)(t)}function i(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}function o(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}function a(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}}function s(e,t,r,i){var o=Math.min(e.length,t.length)-1,a=new Array(o),s=new Array(o),l=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<o;)a[l]=r(e[l],e[l+1]),s[l]=i(t[l],t[l+1]);return function(t){var r=n.i(c.bisect)(e,t,1,o)-1;return s[r](a[r](t))}}function l(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function u(e,t){function n(){return u=Math.min(m.length,g.length)>2?s:a,c=d=null,l}function l(t){return(c||(c=u(m,g,b?i(e):e,y)))(+t)}var u,c,d,m=v,g=v,y=f.b,b=!1;return l.invert=function(e){return(d||(d=u(g,m,r,b?o(t):t)))(+e)},l.domain=function(e){return arguments.length?(m=h.a.call(e,p.a),n()):m.slice()},l.range=function(e){return arguments.length?(g=h.b.call(e),n()):g.slice()},l.rangeRound=function(e){return g=h.b.call(e),y=f.c,n()},l.clamp=function(e){return arguments.length?(b=!!e,n()):b},l.interpolate=function(e){return arguments.length?(y=e,n()):y},n()}t.b=r,t.c=l,t.a=u;var c=n(9),f=n(20),h=n(39),d=n(112),p=n(188),v=[0,1]},function(e,t,n){"use strict";function r(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===a.b&&t.documentElement.namespaceURI===a.b?t.createElement(e):t.createElementNS(n,e)}}function i(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var o=n(113),a=n(114);t.a=function(e){var t=n.i(o.a)(e);return(t.local?i:r)(t)}},function(e,t,n){"use strict";t.a=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}},function(e,t,n){"use strict";function r(e,t){var r,i;return function(){var o=n.i(a.e)(this,e),s=o.tween;if(s!==r){i=r=s;for(var l=0,u=i.length;l<u;++l)if(i[l].name===t){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function i(e,t,r){var i,o;if("function"!=typeof r)throw new Error;return function(){var s=n.i(a.e)(this,e),l=s.tween;if(l!==i){o=(i=l).slice();for(var u={name:t,value:r},c=0,f=o.length;c<f;++c)if(o[c].name===t){o[c]=u;break}c===f&&o.push(u)}s.tween=o}}function o(e,t,r){var i=e._id;return e.each(function(){var e=n.i(a.e)(this,i);(e.value||(e.value={}))[t]=r.apply(this,arguments)}),function(e){return n.i(a.f)(e,i).value[t]}}t.b=o;var a=n(17);t.a=function(e,t){var o=this._id;if(e+="",arguments.length<2){for(var s,l=n.i(a.f)(this.node(),o).tween,u=0,c=l.length;u<c;++u)if((s=l[u]).name===e)return s.value;return null}return this.each((null==t?r:i)(o,e,t))}},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(588),o=n(589),a=n(590),s=n(591),l=n(592);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=n(85);e.exports=r},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?s(e)?o(e[0],e[1]):i(e):l(e)}var i=n(544),o=n(545),a=n(59),s=n(15),l=n(629);e.exports=r},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){function r(e,t,n,r){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=r?r(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?o(n,u,c):i(n,u,c)}return n}var i=n(211),o=n(212);e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}var i=n(586);e.exports=r},function(e,t,n){var r=n(518),i=n(126),o=n(520),a=n(521),s=n(523),l=n(41),u=n(229),c=u(r),f=u(i),h=u(o),d=u(a),p=u(s),v=l;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=v(new i)||o&&"[object Promise]"!=v(o.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,n){var r=n(42),i=r(Object,"create");e.exports=i},function(e,t,n){function r(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var i=n(60),o=1/0;e.exports=r},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PopupMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(11),f=r(c),h=t.PopupMenu=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.zIndex=99,this.popup.style.position="absolute",this.popup.className="hg-popup",this.boundHandleDocumentClick=this.handleDocumentClick.bind(this),this.boundHandleDocumentResize=this.handleDocumentResize.bind(this),document.addEventListener("click",this.boundHandleDocumentClick,!0),window.addEventListener("resize",this.boundHandleDocumentResize,!0),this._renderLayer()}return e}()},{key:"componentDidUpdate",value:function(){function e(){this._renderLayer()}return e}()},{key:"componentWillUnmount",value:function(){function e(){document.removeEventListener("click",this.boundHandleDocumentClick,!0),window.removeEventListener("resize",this.boundHandleDocumentResize,!0),f.default.unmountComponentAtNode(this.popup),document.body.removeChild(this.popup)}return e}()},{key:"_renderLayer",value:function(){function e(){f.default.render(this.props.children,this.popup)}return e}()},{key:"handleDocumentResize",value:function(){function e(){this.props.onMenuClosed&&this.props.onMenuClosed(null)}return e}()},{key:"handleDocumentClick",value:function(){function e(e){this.popup.contains(e.target)||this.props.onMenuClosed&&this.props.onMenuClosed(e)}return e}()},{key:"render",value:function(){function e(){var e=this;return u.default.createElement("div",{ref:function(){function t(t){return e.area=t}return t}()})}return e}()}]),t}(u.default.Component);t.default=h},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(12),a=t.Track=function(){function e(){r(this,e),this._xScale=(0,o.scaleLinear)(),this._yScale=(0,o.scaleLinear)(),this._refXScale=(0,o.scaleLinear)(),this._refYScale=(0,o.scaleLinear)(),this.position=[0,0],this.dimensions=[1,1],this.options={}}return i(e,[{key:"setDimensions",value:function(){function e(e){this.dimensions=e,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]])}return e}()},{key:"refXScale",value:function(){function e(e){return arguments.length?(this._refXScale=e,this):this._refXScale}return e}()},{key:"refYScale",value:function(){function e(e){return arguments.length?(this._refYScale=e,this):this._refYScale}return e}()},{key:"xScale",value:function(){function e(e){return arguments.length?(this._xScale=e,this):this._xScale}return e}()},{key:"yScale",value:function(){function e(e){return arguments.length?(this._yScale=e,this):this._yScale}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t)}return e}()},{key:"refScalesChanged",value:function(){function e(e,t){this._refXScale=e,this._refYScale=t}return e}()},{key:"draw",value:function(){function e(){}return e}()},{key:"setPosition",value:function(){function e(e){this.position=e}return e}()},{key:"remove",value:function(){function e(){}return e}()},{key:"rerender",value:function(){function e(){}return e}()}]),e}();t.default=a},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TrackControl=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),u=r(l),c=n(2),f=r(c),h=n(0),d=r(h),p=n(11),v=r(p),m=n(49);n(511);var g={"../styles/TrackControl.module.scss":{"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb","track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},y=t.TrackControl=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){function e(){var e=this,t=this.props.isVisible?"track-control-active":"track-control";t+=this.props.isAlignLeft?" track-control-left":"",t+=this.props.isVertical?" track-control-vertical":"",t+=this.props.paddingRight?" track-control-padding-right":"";var n="track-control-button";n+=this.props.isVertical?" track-control-button-vertical":"";var r=(0,m.SortableHandle)(function(){return d.default.createElement("svg",{style:e.props.imgStyleMove,className:"no-zoom "+(0,u.default)(n,g)},d.default.createElement("use",{xlinkHref:"#move"}))});return d.default.createElement("div",{className:(0,u.default)(t,g)},this.props.isMoveable&&d.default.createElement(r,null),d.default.createElement("svg",{onClick:function(){function t(){var t=v.default.findDOMNode(e.imgConfig),n=t.getBoundingClientRect();e.props.onConfigTrackMenuOpened(e.props.uid,n)}return t}(),ref:function(){function t(t){e.imgConfig=t}return t}(),style:this.props.imgStyleSettings,className:"no-zoom "+(0,u.default)(n,g)},d.default.createElement("use",{xlinkHref:"#cog"})),d.default.createElement("svg",{onClick:function(){function t(){return e.props.onAddSeries(e.props.uid)}return t}(),ref:function(){function t(t){e.imgAdd=t}return t}(),style:this.props.imgStyleAdd,className:"no-zoom "+(0,u.default)(n,g)},d.default.createElement("use",{xlinkHref:"#plus"})),d.default.createElement("svg",{onClick:function(){function t(){var t=v.default.findDOMNode(e.imgClose),n=t.getBoundingClientRect();e.props.onCloseTrackMenuOpened(e.props.uid,n)}return t}(),ref:function(){function t(t){e.imgClose=t}return t}(),style:this.props.imgStyleClose,className:"no-zoom "+(0,u.default)(n,g)},d.default.createElement("use",{xlinkHref:"#cross"})))}return e}()}]),t}(d.default.Component);y.propTypes={imgStyleAdd:f.default.object,imgStyleClose:f.default.object,imgStyleMove:f.default.object,imgStyleSettings:f.default.object,isAlignLeft:f.default.bool,isMoveable:f.default.bool,isVertical:f.default.bool,isVisible:f.default.bool,onConfigTrackMenuOpened:f.default.func,onCloseTrackMenuOpened:f.default.func,onAddSeries:f.default.func,paddingRight:f.default.bool,uid:f.default.string},t.default=y},function(e,t,n){"use strict";"use restrict";function r(e){var t=32;return e&=-e,e&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1||!e)},t.log2=function(e){var t,n;return t=(e>65535)<<4,e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,(t|=n)|e>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return e-=e>>>1&1431655765,16843009*((e=(858993459&e)+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(i),t.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1},t.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=858993459&(e|e>>>1),e=252645135&(e|e>>>2),e=16711935&(e|e>>>4),(e=65535&(e|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e|=t<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),e|n<<2},t.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=3272356035&(e|e>>>2),e=251719695&(e|e>>>4),e=4278190335&(e|e>>>8),(e=1023&(e|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},function(e,t,n){"use strict";var r=n(54);t.a=function(e,t,n){if(null==n&&(n=r.a),i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,o=(i-1)*t,a=Math.floor(o),s=+n(e[a],a,e);return s+(+n(e[a+1],a+1,e)-s)*(o-a)}}},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(33)},function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e){n.add(e)});else if(e){var i=-1,o=e.length;if(null==t)for(;++i<o;)n.add(e[i]);else for(;++i<o;)n.add(t(e[i],i,e))}return n}var o=n(33),a=o.a.prototype;r.prototype=i.prototype={constructor:r,has:a.has,add:function(e){return e+="",this[o.b+e]=e,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(){}function i(e){var t;return e=(e+"").trim().toLowerCase(),(t=x.exec(e))?(t=parseInt(t[1],16),new u(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=k.exec(e))?o(parseInt(t[1],16)):(t=_.exec(e))?new u(t[1],t[2],t[3],1):(t=S.exec(e))?new u(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=T.exec(e))?a(t[1],t[2],t[3],t[4]):(t=O.exec(e))?a(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=C.exec(e))?c(t[1],t[2]/100,t[3]/100,1):(t=P.exec(e))?c(t[1],t[2]/100,t[3]/100,t[4]):E.hasOwnProperty(e)?o(E[e]):"transparent"===e?new u(NaN,NaN,NaN,0):null}function o(e){return new u(e>>16&255,e>>8&255,255&e,1)}function a(e,t,n,r){return r<=0&&(e=t=n=NaN),new u(e,t,n,r)}function s(e){return e instanceof r||(e=i(e)),e?(e=e.rgb(),new u(e.r,e.g,e.b,e.opacity)):new u}function l(e,t,n,r){return 1===arguments.length?s(e):new u(e,t,n,null==r?1:r)}function u(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function c(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new d(e,t,n,r)}function f(e){if(e instanceof d)return new d(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=i(e)),!e)return new d;if(e instanceof d)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,a=Math.min(t,n,o),s=Math.max(t,n,o),l=NaN,u=s-a,c=(s+a)/2;return u?(l=t===s?(n-o)/u+6*(n<o):n===s?(o-t)/u+2:(t-n)/u+4,u/=c<.5?s+a:2-s-a,l*=60):u=c>0&&c<1?0:l,new d(l,u,c,e.opacity)}function h(e,t,n,r){return 1===arguments.length?f(e):new d(e,t,n,null==r?1:r)}function d(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function p(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}t.f=r,n.d(t,"h",function(){return m}),n.d(t,"g",function(){return g}),t.a=i,t.e=s,t.b=l,t.d=u,t.c=h;var v=n(98),m=.7,g=1/m,y="\\s*([+-]?\\d+)\\s*",b="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",w="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x=/^#([0-9a-f]{3})$/,k=/^#([0-9a-f]{6})$/,_=new RegExp("^rgb\\("+[y,y,y]+"\\)$"),S=new RegExp("^rgb\\("+[w,w,w]+"\\)$"),T=new RegExp("^rgba\\("+[y,y,y,b]+"\\)$"),O=new RegExp("^rgba\\("+[w,w,w,b]+"\\)$"),C=new RegExp("^hsl\\("+[b,w,w]+"\\)$"),P=new RegExp("^hsla\\("+[b,w,w,b]+"\\)$"),E={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};n.i(v.a)(r,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),n.i(v.a)(u,l,n.i(v.b)(r,{brighter:function(e){return e=null==e?g:Math.pow(g,e),new u(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?m:Math.pow(m,e),new u(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),n.i(v.a)(d,h,n.i(v.b)(r,{brighter:function(e){return e=null==e?g:Math.pow(g,e),new d(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?m:Math.pow(m,e),new d(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new u(p(e>=240?e-240:e+120,i,r),p(e,i,r),p(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}t.b=r,t.a=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},function(e,t,n){"use strict";function r(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new i(r)}function i(e){this._=e}function o(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function a(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function s(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=l,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}var l={value:function(){}};i.prototype=r.prototype={constructor:i,on:function(e,t){var n,r=this._,i=o(e+"",r),l=-1,u=i.length;{if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++l<u;)if(n=(e=i[l]).type)r[n]=s(r[n],e.name,t);else if(null==t)for(n in r)r[n]=s(r[n],e.name,null);return this}for(;++l<u;)if((n=(e=i[l]).type)&&(n=a(r[n],e.name)))return n}},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new i(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,n=r.length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}},t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(371);n.d(t,"drag",function(){return r.a});var i=n(174);n.d(t,"dragDisable",function(){return i.a}),n.d(t,"dragEnable",function(){return i.b})},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return l});var r=n(36),i=n.i(r.a)(","),o=i.parse,a=i.parseRows,s=i.format,l=i.formatRows},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return l});var r=n(36),i=n.i(r.a)("\t"),o=i.parse,a=i.parseRows,s=i.format,l=i.formatRows},function(e,t,n){"use strict";t.a=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}},function(e,t,n){"use strict";function r(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}t.b=r,t.a=function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[i],a=e[i+1],s=i>0?e[i-1]:2*o-a,l=i<t-1?e[i+2]:2*a-o;return r((n-i/t)*t,s,o,a,l)}}},function(e,t,n){"use strict";var r=n(14),i=n(185),o=n(180),a=n(183),s=n(71),l=n(184),u=n(186),c=n(182);t.a=function(e,t){var f,h=typeof t;return null==t||"boolean"===h?n.i(c.a)(t):("number"===h?s.a:"string"===h?(f=n.i(r.color)(t))?(t=f,i.a):u.a:t instanceof r.color?i.a:t instanceof Date?a.a:Array.isArray(t)?o.a:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?l.a:s.a)(e,t)}},function(e,t,n){"use strict";var r=n(35),i=n(56);t.a=n.i(i.a)("text/csv",r.csvParse)},function(e,t,n){"use strict";var r=n(22);t.a=n.i(r.a)("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)})},function(e,t,n){"use strict";var r=n(22);t.a=n.i(r.a)("application/json",function(e){return JSON.parse(e.responseText)})},function(e,t,n){"use strict";var r=n(22);t.a=n.i(r.a)("text/plain",function(e){return e.responseText})},function(e,t,n){"use strict";var r=n(35),i=n(56);t.a=n.i(i.a)("text/tab-separated-values",r.tsvParse)},function(e,t,n){"use strict";var r=n(22);t.a=n.i(r.a)("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t})},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var r=n(114);t.a=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.a.hasOwnProperty(t)?{space:r.a[t],local:e}:e}},function(e,t,n){"use strict";n.d(t,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";t.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(e,t,n){"use strict";function r(e,t,n){return e=i(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function i(e,t,n){return function(r){var i=c;c=r;try{e.call(this,this.__data__,t,n)}finally{c=i}}}function o(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function a(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function s(e,t,n){var o=u.hasOwnProperty(e.type)?r:i;return function(r,i,a){var s,l=this.__on,u=o(t,i,a);if(l)for(var c=0,f=l.length;c<f;++c)if((s=l[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=t);this.addEventListener(e.type,u,n),s={type:e.type,name:e.name,value:t,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function l(e,t,n,r){var i=c;e.sourceEvent=c,c=e;try{return t.apply(n,r)}finally{c=i}}n.d(t,"a",function(){return c}),t.b=l;var u={},c=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(u={mouseenter:"mouseover",mouseleave:"mouseout"})}t.c=function(e,t,n){var r,i,l=o(e+""),u=l.length;{if(!(arguments.length<2)){for(c=t?s:a,null==n&&(n=!1),r=0;r<u;++r)this.each(c(l[r],t,n));return this}var c=this.node().__on;if(c)for(var f,h=0,d=c.length;h<d;++h)for(r=0,f=c[h];r<u;++r)if((i=l[r]).type===f.type&&i.name===f.name)return f.value}}},function(e,t,n){"use strict";function r(){}t.a=function(e){return null==e?r:function(){return this.querySelector(e)}}},function(e,t,n){"use strict";var r=n(115);t.a=function(){for(var e,t=r.a;e=t.sourceEvent;)t=e;return t}},function(e,t,n){"use strict";t.a=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r,i,o,a,s,l=n(199);!function(e){r=n.i(l.a)(e),i=r.format,o=r.parse,a=r.utcFormat,s=r.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(e,t,n){"use strict";var r=(n(13),n(460));n.d(t,"v",function(){return r.a}),n.d(t,"h",function(){return r.a});var i=n(463);n.d(t,"u",function(){return i.a}),n.d(t,"g",function(){return i.a});var o=n(461);n.d(t,"t",function(){return o.a});var a=n(459);n.d(t,"s",function(){return a.a});var s=n(458);n.d(t,"k",function(){return s.a});var l=n(470);n.d(t,"r",function(){return l.a}),n.d(t,"m",function(){return l.a}),n.d(t,"j",function(){return l.b}),n.d(t,"n",function(){return l.c});var u=n(462);n.d(t,"q",function(){return u.a});var c=n(471);n.d(t,"l",function(){return c.a});var f=n(466);n.d(t,"f",function(){return f.a});var h=n(465);n.d(t,"e",function(){return h.a});var d=n(464);n.d(t,"d",function(){return d.a});var p=n(468);n.d(t,"c",function(){return p.a}),n.d(t,"o",function(){return p.a}),n.d(t,"i",function(){return p.b}),n.d(t,"p",function(){return p.c});var v=n(467);n.d(t,"b",function(){return v.a});var m=n(469);n.d(t,"a",function(){return m.a})},function(e,t,n){"use strict";function r(){return b||(k(i),b=x.now()+w)}function i(){b=0}function o(){this._call=this._time=this._next=null}function a(e,t,n){var r=new o;return r.restart(e,t,n),r}function s(){r(),++p;for(var e,t=h;t;)(e=b-t._time)>=0&&t._call.call(null,e),t=t._next;--p}function l(){b=(y=x.now())+w,p=v=0;try{s()}finally{p=0,c(),b=0}}function u(){var e=x.now(),t=e-y;t>g&&(w-=t,y=e)}function c(){for(var e,t,n=h,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:h=t);d=e,f(r)}function f(e){if(!p){v&&(v=clearTimeout(v));e-b>24?(e<1/0&&(v=setTimeout(l,e-x.now()-w)),m&&(m=clearInterval(m))):(m||(y=x.now(),m=setInterval(u,g)),p=1,k(l))}}t.c=r,t.b=o,t.a=a;var h,d,p=0,v=0,m=0,g=1e3,y=0,b=0,w=0,x="object"==typeof performance&&performance.now?performance:Date,k="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};o.prototype=a.prototype={constructor:o,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?r():+n)+(null==t?0:+t),this._next||d===this||(d?d._next=this:h=this,d=this),this._call=e,this._time=n,f()},stop:function(){this._call&&(this._call=null,this._time=1/0,f())}}},function(e,t){e.exports={"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"}},function(e,t){e.exports={"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4"}},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=r},function(e,t,n){(function(e,n){function r(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function i(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function o(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function a(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function s(e,t){return e.has(t)}function l(e,t){return null==e?void 0:e[t]}function u(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function h(){this.__data__=St?St(null):{},this.size=0}function d(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function p(e){var t=this.__data__;if(St){var n=t[e];return n===ye?void 0:n}return at.call(t,e)?t[e]:void 0}function v(e){var t=this.__data__;return St?void 0!==t[e]:at.call(t,e)}function m(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=St&&void 0===t?ye:t,this}function g(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function y(){this.__data__=[],this.size=0}function b(e){var t=this.__data__,n=N(t,e);return!(n<0)&&(n==t.length-1?t.pop():pt.call(t,n,1),--this.size,!0)}function w(e){var t=this.__data__,n=N(t,e);return n<0?void 0:t[n][1]}function x(e){return N(this.__data__,e)>-1}function k(e,t){var n=this.__data__,r=N(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function _(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(){this.size=0,this.__data__={hash:new f,map:new(wt||g),string:new f}}function T(e){var t=$(this,e).delete(e);return this.size-=t?1:0,t}function O(e){return $(this,e).get(e)}function C(e){return $(this,e).has(e)}function P(e,t){var n=$(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function E(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new _;++t<n;)this.add(e[t])}function M(e){return this.__data__.set(e,ye),this}function A(e){return this.__data__.has(e)}function j(e){var t=this.__data__=new g(e);this.size=t.size}function R(){this.__data__=new g,this.size=0}function I(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function D(e){return this.__data__.get(e)}function L(e){return this.__data__.has(e)}function z(e,t){var n=this.__data__;if(n instanceof g){var r=n.__data__;if(!wt||r.length<ge-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _(r)}return n.set(e,t),this.size=n.size,this}function B(e,t){var n=Dt(e),r=!n&&It(e),i=!n&&!r&&Lt(e),o=!n&&!r&&!i&&zt(e),s=n||r||i||o,l=s?a(e.length,String):[],u=l.length;for(var c in e)!t&&!at.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||te(c,u))||l.push(c);return l}function N(e,t){for(var n=e.length;n--;)if(se(e[n][0],t))return n;return-1}function H(e,t,n){var r=t(e);return Dt(e)?r:i(r,n(e))}function V(e){return null==e?void 0===e?Ne:je:vt&&vt in Object(e)?ee(e):oe(e)}function F(e){return de(e)&&V(e)==ke}function U(e,t,n,r,i){return e===t||(null==e||null==t||!de(e)&&!de(t)?e!==e&&t!==t:W(e,t,n,r,U,i))}function W(e,t,n,r,i,o){var a=Dt(e),s=Dt(t),l=a?_e:Rt(e),u=s?_e:Rt(t);l=l==ke?Re:l,u=u==ke?Re:u;var c=l==Re,f=u==Re,h=l==u;if(h&&Lt(e)){if(!Lt(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new j),a||zt(e)?Z(e,t,n,r,i,o):q(e,t,l,n,r,i,o);if(!(n&be)){var d=c&&at.call(e,"__wrapped__"),p=f&&at.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,m=p?t.value():t;return o||(o=new j),i(v,m,n,r,o)}}return!!h&&(o||(o=new j),K(e,t,n,r,i,o))}function Y(e){return!(!he(e)||re(e))&&(ce(e)?ut:Ue).test(ae(e))}function G(e){return de(e)&&fe(e.length)&&!!Ye[V(e)]}function X(e){if(!ie(e))return yt(e);var t=[];for(var n in Object(e))at.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Z(e,t,n,r,i,a){var l=n&be,u=e.length,c=t.length;if(u!=c&&!(l&&c>u))return!1;var f=a.get(e);if(f&&a.get(t))return f==t;var h=-1,d=!0,p=n&we?new E:void 0;for(a.set(e,t),a.set(t,e);++h<u;){var v=e[h],m=t[h];if(r)var g=l?r(m,v,h,t,e,a):r(v,m,h,e,t,a);if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!o(t,function(e,t){if(!s(p,t)&&(v===e||i(v,e,n,r,a)))return p.push(t)})){d=!1;break}}else if(v!==m&&!i(v,m,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function q(e,t,n,r,i,o,a){switch(n){case Ve:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case He:return!(e.byteLength!=t.byteLength||!o(new ht(e),new ht(t)));case Te:case Oe:case Ae:return se(+e,+t);case Ce:return e.name==t.name&&e.message==t.message;case De:case ze:return e==t+"";case Me:var s=u;case Le:var l=r&be;if(s||(s=c),e.size!=t.size&&!l)return!1;var f=a.get(e);if(f)return f==t;r|=we,a.set(e,t);var h=Z(s(e),s(t),r,i,o,a);return a.delete(e),h;case Be:if(At)return At.call(e)==At.call(t)}return!1}function K(e,t,n,r,i,o){var a=n&be,s=J(e),l=s.length;if(l!=J(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:at.call(t,c)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);for(var d=a;++u<l;){c=s[u];var p=e[c],v=t[c];if(r)var m=a?r(v,p,c,t,e,o):r(p,v,c,e,t,o);if(!(void 0===m?p===v||i(p,v,n,r,o):m)){h=!1;break}d||(d="constructor"==c)}if(h&&!d){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(e),o.delete(t),h}function J(e){return H(e,pe,jt)}function $(e,t){var n=e.__data__;return ne(t)?n["string"==typeof t?"string":"hash"]:n.map}function Q(e,t){var n=l(e,t);return Y(n)?n:void 0}function ee(e){var t=at.call(e,vt),n=e[vt];try{e[vt]=void 0;var r=!0}catch(e){}var i=lt.call(e);return r&&(t?e[vt]=n:delete e[vt]),i}function te(e,t){return!!(t=null==t?xe:t)&&("number"==typeof e||We.test(e))&&e>-1&&e%1==0&&e<t}function ne(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function re(e){return!!st&&st in e}function ie(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||rt)}function oe(e){return lt.call(e)}function ae(e){if(null!=e){try{return ot.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function se(e,t){return e===t||e!==e&&t!==t}function le(e){return null!=e&&fe(e.length)&&!ce(e)}function ue(e,t){return U(e,t)}function ce(e){if(!he(e))return!1;var t=V(e);return t==Pe||t==Ee||t==Se||t==Ie}function fe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=xe}function he(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function de(e){return null!=e&&"object"==typeof e}function pe(e){return le(e)?B(e):X(e)}function ve(){return[]}function me(){return!1}var ge=200,ye="__lodash_hash_undefined__",be=1,we=2,xe=9007199254740991,ke="[object Arguments]",_e="[object Array]",Se="[object AsyncFunction]",Te="[object Boolean]",Oe="[object Date]",Ce="[object Error]",Pe="[object Function]",Ee="[object GeneratorFunction]",Me="[object Map]",Ae="[object Number]",je="[object Null]",Re="[object Object]",Ie="[object Proxy]",De="[object RegExp]",Le="[object Set]",ze="[object String]",Be="[object Symbol]",Ne="[object Undefined]",He="[object ArrayBuffer]",Ve="[object DataView]",Fe=/[\\^$.*+?()[\]{}|]/g,Ue=/^\[object .+?Constructor\]$/,We=/^(?:0|[1-9]\d*)$/,Ye={};Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye[ke]=Ye[_e]=Ye[He]=Ye[Te]=Ye[Ve]=Ye[Oe]=Ye[Ce]=Ye[Pe]=Ye[Me]=Ye[Ae]=Ye[Re]=Ye[De]=Ye[Le]=Ye[ze]=Ye["[object WeakMap]"]=!1;var Ge="object"==typeof e&&e&&e.Object===Object&&e,Xe="object"==typeof self&&self&&self.Object===Object&&self,Ze=Ge||Xe||Function("return this")(),qe="object"==typeof t&&t&&!t.nodeType&&t,Ke=qe&&"object"==typeof n&&n&&!n.nodeType&&n,Je=Ke&&Ke.exports===qe,$e=Je&&Ge.process,Qe=function(){try{return $e&&$e.binding&&$e.binding("util")}catch(e){}}(),et=Qe&&Qe.isTypedArray,tt=Array.prototype,nt=Function.prototype,rt=Object.prototype,it=Ze["__core-js_shared__"],ot=nt.toString,at=rt.hasOwnProperty,st=function(){var e=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),lt=rt.toString,ut=RegExp("^"+ot.call(at).replace(Fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ct=Je?Ze.Buffer:void 0,ft=Ze.Symbol,ht=Ze.Uint8Array,dt=rt.propertyIsEnumerable,pt=tt.splice,vt=ft?ft.toStringTag:void 0,mt=Object.getOwnPropertySymbols,gt=ct?ct.isBuffer:void 0,yt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),bt=Q(Ze,"DataView"),wt=Q(Ze,"Map"),xt=Q(Ze,"Promise"),kt=Q(Ze,"Set"),_t=Q(Ze,"WeakMap"),St=Q(Object,"create"),Tt=ae(bt),Ot=ae(wt),Ct=ae(xt),Pt=ae(kt),Et=ae(_t),Mt=ft?ft.prototype:void 0,At=Mt?Mt.valueOf:void 0;f.prototype.clear=h,f.prototype.delete=d,f.prototype.get=p,f.prototype.has=v,f.prototype.set=m,g.prototype.clear=y,g.prototype.delete=b,g.prototype.get=w,g.prototype.has=x,g.prototype.set=k,_.prototype.clear=S,_.prototype.delete=T,_.prototype.get=O,_.prototype.has=C,_.prototype.set=P,E.prototype.add=E.prototype.push=M,E.prototype.has=A,j.prototype.clear=R,j.prototype.delete=I,j.prototype.get=D,j.prototype.has=L,j.prototype.set=z;var jt=mt?function(e){return null==e?[]:(e=Object(e),r(mt(e),function(t){return dt.call(e,t)}))}:ve,Rt=V;(bt&&Rt(new bt(new ArrayBuffer(1)))!=Ve||wt&&Rt(new wt)!=Me||xt&&"[object Promise]"!=Rt(xt.resolve())||kt&&Rt(new kt)!=Le||_t&&"[object WeakMap]"!=Rt(new _t))&&(Rt=function(e){var t=V(e),n=t==Re?e.constructor:void 0,r=n?ae(n):"";if(r)switch(r){case Tt:return Ve;case Ot:return Me;case Ct:return"[object Promise]";case Pt:return Le;case Et:return"[object WeakMap]"}return t});var It=F(function(){return arguments}())?F:function(e){return de(e)&&at.call(e,"callee")&&!dt.call(e,"callee")},Dt=Array.isArray,Lt=gt||me,zt=et?function(e){return function(t){return e(t)}}(et):G;n.exports=ue}).call(t,n(43),n(86)(e))},function(e,t,n){var r=n(42),i=n(18),o=r(i,"Map");e.exports=o},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(593),o=n(594),a=n(595),s=n(596),l=n(597);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,e.exports=r},function(e,t,n){function r(e){var t=this.__data__=new i(e);this.size=t.size}var i=n(76),o=n(609),a=n(610),s=n(611),l=n(612),u=n(613);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=l,r.prototype.set=u,e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}var i=n(208);e.exports=r},function(e,t,n){var r=n(228),i=r(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){var r=n(525),i=n(234),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(e){return null==e?[]:(e=Object(e),r(s(e),function(t){return a.call(e,t)}))}:i;e.exports=l},function(e,t){function n(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){function r(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!a.test(e)||null!=t&&e in Object(t))}var i=n(15),o=n(60),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}var r=Object.prototype;e.exports=n},function(e,t,n){(function(e){var r=n(223),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a&&r.process,l=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=l}).call(t,n(86)(e))},function(e,t,n){function r(e,t){return e&&i(e,o(t))}var i=n(214),o=n(219);e.exports=r},function(e,t,n){var r=n(535),i=n(24),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){(function(e){var r=n(18),i=n(631),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,l=s?r.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||i;e.exports=c}).call(t,n(86)(e))},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t,n){"use strict";(function(e,r){function i(e){if(e){var t=e.length||e.byteLength,n=y.log2(t);k[n].push(e)}}function o(e){i(e.buffer)}function a(e){var e=y.nextPow2(e),t=y.log2(e),n=k[t];return n.length>0?n.pop():new ArrayBuffer(e)}function s(e){return new Uint8Array(a(e),0,e)}function l(e){return new Uint16Array(a(2*e),0,e)}function u(e){return new Uint32Array(a(4*e),0,e)}function c(e){return new Int8Array(a(e),0,e)}function f(e){return new Int16Array(a(2*e),0,e)}function h(e){return new Int32Array(a(4*e),0,e)}function d(e){return new Float32Array(a(4*e),0,e)}function p(e){return new Float64Array(a(8*e),0,e)}function v(e){return w?new Uint8ClampedArray(a(e),0,e):s(e)}function m(e){return new DataView(a(e),0,e)}function g(e){e=y.nextPow2(e);var t=y.log2(e),n=_[t];return n.length>0?n.pop():new r(e)}var y=n(90),b=n(502);e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:b([32,0]),UINT16:b([32,0]),UINT32:b([32,0]),INT8:b([32,0]),INT16:b([32,0]),INT32:b([32,0]),FLOAT:b([32,0]),DOUBLE:b([32,0]),DATA:b([32,0]),UINT8C:b([32,0]),BUFFER:b([32,0])});var w="undefined"!=typeof Uint8ClampedArray,x=e.__TYPEDARRAY_POOL;x.UINT8C||(x.UINT8C=b([32,0])),x.BUFFER||(x.BUFFER=b([32,0]));var k=x.DATA,_=x.BUFFER;t.free=function(e){if(r.isBuffer(e))_[y.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,n=0|y.log2(t);k[n].push(e)}},t.freeUint8=t.freeUint16=t.freeUint32=t.freeInt8=t.freeInt16=t.freeInt32=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=o,t.freeArrayBuffer=i,t.freeBuffer=function(e){_[y.log2(e.length)].push(e)},t.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return a(e);switch(t){case"uint8":return s(e);case"uint16":return l(e);case"uint32":return u(e);case"int8":return c(e);case"int16":return f(e);case"int32":return h(e);case"float":case"float32":return d(e);case"double":case"float64":return p(e);case"uint8_clamped":return v(e);case"buffer":return g(e);case"data":case"dataview":return m(e);default:return null}return null},t.mallocArrayBuffer=a,t.mallocUint8=s,t.mallocUint16=l,t.mallocUint32=u,t.mallocInt8=c,t.mallocInt16=f,t.mallocInt32=h,t.mallocFloat32=t.mallocFloat=d,t.mallocFloat64=t.mallocDouble=p,t.mallocUint8Clamped=v,t.mallocDataView=m,t.mallocBuffer=g,t.clearCache=function(){for(var e=0;e<32;++e)x.UINT8[e].length=0,x.UINT16[e].length=0,x.UINT32[e].length=0,x.INT8[e].length=0,x.INT16[e].length=0,x.INT32[e].length=0,x.FLOAT[e].length=0,x.DOUBLE[e].length=0,x.UINT8C[e].length=0,k[e].length=0,_[e].length=0}}).call(t,n(43),n(156).Buffer)},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BarTrack=void 0;var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),u=n(12),c=n(66),f=n(3),h=t.BarTrack=function(e){function t(e,n,o,a,s,l){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,l))}return o(t,e),s(t,[{key:"initTile",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initTile",this).call(this,e),e.barXValues=new Array(e.tileData.dense.length),e.barYValues=new Array(e.tileData.dense.length),e.barWidths=new Array(e.tileData.dense.length),e.barHeights=new Array(e.tileData.dense.length),e.barColors=new Array(e.tileData.dense.length),this.renderTile(e)}return e}()},{key:"drawTile",value:function(){function e(e){}return e}()},{key:"renderTile",value:function(){function e(e){if(e.graphics){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),r=n.tileX,i=n.tileWidth,o=e.tileData.dense;if(0!=o.length){var a=0;if(this.valueScale=null,"log"==this.options.valueScaling){var s=this.medianVisibleValue;this.medianVisibleValue||(s=this.minVisibleValue()),this.valueScale=(0,u.scaleLog)().domain([s,this.maxValue()+s]).range([this.dimensions[1],0]),a=s}else this.valueScale=(0,u.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(t.clear(),this.drawAxis(this.valueScale),"log"==this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var l=(0,f.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),c=(0,u.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([r,r+i]);t.lineStyle(0,l,1);var h=this.options.barFillColor?this.options.barFillColor:"grey",d=(0,f.colorToHex)(h),p="barOpacity"in this.options?this.options.barOpacity:1;t.beginFill(d,p);e.drawnAtScale=this._xScale.copy();for(var v=0;v<o.length;v++){var m=this._xScale(c(v)),g=this.valueScale(o[v]+a),y=this._xScale(c(v+1))-m,b=this.dimensions[1]-g;if(e.barColors[v]=h,e.barXValues[v]=m,e.barYValues[v]=g,e.barWidths[v]=y,e.barHeights[v]=b,c(v)>this.tilesetInfo.max_pos[0])break;t.drawRect(m,g,y,b)}}}}return e}()},{key:"draw",value:function(){function e(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this);var e=!0,n=!1,r=void 0;try{for(var i,o=(0,f.dictValues)(this.fetchedTiles)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,s=(a.drawnAtScale.domain()[1]-a.drawnAtScale.domain()[0])/(this._xScale.domain()[1]-this._xScale.domain()[0]),u=this._xScale.domain().map(a.drawnAtScale),c=u[0];a.graphics.scale.x=s,a.graphics.position.x=-c*s}}catch(e){n=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,o){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n)}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null,r=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"superSVG",this).call(this),i=a(r,2);n=i[0],e=i[1],n.setAttribute("class","exported-line-track");var o=document.createElement("g");e.appendChild(o),o.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")");var s=(this.options.lineStrokeColor&&this.options.lineStrokeColor,!0),u=!1,c=void 0;try{for(var f,h=this.visibleAndFetchedTiles()[Symbol.iterator]();!(s=(f=h.next()).done);s=!0)for(var d=f.value,p=0;p<d.barXValues.length;p++){var v=document.createElement("rect");this.options.barFillColor&&this.options.barFillColor;v.setAttribute("fill",d.barColors[p]),v.setAttribute("stroke",d.barColors[p]),v.setAttribute("x",d.barXValues[p]),v.setAttribute("y",d.barYValues[p]),v.setAttribute("height",d.barHeights[p]),v.setAttribute("width",d.barWidths[p]),o.appendChild(v)}}catch(e){u=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(u)throw c}}var m=document.createElement("g");if(m.setAttribute("id","axis"),n.appendChild(m),m.setAttribute("transform","translate("+this.axis.pAxis.position.x+", "+this.axis.pAxis.position.y+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var g=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);m.appendChild(g)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var y=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);m.appendChild(y)}return[n,e]}return e}()}]),t}(c.HorizontalLine1DPixiTrack);t.default=h},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=r(c),h=n(2),d=r(h),p=n(4),v=n(12),m=n(37),g=n(10),y=r(g),b=n(11),w=r(b),x=n(688),k=r(x),_=n(158),S=n(8),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(S),O=n(708),C=r(O),P=n(705),E=r(P),M=n(285),A=n(264),j=r(A),R=n(263),I=n(313),D=n(151),L=n(296),z=r(L),B=n(28),N=n(300),H=r(N),V=n(7),F=n(3),U=n(6),W=n(509),Y=(r(W),n(207)),G=r(Y),X=n(505),Z=(r(X),(0,x.WidthProvider)(k.default),12),q=12,K=20,J=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));console.log("heeeeyaa"),n.minHorizontalHeight=20,n.minVerticalWidth=20,n.resizeSensor=null,n.uid=y.default.nice(),n.rowHeight=40,n.tiledPlots={},n.genomePositionSearchBoxes={},n.xScales={},n.yScales={},n.topDiv=null,n.viewTrackUidsToCombinedUid={},n.combinedUidToViewTrack={},n.scalesChangedListeners={},n.draggingChangedListeners={},n.valueScalesChangedListeners={},n.zoomLocks={},n.locationLocks={},n.valueScaleLocks={},n.setCenters={},n.plusImg={},n.configImg={},n.horizontalMargin=5,n.verticalMargin=5,n.genomePositionSearchBox=null,n.viewHeaders={},n.boundRefreshView=function(){n.refreshView(U.LONG_DRAG_TIMEOUT)},n.viewConfig=n.props.viewConfig,n.pixiStage=new T.Container,n.pixiStage.interactive=!0,n.element=null;var r=n.processViewConfig(JSON.parse(JSON.stringify(n.props.viewConfig))),i=U.MOUSE_TOOL_MOVE;if(n.props.options)switch(n.props.options.mouseTool){case U.MOUSE_TOOL_SELECT:i=U.MOUSE_TOOL_SELECT}return n.mounted=!1,n.state={bounded:!!n.props.options&&n.props.options.bounded,currentBreakpoint:"lg",width:0,height:0,rowHeight:30,svgElement:null,canvasElement:null,views:r,addTrackPositionMenuPosition:null,mouseOverOverlayUid:null,exportLinkModalOpen:!1,exportLinkLocation:null,mouseTool:i},(0,F.dictValues)(r).map(function(e){return n.adjustLayoutToTrackSizes(e)}),n.attachedToDOM=!1,n.api=(0,H.default)(n),n.rangeSelectionListener=[],n.viewChangeListener=[],n.triggerViewChangeDb=(0,F.debounce)(n.triggerViewChange.bind(n),250),n.pubSubs=[],n.rangeSelection=[null,null],n}return s(t,e),u(t,[{key:"componentWillMount",value:function(){function e(){V.domEvent.register("keydown",document),V.domEvent.register("keyup",document),V.domEvent.register("scroll",document),V.domEvent.register("resize",window),V.domEvent.register("orientationchange",window),this.pubSubs=[],this.pubSubs.push(V.pubSub.subscribe("keydown",this.keyDownHandler.bind(this))),this.pubSubs.push(V.pubSub.subscribe("keyup",this.keyUpHandler.bind(this))),this.pubSubs.push(V.pubSub.subscribe("resize",this.resizeHandler.bind(this))),this.pubSubs.push(V.pubSub.subscribe("orientationchange",this.resizeHandler.bind(this))),this.props.getApi&&this.props.getApi(this.api)}return e}()},{key:"waitForDOMAttachment",value:function(){function e(e){var t=this;if(this.mounted){var n=w.default.findDOMNode(this);document.body.contains(n)?e():requestAnimationFrame(function(){return t.waitForDOMAttachment(e)})}}return e}()},{key:"componentDidMount",value:function(){function e(){var e=this;this.mounted=!0,this.element=w.default.findDOMNode(this),window.addEventListener("focus",this.boundRefreshView),(0,F.dictValues)(this.state.views).forEach(function(t){t.layout?t.layout.i=t.uid:t.layout=e.generateViewLayout(t)}),this.pixiRenderer=T.autoDetectRenderer(this.state.width,this.state.height,{view:this.canvasElement,antialias:!0,transparent:!0,resolution:2,autoResize:!0}),this.fitPixiToParentContainer(),this.setState({svgElement:this.svgElement,canvasElement:this.canvasElement}),this.waitForDOMAttachment(function(){_.ElementQueries.listen(),e.resizeSensor=new _.ResizeSensor(e.element.parentNode,e.updateAfterResize.bind(e)),e.updateAfterResize()}),this.handleDragStart(),this.handleDragStop(),this.animate();var t=(0,p.select)(this.element).append("svg").style("display","none");D.all.forEach(function(e){return(0,I.createSymbolIcon)(t,e.id,e.paths,e.viewBox)})}return e}()},{key:"componentWillReceiveProps",value:function(){function e(e){var t=this.processViewConfig(e.viewConfig);this.setState({views:t})}return e}()},{key:"componentWillUpdate",value:function(){function e(e,t){this.pixiRenderer.render(this.pixiStage)}return e}()},{key:"componentDidUpdate",value:function(){function e(){this.animate(),this.triggerViewChangeDb()}return e}()},{key:"componentWillUnmount",value:function(){function e(){this.mounted=!1,this.pixiStage.destroy(!1),this.pixiStage=null,this.pixiRenderer.destroy(!0),this.pixiRenderer=null,window.removeEventListener("focus",this.boundRefreshView),this.resizeSensor&&this.resizeSensor.detach(),V.domEvent.unregister("keydown",document),V.domEvent.unregister("keyup",document),V.domEvent.unregister("scroll",document),this.pubSubs.forEach(function(e){return V.pubSub.unsubscribe(e)}),this.pubSubs=[]}return e}()},{key:"fitPixiToParentContainer",value:function(){function e(){if(!this.element.parentNode)return void console.warn("No parentNode:",this.element);var e=this.element.parentNode.clientWidth,t=this.element.parentNode.clientHeight;this.pixiRenderer.resize(e,t),this.pixiRenderer.view.style.width=e+"px",this.pixiRenderer.view.style.height=t+"px",this.pixiRenderer.render(this.pixiStage)}return e}()},{key:"addDefaultOptions",value:function(){function e(e){if(!U.TRACKS_INFO_BY_TYPE.hasOwnProperty(e.type))return void console.error("ERROR: track type not found:",e.type," (check app/scripts/config/ for a list of defined track types)");var t=e.options?e.options:{};if(U.TRACKS_INFO_BY_TYPE[e.type].defaultOptions)if(e.options)for(var n in U.TRACKS_INFO_BY_TYPE[e.type].defaultOptions)e.options[n]=e.options[n]?e.options[n]:JSON.parse(JSON.stringify(U.TRACKS_INFO_BY_TYPE[e.type].defaultOptions[n]));else e.options=JSON.parse(JSON.stringify(U.TRACKS_INFO_BY_TYPE[e.type].defaultOptions));else e.options=t}return e}()},{key:"keyDownHandler",value:function(){function e(e){this.props.options.rangeSelectionOnAlt&&"Alt"===e.key&&this.setState({mouseTool:U.MOUSE_TOOL_SELECT})}return e}()},{key:"keyUpHandler",value:function(){function e(e){this.props.options.rangeSelectionOnAlt&&"Alt"===e.key&&this.setState({mouseTool:U.MOUSE_TOOL_MOVE})}return e}()},{key:"animate",value:function(){function e(){var e=this;requestAnimationFrame(function(){e.pixiRenderer&&e.pixiRenderer.render(e.pixiStage)})}return e}()},{key:"measureSize",value:function(){function e(){var e=this.element.clientHeight-0,t=this.element.clientWidth;t>0&&e>0&&this.setState({sizeMeasured:!0,width:t,height:e})}return e}()},{key:"updateAfterResize",value:function(){function e(){this.measureSize(),this.updateRowHeight(),this.fitPixiToParentContainer(),this.refreshView(U.LONG_DRAG_TIMEOUT)}return e}()},{key:"onBreakpointChange",value:function(){function e(e){this.setState({currentBreakpoint:e})}return e}()},{key:"handleOverlayMouseEnter",value:function(){function e(e){this.setState({mouseOverOverlayUid:e})}return e}()},{key:"handleOverlayMouseLeave",value:function(){function e(e){this.setState({mouseOverOverlayUid:null})}return e}()},{key:"handleLockLocation",value:function(){function e(e){var t=this;this.setState({chooseViewHandler:function(){function n(n){return t.handleLocationLockChosen(e,n)}return n}(),mouseOverOverlayUid:e})}return e}()},{key:"updateLockedValueScales",value:function(){function e(e,t){this.valueScaleLocks[this.combineViewAndTrackUid(e,t)]}return e}()},{key:"iterateOverViews",value:function(){function e(){var e=[];for(var t in this.state.views)e.push(t);return e}return e}()},{key:"iterateOverTracksInView",value:function(){function e(e){var t=[],n=this.state.views[e].tracks;for(var r in n){var i=!0,o=!1,a=void 0;try{for(var s,l=n[r][Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;if("combined"===u.type&&u.contents){var c=!0,f=!1,h=void 0;try{for(var d,p=u.contents[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var v=d.value;t.push({viewId:e,trackId:v.uid,track:v})}}catch(e){f=!0,h=e}finally{try{!c&&p.return&&p.return()}finally{if(f)throw h}}}else t.push({viewId:e,trackId:u.uid,track:u})}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}return t}return e}()},{key:"iterateOverTracks",value:function(){function e(){var e=[];for(var t in this.state.views){var n=this.state.views[t].tracks;for(var r in n){var i=!0,o=!1,a=void 0;try{for(var s,l=n[r][Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;if("combined"===u.type&&u.contents){var c=!0,f=!1,h=void 0;try{for(var d,p=u.contents[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var v=d.value;e.push({viewId:t,trackId:v.uid,track:v})}}catch(e){f=!0,h=e}finally{try{!c&&p.return&&p.return()}finally{if(f)throw h}}}else e.push({viewId:t,trackId:u.uid,track:u})}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}}return e}return e}()},{key:"setMouseTool",value:function(){function e(e){this.setState({mouseTool:e})}return e}()},{key:"syncValueScales",value:function(){function e(e,t){var n=this,r=this.combineViewAndTrackUid(e,t),o=(0,F.getTrackByUid)(this.state.views[e].tracks,t);if(this.valueScaleLocks[r]){var a=(0,F.dictValues)(this.valueScaleLocks[r]),s=a.filter(function(e){return n.tiledPlots[e.view]}).map(function(e){return n.tiledPlots[e.view].trackRenderer.getTrackObject(e.track)}),l=s.filter(function(e){return e.minRawValue&&e.maxRawValue}).map(function(e){return e.minRawValue()}).filter(function(e){return e}),u=s.filter(function(e){return e.minRawValue&&e.maxRawValue}).map(function(e){return e.maxRawValue()}).filter(function(e){return e}),c=Math.min.apply(Math,i(l)),f=Math.max.apply(Math,i(u)),h=!0,d=!1,p=void 0;try{for(var v,m=s[Symbol.iterator]();!(h=(v=m.next()).done);h=!0){var g=v.value;g.minValue&&g.minValue(c),g.maxValue&&g.maxValue(f),g.valueScale&&(g.valueScale.domain([c,f]),o.options&&void 0!==o.options.scaleStartPercent&&void 0!==o.options.scaleEndPercent&&(g.options.scaleStartPercent=o.options.scaleStartPercent,g.options.scaleEndPercent=o.options.scaleEndPercent),g.rerender(g.options,!0))}}catch(e){d=!0,p=e}finally{try{!h&&m.return&&m.return()}finally{if(d)throw p}}}}return e}()},{key:"handleNewTilesLoaded",value:function(){function e(e,t){this.animate()}return e}()},{key:"notifyDragChangedListeners",value:function(){function e(e){(0,F.dictValues)(this.draggingChangedListeners).forEach(function(t){(0,F.dictValues)(t).forEach(function(t){return t(e)})})}return e}()},{key:"addDraggingChangedListener",value:function(){function e(e,t,n){this.draggingChangedListeners.hasOwnProperty(e)||(this.draggingChangedListeners[e]={}),this.draggingChangedListeners[e][t]=n,n(!0),n(!1)}return e}()},{key:"removeDraggingChangedListener",value:function(){function e(e,t){if(this.draggingChangedListeners.hasOwnProperty(e)){var n=this.draggingChangedListeners[e];n.hasOwnProperty(t)&&(n[t](!1),delete n[t])}}return e}()},{key:"addScalesChangedListener",value:function(){function e(e,t,n){this.scalesChangedListeners.hasOwnProperty(e)||(this.scalesChangedListeners[e]={}),this.scalesChangedListeners[e][t]=n,this.xScales[e]&&this.yScales[e]&&n(this.xScales[e],this.yScales[e])}return e}()},{key:"removeScalesChangedListener",value:function(){function e(e,t){if(this.scalesChangedListeners.hasOwnProperty(e)){var n=this.scalesChangedListeners[e];n.hasOwnProperty(t)&&delete n[t]}}return e}()},{key:"createSVG",value:function(){function e(){var e=document.createElement("svg");e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("xmlns","http://www.w3.org/2000/svg");var t=!0,n=!1,r=void 0;try{for(var i,o=(0,F.dictValues)(this.tiledPlots)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(a){var s=!0,l=!1,u=void 0;try{for(var c,f=(0,F.dictValues)(a.trackRenderer.trackDefObjects)[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;if(h.trackObject.exportSVG){var d=h.trackObject.exportSVG()[0];e.appendChild(d)}}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return e}return e}()},{key:"handleExportSVG",value:function(){function e(){var e=this.createSVG(),t=(new XMLSerializer).serializeToString(e);C.default.xml(t);return(0,F.download)("export.svg",C.default.xml(t)),e}return e}()},{key:"handleScalesChanged",value:function(){function e(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(this.xScales[e]=t,this.yScales[e]=n,i&&this.scalesChangedListeners.hasOwnProperty(e)&&(0,F.dictValues)(this.scalesChangedListeners[e]).forEach(function(e){e(t,n)}),this.zoomLocks[e])for(var o=this.zoomLocks[e],a=(0,F.dictItems)(o),s=(0,F.scalesCenterAndK)(this.xScales[e],this.yScales[e]),u=l(s,3),c=(u[0],u[1],u[2]),f=function(){function t(t){var n=a[t][0],i=a[t][1];if(!r.xScales[n]||!r.yScales[n])return"continue";if(n==e)return"continue";var s=(0,F.scalesCenterAndK)(r.xScales[n],r.yScales[n]),u=l(s,3),f=u[0],h=u[1],d=(u[2],i[0],o[e][0],i[1],o[e][1],i[2]/o[e][2]),p=c*d;if(!r.setCenters[n])return"continue";var v=r.setCenters[n](f,h,p,!1),m=l(v,2),g=m[0],y=m[1];r.xScales[n]=g,r.yScales[n]=y,r.scalesChangedListeners.hasOwnProperty(n)&&(0,F.dictValues)(r.scalesChangedListeners[n]).forEach(function(e){e(g,y)})}return t}(),h=0;h<a.length;h++){f(h)}if(this.locationLocks[e])for(var d=this.locationLocks[e],p=(0,F.dictItems)(d),v=(0,F.scalesCenterAndK)(this.xScales[e],this.yScales[e]),m=l(v,3),g=m[0],y=m[1],b=(m[2],function(){function t(t){var n=p[t][0],i=p[t][1];if(!r.xScales[n]||!r.yScales[n])return"continue";var o=(0,F.scalesCenterAndK)(r.xScales[n],r.yScales[n]),a=l(o,3),s=(a[0],a[1],a[2]);if(n==e)return"continue";var u=i[0]-d[e][0],c=i[1]-d[e][1],f=g+u,h=y+c;if(!r.setCenters[n])return"continue";var v=r.setCenters[n](f,h,s,!1),m=l(v,2),b=m[0],w=m[1];r.xScales[n]=b,r.yScales[n]=w,r.scalesChangedListeners.hasOwnProperty(n)&&(0,F.dictValues)(r.scalesChangedListeners[n]).forEach(function(e){e(b,w)})}return t}()),h=0;h<p.length;h++){b(h)}this.animate(),this.triggerViewChangeDb()}return e}()},{key:"handleProjectViewport",value:function(){function e(e){var t=this;this.setState({chooseTrackHandler:function(){function n(n,r){return t.handleViewportProjected(e,n,r)}return n}()})}return e}()},{key:"handleZoomToData",value:function(){function e(e){if(!this.tiledPlots[e])throw"View uid "+e+" does not exist in the current viewConfig";this.tiledPlots[e].handleZoomToData()}return e}()},{key:"handleYankFunction",value:function(){function e(e,t){this.setState({chooseViewHandler:function(){function n(n){return t(e,n)}return n}(),mouseOverOverlayUid:e})}return e}()},{key:"handleUnlock",value:function(){function e(e,t){var n=t[e],r=(0,F.dictKeys)(n);if(2==r.length)return delete t[r[0]],void delete t[r[1]];t[e]&&t[e][e]&&delete t[e][e],t[e]&&delete t[e]}return e}()},{key:"viewScalesLockData",value:function(){function e(e){return this.xScales[e]&&this.yScales[e]?(0,F.scalesCenterAndK)(this.xScales[e],this.yScales[e]):void console.warn("View scale lock doesn't correspond to existing uid: ",e)}return e}()},{key:"addLock",value:function(){function e(e,t,n,r){var i=[],o=[];i=n[e]?(0,F.dictItems)(n[e]).filter(function(e){return r(e[0])}).map(function(e){return[e[0],r(e[0])]}):[[e,r.bind(this)(e)]],o=n[t]?(0,F.dictItems)(n[t]).filter(function(e){return r(e[0])}).map(function(e){return[e[0],r(e[0])]}):[[t,r.bind(this)(t)]];var a=i.concat(o),s=(0,F.dictFromTuples)(a);a.forEach(function(e){n[e[0]]=s})}return e}()},{key:"handleLocationLockChosen",value:function(){function e(e,t){if(e==t)return void this.setState({chooseViewHandler:null});this.addLock(e,t,this.locationLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})}return e}()},{key:"handleZoomLockChosen",value:function(){function e(e,t){if(e==t)return void this.setState({chooseViewHandler:null});this.addLock(e,t,this.zoomLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})}return e}()},{key:"handleViewportProjected",value:function(){function e(e,t,n){var r=null;if(e==t)alert("A view can not show its own viewport.");else{var i=(0,F.getTrackByUid)(this.state.views[t].tracks,n),o=(0,F.getTrackPositionByUid)(this.state.views[t].tracks,n);r=y.default.nice();var a={top:"horizontal",bottom:"horizontal",center:"center",left:"vertical",right:"vertical"},s={uid:r,type:"viewport-projection-"+a[o],fromViewUid:e};this.addCallbacks(t,s),this.handleTrackAdded(t,s,o,i)}return this.setState({chooseTrackHandler:null}),r}return e}()},{key:"handleLocationYanked",value:function(){function e(e,t){var n=this.xScales[t],r=this.yScales[t],i=this.xScales[e],o=this.yScales[e],a=(0,F.scalesCenterAndK)(i,o),s=l(a,3),u=(s[0],s[1],s[2]),c=(0,F.scalesCenterAndK)(n,r),f=l(c,3),h=f[0],d=f[1];f[2];this.setCenters[e](h,d,u,!0),this.setState({chooseViewHandler:null})}return e}()},{key:"handleZoomYanked",value:function(){function e(e,t){var n=this.xScales[t],r=this.yScales[t],i=this.xScales[e],o=this.yScales[e],a=(0,F.scalesCenterAndK)(i,o),s=l(a,3),u=s[0],c=s[1],f=(s[2],(0,F.scalesCenterAndK)(n,r)),h=l(f,3),d=(h[0],h[1],h[2]);this.setCenters[e](u,c,d,!0),this.setState({chooseViewHandler:null})}return e}()},{key:"handleTrackPositionChosen",value:function(){function e(e,t){this.setState({addTrackPosition:t,addTrackPositionView:e})}return e}()},{key:"updateRowHeight",value:function(){function e(){if(this.props.options&&this.props.options.bounded){var e=this.element.parentNode.clientHeight,t=0,n=!0,r=!1,i=void 0;try{for(var o,a=(0,F.dictValues)(this.state.views)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t=Math.max(t,s.layout.y+s.layout.h)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.handleDragStart(),this.handleDragStop();var l=this.props.viewConfig.editable?10:0,u=l*t-1,c=e-u,f=c/t,h=Math.floor(f);this.setState({rowHeight:h})}}return e}()},{key:"handleLayoutChange",value:function(){function e(e,t){if(this.element){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=this.state.views[s.i];l&&(l.layout=s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.updateRowHeight(),this.refreshView(U.LONG_DRAG_TIMEOUT)}}return e}()},{key:"clearDragTimeout",value:function(){function e(){this.dragTimeout&&(clearTimeout(this.dragTimeout),this.dragTimeout=null)}return e}()},{key:"forceRefreshView",value:function(){function e(){this.setState(this.state)}return e}()},{key:"refreshView",value:function(){function e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U.SHORT_DRAG_TIMEOUT;this.clearDragTimeout(),this.notifyDragChangedListeners(!0),this.clearDragTimeout(),this.dragTimeout=setTimeout(function(){e.notifyDragChangedListeners(!1)},t)}return e}()},{key:"handleDragStart",value:function(){function e(e,t,n,r,i,o){this.clearDragTimeout(),this.notifyDragChangedListeners(!0)}return e}()},{key:"handleDragStop",value:function(){function e(){var e=this;this.clearDragTimeout(),this.dragTimeout=setTimeout(function(){e.notifyDragChangedListeners(!1)},U.LONG_DRAG_TIMEOUT)}return e}()},{key:"resizeHandler",value:function(){function e(){(0,F.objVals)(this.viewHeaders).filter(function(e){return e}).forEach(function(e){return e.checkWidth()})}return e}()},{key:"fillInMinWidths",value:function(){function e(e){var t=["top","bottom"];"center"in e||(e.center=[]),"left"in e||(e.left=[]),"right"in e||(e.right=[]),"top"in e||(e.top=[]),"bottom"in e||(e.bottom=[]);for(var n=0;n<t.length;n++){var r=e[t[n]];if(r)for(var i=0;i<r.length;i++){var o=U.TRACKS_INFO_BY_TYPE[r[i].type];"height"in r[i]&&!(o&&r[i].height<o.minHeight)||(o&&o.minHeight?r[i].height=o.minHeight:r[i].height=this.minHorizontalHeight)}}for(var a=["left","right"],s=0;s<a.length;s++){var l=e[a[s]];if(l)for(var u=0;u<l.length;u++){var c=U.TRACKS_INFO_BY_TYPE[l[u].type];"width"in l[u]&&!(c&&l[u].width<c.minWidth)||(c&&c.minWidth?l[u].width=c.minWidth:l[u].width=this.minVerticalWidth)}}return e}return e}()},{key:"calculateViewDimensions",value:function(){function e(e){var t=2*this.horizontalMargin,n=2*this.verticalMargin,r=0;r+=10;if(e.tracks.top)for(var i=0;i<e.tracks.top.length;i++){var o=e.tracks.top[i];t+=o.height?o.height:20,r+=o.height?o.height:20}if(e.tracks.bottom)for(var a=0;a<e.tracks.bottom.length;a++){var s=e.tracks.bottom[a];t+=s.height?s.height:20,r+=s.height?s.height:20}(e.tracks.left&&e.tracks.left.length>0||e.tracks.right&&e.tracks.right.length>0||e.tracks.center&&e.tracks.center.length>0)&&(r+=20);var l=0;if(e.tracks.left)for(var u=0;u<e.tracks.left.length;u++){var c=e.tracks.left[u],f=c.height?c.height:100;n+=c.width?c.width:0,l=Math.max(l,f)}var h=0;if(e.tracks.right)for(var d=0;d<e.tracks.right.length;d++){var p=e.tracks.right[d],v=p.height?p.height:100;n+=p.width?p.width:0,h=Math.max(h,v)}var m=Math.max(l,h),g=0,y=0;if(e.tracks.center&&(0,F.dictValues)(e.tracks.center).length>0){if(!e.tracks.center[0].contents||e.tracks.center[0].contents.length>0){var b=null,w=null;if(e.tracks.center[0].contents){var x=!0,k=!1,_=void 0;try{for(var S,T=e.tracks.center[0].contents[Symbol.iterator]();!(x=(S=T.next()).done);x=!0){var O=S.value;b=Math.max(b,O.height?O.height:100),w=Math.max(w,O.width?O.width:100)}}catch(e){k=!0,_=e}finally{try{!x&&T.return&&T.return()}finally{if(k)throw _}}}else b=e.tracks.center[0].height?e.tracks.center[0].height:100,w=e.tracks.center[0].width?e.tracks.center[0].width:100;t+=b,n+=w}}else(e.tracks.top&&(0,F.dictValues)(e.tracks.top).length>1||e.tracks.bottom&&(0,F.dictValues)(e.tracks.bottom).length>1)&&(e.tracks.left&&(0,F.dictValues)(e.tracks.left).length||e.tracks.right&&(0,F.dictValues)(e.tracks.right).length)&&(y=100,g=100);t+=m>g?m:g;var C=0,P=0,E=0,M=0;return"top"in e.tracks&&(C=e.tracks.top.map(function(e){return e.height?e.height:20}).reduce(function(e,t){return e+t},0)),"bottom"in e.tracks&&(P=e.tracks.bottom.map(function(e){return e.height?e.height:20}).reduce(function(e,t){return e+t},0)),"left"in e.tracks&&(E=e.tracks.left.map(function(e){return e.width?e.width:0}).reduce(function(e,t){return e+t},0)),"right"in e.tracks&&(M=e.tracks.right.map(function(e){return e.width?e.width:0}).reduce(function(e,t){return e+t},0)),{totalWidth:n,totalHeight:t,topHeight:C,bottomHeight:P,leftWidth:E,rightWidth:M,centerWidth:y,centerHeight:g,minNecessaryHeight:r}}return e}()},{key:"generateViewLayout",value:function(){function e(e){var t=null;if("layout"in e)t=e.layout;else{var n=(this.element.clientWidth,this.calculateViewDimensions(e)),r=(n.totalWidth,n.totalHeight);n.topHeight,n.bottomHeight,n.leftWidth,n.rightWidth,n.centerWidth,n.centerHeight;e.searchBox&&(r+=30);Math.ceil(r/this.rowHeight);t={x:0,y:0,w:Z,h:q}}return t}return e}()},{key:"handleClearView",value:function(){function e(e){var t=this.state.views;t[e].tracks.top=[],t[e].tracks.bottom=[],t[e].tracks.center=[],t[e].tracks.left=[],t[e].tracks.right=[],this.setState({views:t})}return e}()},{key:"handleCloseView",value:function(){function e(e){if(1!=(0,F.dictValues)(this.state.views).length){this.handleUnlock(e,this.zoomLocks),delete this.state.views[e];var t=this.removeInvalidTracks(this.state.views);this.setState({views:t})}}return e}()},{key:"handleSeriesAdded",value:function(){function e(e,t,n,r){var i=this.state.views[e].tracks;if("combined"==r.type)r.contents.push(t);else for(var o={type:"combined",uid:y.default.nice(),height:r.height,width:r.width,contents:[r,t]},a=i[n],s=0;s<a.length;s++)a[s].uid==r.uid&&(a[s]=o);this.setState({views:this.state.views})}return e}()},{key:"handleNoTrackAdded",value:function(){function e(){this.state.addTrackPosition&&this.setState({addTrackPosition:null})}return e}()},{key:"handleTracksAdded",value:function(){function e(e,t,n,r){this.storeTrackSizes(e);var i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;this.handleTrackAdded(e,u,n,r)}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}return e}()},{key:"handleChangeTrackType",value:function(){function e(e,t,n){var r=this.state.views[e],i=(0,F.getTrackByUid)(r.tracks,t);i.uid=y.default.nice(),i.type=n,this.setState({views:this.state.views})}return e}()},{key:"handleTrackAdded",value:function(){function e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.addDefaultOptions(t),t.contents){var i=!0,o=!1,a=void 0;try{for(var s,l=t.contents[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;this.addDefaultOptions(u)}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}if(this.addNameToTrack(t),this.state.addTrackPosition&&this.setState({addTrackPosition:null}),r)return void this.handleSeriesAdded(e,t,n,r);t.width=U.TRACKS_INFO_BY_TYPE[t.type].minWidth?U.TRACKS_INFO_BY_TYPE[t.type].minWidth:this.minVerticalWidth,t.height=U.TRACKS_INFO_BY_TYPE[t.type].minHeight?U.TRACKS_INFO_BY_TYPE[t.type].minHeight:this.minHorizontalHeight;var c=this.state.views[e].tracks;if("left"==n||"top"==n)c[n].unshift(t);else if("center"==n)if(0==c.center.length){var f={uid:y.default.nice(),type:"combined",contents:[t]};c.center=[f]}else if("combined"==c.center[0].type)c.center[0].contents.push(t);else{var h={uid:y.default.nice(),type:"combined",contents:[c.center[0],t]};c.center=[h]}else c[n].push(t);return this.adjustLayoutToTrackSizes(this.state.views[e]),t}return e}()},{key:"storeTrackSizes",value:function(){function e(e){var t=(0,F.positionedTracksToAllTracks)(this.state.views[e].tracks),n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=this.tiledPlots[e].trackRenderer.getTrackObject(s.uid);s.width=l.dimensions[0],s.height=l.dimensions[1]}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}return e}()},{key:"adjustLayoutToTrackSizes",value:function(){function e(e){if(e.layout){var t=0;this.props.viewConfig.editable&&(t+=K);t+=this.calculateViewDimensions(e).totalHeight;var n=this.props.viewConfig.editable?10:0;this.props.options.bounded||(e.layout.h=Math.ceil((t+n)/(this.state.rowHeight+n)))}}return e}()},{key:"handleCloseTrack",value:function(){function e(e,t){var n=this.state.views[e].tracks;this.handleUnlockValueScale(e,t);for(var r in n){var i=n[r],o=i.filter(function(e){return e.uid!=t});if(o.length==i.length){o.filter(function(e){return"combined"==e.type}).forEach(function(e){e.contents=e.contents.filter(function(e){return e.uid!=t})})}else n[r]=o}return this.storeTrackSizes(e),this.adjustLayoutToTrackSizes(this.state.views[e]),this.setState({views:this.state.views}),this.state.views}return e}()},{key:"handleLockValueScale",value:function(){function e(e,t){var n=this;this.setState({chooseTrackHandler:function(){function r(r,i){return n.handleValueScaleLocked(e,t,r,i)}return r}()})}return e}()},{key:"combineViewAndTrackUid",value:function(){function e(e,t){var n=e+"."+t;if(this.combinedUidToViewTrack[n]={view:e,track:t},this.viewTrackUidsToCombinedUid[e]){if(this.viewTrackUidsToCombinedUid[t])return this.viewTrackUidsToCombinedUid[e][t];this.viewTrackUidsToCombinedUid[e][t]=n}else this.viewTrackUidsToCombinedUid[e]={},this.viewTrackUidsToCombinedUid[e][t]=n;return n}return e}()},{key:"handleUnlockValueScale",value:function(){function e(e,t){if(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks){var n=(0,F.dictKeys)(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;this.handleUnlock(this.combineViewAndTrackUid(e,l),this.valueScaleLocks)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}else this.handleUnlock(this.combineViewAndTrackUid(e,t),this.valueScaleLocks)}return e}()},{key:"handleValueScaleLocked",value:function(){function e(e,t,n,r){var i=this;if(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks){var o=(0,F.dictKeys)(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks),a=!0,s=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;this.handleValueScaleLocked(e,f,n,r)}}catch(e){s=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}}else if(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks){var h=(0,F.dictKeys)(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks),d=!0,p=!1,v=void 0;try{for(var m,g=h[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var y=m.value;this.handleValueScaleLocked(e,t,n,y)}}catch(e){p=!0,v=e}finally{try{!d&&g.return&&g.return()}finally{if(p)throw v}}}else{var b=this.combineViewAndTrackUid(e,t),w=this.combineViewAndTrackUid(n,r);this.addLock(b,w,this.valueScaleLocks,function(e){return i.combinedUidToViewTrack[e]}),this.syncValueScales(e,t),this.setState({chooseTrackHandler:null})}}return e}()},{key:"addCallbacks",value:function(){function e(e,t){var n=this;if("viewport-projection-center"==t.type||"viewport-projection-horizontal"==t.type||"viewport-projection-vertical"==t.type){var r=t.fromViewUid;t.registerViewportChanged=function(e,t){return n.addScalesChangedListener(r,e,t)},t.removeViewportChanged=function(e){return n.removeScalesChangedListener(r,e)},t.setDomainsCallback=function(t,i){var o=(0,v.scaleLinear)().domain(t).range(n.xScales[r].range()),a=(0,v.scaleLinear)().domain(i).range(n.yScales[r].range()),s=(0,F.scalesCenterAndK)(o,a),u=l(s,3),c=u[0],f=u[1],h=u[2];n.setCenters[r](c,f,h,!1);var d=!1,p=!1;e in n.zoomLocks&&(d=r in n.zoomLocks[e]),d&&n.handleUnlock(e,n.zoomLocks),e in n.locationLocks&&(p=r in n.locationLocks[e]),p&&n.handleUnlock(e,n.locationLocks),n.handleScalesChanged(r,o,a,!0),d&&n.addLock(e,r,n.zoomLocks,n.viewScalesLockData),p&&n.addLock(e,r,n.locationLocks,n.viewScalesLockData)}}}return e}()},{key:"deserializeLocationLocks",value:function(){function e(e){if(this.locationLocks={},e.locationLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,F.dictKeys)(e.locationLocks.locksByViewUid)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.locationLocks[a]=e.locationLocks.locksDict[e.locationLocks.locksByViewUid[a]]}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}return e}()},{key:"deserializeZoomLocks",value:function(){function e(e){if(this.zoomLocks={},e.zoomLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,F.dictKeys)(e.zoomLocks.locksByViewUid)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.zoomLocks[a]=e.zoomLocks.locksDict[e.zoomLocks.locksByViewUid[a]]}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}return e}()},{key:"deserializeValueScaleLocks",value:function(){function e(e){if(e.valueScaleLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,F.dictKeys)(e.valueScaleLocks.locksByViewUid)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.valueScaleLocks[a]=e.valueScaleLocks.locksDict[e.valueScaleLocks.locksByViewUid[a]]}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}return e}()},{key:"serializeLocks",value:function(){function e(e){var t={},n={},r=!0,i=!1,o=void 0;try{for(var a,s=(0,F.dictKeys)(e)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,u=e[l]&&e[l].uid;u||(u=y.default.nice()),e[l].uid=u,t[u]=e[l],n[l]=e[l].uid}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return{locksByViewUid:n,locksDict:t}}return e}()},{key:"getViewsAsString",value:function(){function e(){var e=this,t=JSON.parse(JSON.stringify(this.props.viewConfig));return t.views=(0,F.dictItems)(this.state.views).map(function(t){var n=JSON.parse(JSON.stringify(t[1])),r=t[0],i=!0,o=!1,a=void 0;try{for(var s,l=(0,F.positionedTracksToAllTracks)(n.tracks)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;if(u.server){var c=(0,E.default)(u.server,{});if(!c.hostname.length){var f=window.location.host,h=window.location.protocol,d=h+"//"+f+c.pathname;u.server=d}}"serverUidKey"in u&&delete u.serverUidKey,"uuid"in u&&delete u.uuid,"private"in u&&delete u.private,"maxZoom"in u&&delete u.maxZoom,"coordSystem"in u&&delete u.coordSystem,"coordSystem2"in u&&delete u.coordSystem2,"datatype"in u&&delete u.datatype,"maxWidth"in u&&delete u.maxWidth,"datafile"in u&&delete u.datafile,"filetype"in u&&delete u.filetype,"binsPerDimension"in u&&delete u.binsPerDimension}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return n.uid=r,n.initialXDomain=e.xScales[r].domain(),n.initialYDomain=e.yScales[r].domain(),n}),t.zoomLocks=this.serializeLocks(this.zoomLocks),t.locationLocks=this.serializeLocks(this.locationLocks),t.valueScaleLocks=this.serializeLocks(this.valueScaleLocks),JSON.stringify(t,null,2)}return e}()},{key:"handleExportViewAsJSON",value:function(){function e(){var e=this.getViewsAsString();new Blob([e],{type:"text/json"});(0,F.download)("viewconf.json",e)}return e}()},{key:"handleExportViewsAsLink",value:function(){function e(){var e=this,t='{"viewconf":'+this.getViewsAsString()+"}";this.width=this.element.clientWidth,this.height=this.element.clientHeight,this.setState({exportLinkModalOpen:!0,exportLinkLocation:null}),(0,m.request)(this.props.viewConfig.exportViewUrl).header("X-Requested-With","XMLHttpRequest").header("Content-Type","application/json").post(t,function(t,n){if(n){var r=JSON.parse(n.response),i=""===window.location.port?"":":"+window.location.port;e.setState({exportLinkLocation:"http://"+window.location.hostname+i+"/app/?config="+r.uid})}else console.error("error:",t)})}return e}()},{key:"handleDataDomainChanged",value:function(){function e(e,t,n){var r=this.state.views;r[e].initialXDomain=t,r[e].initialYDomain=n,this.setState({views:r})}return e}()},{key:"viewPositionAvailable",value:function(){function e(e,t,n,r){var i=e+n,o=t+r;if(e+n>Z)return!1;for(var a=(0,F.dictValues)(this.state.views),s=0;s<a.length;s++){var l=a[s].layout.x,u=a[s].layout.y,c=l+a[s].layout.w,f=u+a[s].layout.h;if(e<c&&i>l&&t<f&&o>u)return!1}return!0}return e}()},{key:"handleAddView",value:function(){function e(e){for(var t=this,n=(0,F.dictValues)(this.state.views),r=e,i=[],o=0;o<n.length;o++){var a=n[o].layout.x+n[o].layout.w,s=n[o].layout.y;this.viewPositionAvailable(a,s,e.layout.w,e.layout.h)&&i.push([a,s]),a=n[o].layout.x,s=n[o].layout.y+n[o].layout.h,this.viewPositionAvailable(a,s,e.layout.w,e.layout.h)&&i.push([a,s])}i.sort(function(e,t){var n=e[1]-t[1];return 0==n?e[0]-t[0]:n});var l=JSON.stringify(r),u=JSON.parse(l);u.layout.x=i[0][0],u.layout.y=i[0][1],u.uid=y.default.nice(),u.layout.i=u.uid,(0,F.positionedTracksToAllTracks)(u.tracks).forEach(function(e){return t.addCallbacks(u.uid,e)}),this.state.views[u.uid]=u,this.setState({views:this.state.views})}return e}()},{key:"addNameToTrack",value:function(){function e(e){var t={};return U.TRACKS_INFO.forEach(function(e){e.name&&(t[e.type]=e.name)}),e.type in t&&(e.name=t[e.type]),e}return e}()},{key:"addUidsToTracks",value:function(){function e(e){return e.forEach(function(e){e.uid||(e.uid=y.default.nice())}),e}return e}()},{key:"addNamesToTracks",value:function(){function e(e){var t=this;return e.forEach(function(e){e.name||t.addNameToTrack(e)}),e}return e}()},{key:"handleSelectedAssemblyChanged",value:function(){function e(e,t,n,r){var i=this.state.views;i[e].genomePositionSearchBox.chromInfoId=t,i[e].genomePositionSearchBox.autocompleteId=n,i[e].genomePositionSearchBox.autocompleteServer=r}return e}()},{key:"createGenomePostionSearchBoxEntry",value:function(){function e(e,t){var n=e,r={autocompleteServer:U.DEFAULT_SERVER,chromInfoServer:U.DEFAULT_SERVER,visible:!1};return n||(n=JSON.parse(JSON.stringify(r))),n.autocompleteServer||(n.autocompleteServer=r.autocompleteServer),n.chromInfoId||(n.chromInfoId=t),n.chromInfoServer||(n.chromInfoServer=r.chromInfoServer),n.visible||(n.visible=!1),n}return e}()},{key:"handleTogglePositionSearchBox",value:function(){function e(e){var t=this.state.views[e];t.genomePositionSearchBoxVisible=!t.genomePositionSearchBoxVisible;var n=(0,F.positionedTracksToAllTracks)(t.tracks),r={},i=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;u.coordSystem&&(r[u.coordSystem]||(r[u.coordSystem]=0),r[u.coordSystem]+=1)}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}var c=(0,F.dictItems)(r).sort(function(e,t){return t[1]-e[1]}),f="hg19";c.length&&(f=c[0][0]),t.genomePositionSearchBox=this.createGenomePostionSearchBoxEntry(t.genomePositionSearchBox,f),t.genomePositionSearchBox.visible=!t.genomePositionSearchBox.visible,this.refreshView(),this.setState({views:this.state.views,configMenuUid:null})}return e}()},{key:"handleTrackOptionsChanged",value:function(){function e(e,t,n){var r=this.state.views[e],i=(0,F.getTrackByUid)(r.tracks,t);i&&(i.options=Object.assign(i.options,n),this.mounted&&this.setState({views:this.state.views}))}return e}()},{key:"isTrackValid",value:function(){function e(e,t){return!("viewport-projection-center"==e.type&&!t.has(e.fromViewUid))}return e}()},{key:"removeInvalidTracks",value:function(){function e(e){var t=this,n=new Set((0,F.dictKeys)(e)),r=!0,i=!1,o=void 0;try{for(var a,s=(0,F.dictValues)(e)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)for(var l=a.value,u=["left","top","center","right","bottom"],c=0;c<u.length;c++){var f=u[c];l.tracks.hasOwnProperty(f)&&(l.tracks[f]=l.tracks[f].filter(function(e){return t.isTrackValid(e,n)}),l.tracks[f].forEach(function(e){"combined"==e.type&&(e.contents=e.contents.filter(function(e){return t.isTrackValid(e,n)}))}))}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return e}return e}()},{key:"processViewConfig",value:function(){function e(e){var t=this,n=e.views,r={};if(!e.views||0==e.views.length)throw"No views provided in viewConfig";return n.forEach(function(n){if(t.fillInMinWidths(n.tracks),n.uid||(n.uid=y.default.nice()),r[n.uid]=n,!n.initialXDomain)throw"No initialXDomain in provided viewconf";n.initialXDomain[0]=+n.initialXDomain[0],n.initialXDomain[1]=+n.initialXDomain[1],n.initialYDomain?(n.initialXDomain[0]=+n.initialXDomain[0],n.initialXDomain[1]=+n.initialXDomain[1]):n.initialYDomain=[n.initialXDomain[0],n.initialXDomain[1]],t.xScales[n.uid]||(t.xScales[n.uid]=(0,v.scaleLinear)().domain(n.initialXDomain)),t.yScales[n.uid]||(t.yScales[n.uid]=(0,v.scaleLinear)().domain(n.initialYDomain));var i=(0,F.positionedTracksToAllTracks)(n.tracks);t.deserializeZoomLocks(e),t.deserializeLocationLocks(e),t.deserializeValueScaleLocks(e),i=t.addUidsToTracks(i),i=t.addNamesToTracks(i),i.forEach(function(e){return t.addCallbacks(n.uid,e)}),n.layout&&(n.layout.i=n.uid),i.forEach(function(e){if(t.addDefaultOptions(e),e.contents){var n=!0,r=!1,i=void 0;try{for(var o,a=e.contents[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.addDefaultOptions(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}})}),r=this.removeInvalidTracks(r)}return e}()},{key:"handleWindowFocused",value:function(){function e(){}return e}()},{key:"offRangeSelection",value:function(){function e(e){this.rangeSelectionListener.splice(e,1)}return e}()},{key:"onRangeSelection",value:function(){function e(e){return this.rangeSelectionListener.push(e)-1}return e}()},{key:"rangeSelectionHandler",value:function(){function e(e){this.rangeSelection=e,this.rangeSelectionListener.forEach(function(t){return t(e)})}return e}()},{key:"offViewChange",value:function(){function e(e){this.viewChangeListener.splice(e,1)}return e}()},{key:"onViewChange",value:function(){function e(e){return this.viewChangeListener.push(e)-1}return e}()},{key:"triggerViewChange",value:function(){function e(){var e=this;this.viewChangeListener.forEach(function(t){return t(e.getViewsAsString())})}return e}()},{key:"getGenomeLocation",value:function(){function e(e){var t=this;return V.chromInfo.get(this.state.views[e].chromInfoPath).then(function(n){return(0,F.scalesToGenomeLoci)(t.xScales[e],t.yScales[e],n)})}return e}()},{key:"offLocationChange",value:function(){function e(e,t){this.removeScalesChangedListener(e,t)}return e}()},{key:"onLocationChange",value:function(){function e(e,t,n){var r=this;if(void 0===e||-1===Object.keys(this.state.views).indexOf(e))return void console.error("🦄 listen to me: you forgot to give me a propper view ID. I can't do nothing without that. 💩");var i=this.state.views[e];if(!this.chromInfo)return void this.setChromInfo(i.chromInfoPath,function(){r.onLocationChange(e,t,n)});var o=function(){function e(e,n){t((0,F.scalesToGenomeLoci)(e,n,r.chromInfo))}return e}(),a=Object.keys(this.scalesChangedListeners[i.uid]).filter(function(e){return 0===e.indexOf(U.LOCATION_LISTENER_PREFIX)}).map(function(e){return parseInt(e.slice(U.LOCATION_LISTENER_PREFIX.length+1),10)}).reduce(function(e,t){return Math.max(e,t)},0)+1;this.addScalesChangedListener(i.uid,U.LOCATION_LISTENER_PREFIX+"."+a,o);n&&n(U.LOCATION_LISTENER_PREFIX+"."+a)}return e}()},{key:"setChromInfo",value:function(){function e(e,t){var n=this;(0,B.ChromosomeInfo)(e,function(e){n.chromInfo=e,t()})}return e}()},{key:"render",value:function(){function e(){var e=this,t=f.default.createElement("div",{ref:function(){function t(t){e.tiledAreaDiv=t}return t}(),className:"HiGlass-module_tiled-area-22H1L"});this.mounted&&(t=(0,F.dictValues)(this.state.views).map(function(t){var n=void 0!==t.zoomFixed?t.zoomFixed:e.props.zoomFixed,r=t.uid===e.state.addTrackPositionMenuUid?e.state.addTrackPositionMenuPosition:null,i=null;if(e.state.chooseViewHandler){var o="transparent";e.state.mouseOverOverlayUid===t.uid&&(o="green"),i=f.default.createElement("div",{className:"tiled-plot-overlay",onClick:function(){function n(){return e.state.chooseViewHandler(t.uid)}return n}(),onMouseEnter:function(){function n(){return e.handleOverlayMouseEnter(t.uid)}return n}(),onMouseLeave:function(){function n(){return e.handleOverlayMouseLeave(t.uid)}return n}(),onMouseMove:function(){function n(){return e.handleOverlayMouseEnter(t.uid)}return n}(),style:{position:"absolute",width:"100%",height:"100%",background:o,opacity:.3}})}var a=f.default.createElement(M.TiledPlot,{key:"tp"+t.uid,ref:function(){function n(n){e.tiledPlots[t.uid]=n}return n}(),addTrackPosition:e.state.addTrackPositionView===t.uid?e.state.addTrackPosition:null,addTrackPositionMenuPosition:r,canvasElement:e.state.canvasElement,chooseTrackHandler:e.state.chooseTrackHandler?function(n){return e.state.chooseTrackHandler(t.uid,n)}:null,chromInfoPath:t.chromInfoPath,editable:e.props.viewConfig.editable,horizontalMargin:e.horizontalMargin,initialXDomain:t.initialXDomain,initialYDomain:t.initialYDomain,mouseTool:e.state.mouseTool,onChangeTrackType:function(){function n(n,r){return e.handleChangeTrackType(t.uid,n,r)}return n}(),onCloseTrack:function(){function n(n){return e.handleCloseTrack(t.uid,n)}return n}(),onDataDomainChanged:function(){function n(n,r){return e.handleDataDomainChanged(t.uid,n,r)}return n}(),onLockValueScale:function(){function n(n){return e.handleLockValueScale(t.uid,n)}return n}(),onNewTilesLoaded:function(){function n(n){return e.handleNewTilesLoaded(t.uid,n)}return n}(),onNoTrackAdded:e.handleNoTrackAdded.bind(e),onRangeSelection:e.rangeSelectionHandler.bind(e),onScalesChanged:function(){function n(n,r){return e.handleScalesChanged(t.uid,n,r)}return n}(),onTrackOptionsChanged:function(){function n(n,r){return e.handleTrackOptionsChanged(t.uid,n,r)}return n}(),onTrackPositionChosen:e.handleTrackPositionChosen.bind(e),onTracksAdded:function(){function n(n,r,i){return e.handleTracksAdded(t.uid,n,r,i)}return n}(),onUnlockValueScale:function(){function n(n){return e.handleUnlockValueScale(t.uid,n)}return n}(),onValueScaleChanged:function(){function n(n){return e.syncValueScales(t.uid,n)}return n}(),pixiStage:e.pixiStage,registerDraggingChangedListener:function(){function n(n){e.addDraggingChangedListener(t.uid,t.uid,n)}return n}(),removeDraggingChangedListener:function(){function n(n){return e.removeDraggingChangedListener(t.uid,t.uid,n)}return n}(),setCentersFunction:function(){function n(n){e.setCenters[t.uid]=n}return n}(),svgElement:e.state.svgElement,trackSourceServers:e.props.viewConfig.trackSourceServers,tracks:t.tracks,uid:t.uid,verticalMargin:e.verticalMargin,zoomable:!n}),s=function(){function n(n,r){return t.genomePositionSearchBox?f.default.createElement(j.default,{key:"gpsb"+t.uid,ref:function(){function n(n){e.genomePositionSearchBoxes[t.uid]=n}return n}(),autocompleteId:t.genomePositionSearchBox.autocompleteId,autocompleteServer:t.genomePositionSearchBox.autocompleteServer,chromInfoId:t.genomePositionSearchBox.chromInfoId,chromInfoServer:t.genomePositionSearchBox.chromInfoServer,isFocused:n,onFocus:r,onSelectedAssemblyChanged:function(){function n(n,r,i){return e.handleSelectedAssemblyChanged(t.uid,n,r,i)}return n}(),registerViewportChangedListener:function(){function n(n){return e.addScalesChangedListener(t.uid,t.uid,n)}return n}(),removeViewportChangedListener:function(){function n(){return e.removeScalesChangedListener(t.uid,t.uid)}return n}(),setCenters:function(){function n(n,r,i,o,a){return e.setCenters[t.uid](n,r,i,!1,o,a)}return n}(),trackSourceServers:e.props.viewConfig.trackSourceServers,twoD:!0}):null}return n}(),l=e.props.viewConfig.editable&&!e.props.viewConfig.hideHeader?f.default.createElement(z.default,{ref:function(){function n(n){e.viewHeaders[t.uid]=n}return n}(),getGenomePositionSearchBox:s,isGenomePositionSearchBoxVisible:t.genomePositionSearchBox&&t.genomePositionSearchBox.visible,onAddView:function(){function n(){return e.handleAddView(t)}return n}(),onClearView:function(){function n(){return e.handleClearView(t.uid)}return n}(),onCloseView:function(){function n(){return e.handleCloseView(t.uid)}return n}(),onExportSVG:e.handleExportSVG.bind(e),onExportViewsAsJSON:e.handleExportViewAsJSON.bind(e),onExportViewsAsLink:e.handleExportViewsAsLink.bind(e),onLockLocation:function(){function t(t){return e.handleYankFunction(t,e.handleLocationLockChosen.bind(e))}return t}(),onLockZoom:function(){function t(t){return e.handleYankFunction(t,e.handleZoomLockChosen.bind(e))}return t}(),onLockZoomAndLocation:function(){function t(t){return e.handleYankFunction(t,function(t,n){e.handleZoomLockChosen(t,n),e.handleLocationLockChosen(t,n)})}return t}(),onProjectViewport:e.handleProjectViewport.bind(e),onTakeAndLockZoomAndLocation:function(){function t(t){e.handleYankFunction(t,function(t,n){e.handleZoomYanked(t,n),e.handleLocationYanked(t,n),e.handleZoomLockChosen(t,n),e.handleLocationLockChosen(t,n)})}return t}(),onTogglePositionSearchBox:e.handleTogglePositionSearchBox.bind(e),onTrackPositionChosen:function(){function n(n){return e.handleTrackPositionChosen(t.uid,n)}return n}(),onUnlockLocation:function(){function t(t){return e.handleUnlock(t,e.locationLocks)}return t}(),onUnlockZoom:function(){function t(t){return e.handleUnlock(t,e.zoomLocks)}return t}(),onUnlockZoomAndLocation:function(){function t(t){e.handleUnlock(t,e.zoomLocks),e.handleUnlock(t,e.locationLocks)}return t}(),onYankLocation:function(){function t(t){return e.handleYankFunction(t,e.handleLocationYanked.bind(e))}return t}(),onYankZoom:function(){function t(t){return e.handleYankFunction(t,e.handleZoomYanked.bind(e))}return t}(),onYankZoomAndLocation:function(){function t(t){return e.handleYankFunction(t,function(t,n){e.handleZoomYanked(t,n),e.handleLocationYanked(t,n)})}return t}(),onZoomToData:function(){function t(t){return e.handleZoomToData(t)}return t}(),viewUid:t.uid}):null;return f.default.createElement("div",{key:t.uid,ref:function(){function t(t){e.tiledAreaDiv=t}return t}(),className:"HiGlass-module_tiled-area-22H1L"},l,a,i)}));var n=this.state.exportLinkModalOpen?f.default.createElement(R.ExportLinkModal,{height:this.height,linkLocation:this.state.exportLinkLocation,onDone:function(){function t(){return e.setState({exportLinkModalOpen:!1})}return t}(),width:this.width}):null,r=this.mounted?(0,F.dictValues)(this.state.views).filter(function(e){return e.layout}).map(function(e){return e.layout}):[];r=JSON.parse(JSON.stringify(r));var i=f.default.createElement(k.default,{ref:function(){function t(t){e.gridLayout=t}return t}(),cols:12,width:this.state.width,draggableHandle:"."+G.default["multitrack-header-grabber"],isDraggable:this.props.viewConfig.editable,isResizable:this.props.viewConfig.editable,layout:r,margin:this.props.viewConfig.editable?[10,10]:[0,0],measureBeforeMount:!1,onBreakpointChange:this.onBreakpointChange.bind(this),onDragStart:this.handleDragStart.bind(this),onDragStop:this.handleDragStop.bind(this),onLayoutChange:this.handleLayoutChange.bind(this),onResize:this.resizeHandler.bind(this),rowHeight:this.state.rowHeight,useCSSTransforms:this.mounted},t);return f.default.createElement("div",{key:this.uid,ref:function(){function t(t){e.topDiv=t}return t}(),className:"higlass HiGlass-module_higlass-1NHR2"},f.default.createElement("canvas",{key:this.uid,ref:function(){function t(t){e.canvasElement=t}return t}(),className:"HiGlass-module_higlass-canvas-_mP9r"}),f.default.createElement("div",{ref:function(){function t(t){e.divDrawingSurface=t}return t}(),className:"HiGlass-module_higlass-drawing-surface-3aQQo"}),i,f.default.createElement("svg",{ref:function(){function t(t){e.svgElement=t}return t}(),className:"HiGlass-module_higlass-svg-JJZbf"}),n)}return e}()}]),t}(f.default.Component);J.defaultProps={getApi:null,options:{},zoomFixed:!1},J.propTypes={getApi:d.default.func,options:d.default.object,viewConfig:d.default.object.isRequired,zoomFixed:d.default.bool},t.default=J},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ListWrapper=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),c=r(u),f=n(0),h=r(f),d=n(49),p=t.ListWrapper=function(e){function t(e){var n=e.items;i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.state={items:n,isSorting:!1},r}return a(t,e),l(t,[{key:"componentWillReceiveProps",value:function(){function e(e){this.setState({items:e.items})}return e}()},{key:"onSortStart",value:function(){function e(e,t){var n=(e.node,e.index);e.collection;t.stopImmediatePropagation();var r=this.props.onSortStart;this.setState({isSorting:!0}),r&&r(this.ref),this.sortingIndex=n,this.sortStartTop=t.offsetTop,this.sortStartLeft=t.offsetLeft}return e}()},{key:"onSortMove",value:function(){function e(){}return e}()},{key:"onSortEnd",value:function(){function e(e){var t=e.oldIndex,n=e.newIndex,r=this.props.onSortEnd,i=this.state.items;this.setState({items:(0,d.arrayMove)(i,t,n),isSorting:!1}),r&&r(this.state.items),this.sortingIndex=null}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.props.component,n=this.state,r=n.items,i=n.isSorting,o={isSorting:i,items:r,onSortEnd:this.onSortEnd.bind(this),onSortStart:this.onSortStart.bind(this),onSortMove:this.onSortMove.bind(this)};return h.default.createElement(t,s({},this.props,o,{ref:function(){function t(t){return e.ref=t}return t}()}))}return e}()}]),t}(h.default.Component);p.propTypes={axis:c.default.string,className:c.default.string,component:c.default.func,editable:c.default.bool,handleConfigTrack:c.default.func,handleResizeTrack:c.default.func,height:c.default.number,helperClass:c.default.string,itemClass:c.default.string,itemControlAlignLeft:c.default.bool,itemReactClass:c.default.func,items:c.default.array,onAddSeries:c.default.func,onCloseTrack:c.default.func,onCloseTrackMenuOpened:c.default.func,onConfigTrackMenuOpened:c.default.func,onSortEnd:c.default.func,onSortStart:c.default.func,referenceAncestor:c.default.string,resizeHandles:c.default.object,useDragHandle:c.default.bool,width:c.default.number},p.defaultProps={className:"list stylizedList",itemClass:"item stylizedItem",width:400,height:600},t.default=p},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MoveableTrack=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),u=r(l),c=n(0),f=r(c),h=n(262),d=r(h),p=n(288),v=r(p),m=t.MoveableTrack=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.moveable=!0,n}return a(t,e),s(t,[{key:"render",value:function(){function e(){var e=this;return f.default.createElement("div",{className:this.props.className,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),style:{height:this.props.height,width:this.props.width}},f.default.createElement(d.default,{height:this.props.height,key:this.props.uid,resizeHandles:this.props.editable?this.props.resizeHandles:new Set,sizeChanged:function(){function t(t){return e.props.handleResizeTrack(e.props.uid,t.width,t.height)}return t}(),style:{background:"transparent"},uid:this.props.uid,width:this.props.width}),this.props.editable&&f.default.createElement("div",null,this.getControls(this.state.controlsVisible||this.props.item.configMenuVisible)))}return e}()}]),t}(v.default);m.propTypes={className:u.default.string,uid:u.default.string,item:u.default.object,height:u.default.number,width:u.default.number},t.default=m},function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.OSMTilesTrack=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),u=n(10),c=function(e){return e&&e.__esModule?e:{default:e}}(u),f=n(8),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),d=n(29),p=n(7),v=n(3),m=n(6),g=t.OSMTilesTrack=function(e){function t(e,n,r){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));a.visibleTiles=new Set,a.visibleTileIds=new Set,a.fetching=new Set,a.fetchedTiles={},a.tileGraphics={};var s=0,l=312e7;return a.options&&a.options.minPos&&(s=+a.options.minPos),a.options&&a.options.maxPos&&(l=+a.options.maxPos),a.minPos=[s,s],a.maxPos=[l,l],a.maxZoom=19,a.maxWidth=l,a.animate=r,a.uuid=c.default.nice(),a.refreshTilesDebounced=(0,v.debounce)(a.refreshTiles.bind(a),m.ZOOM_DEBOUNCE),a}return a(t,e),s(t,[{key:"rerender",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rerender",this).call(this,e),this.tilesetInfo}return e}()},{key:"visibleAndFetchedIds",value:function(){function e(){var e=this;return Object.keys(this.fetchedTiles).filter(function(t){return e.visibleTileIds.has(t)})}return e}()},{key:"visibleAndFetchedTiles",value:function(){function e(){var e=this;return this.visibleAndFetchedIds().map(function(t){return e.fetchedTiles[t]})}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map(function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e),mirrored:e.mirrored}}),this.visibleTileIds=new Set(this.visibleTiles.map(function(e){return e.tileId}))}return e}()},{key:"removeAllTiles",value:function(){function e(){var e=new Set(Object.keys(this.fetchedTiles));this.removeTiles([].concat(r(e)))}return e}()},{key:"refreshTiles",value:function(){function e(){var e=this;this.calculateVisibleTiles();for(var t=new Set(Object.keys(this.fetchedTiles)),n=[].concat(r(this.visibleTiles)).filter(function(n){return!e.fetching.has(n.remoteId)&&!t.has(n.tileId)}),i=0;i<n.length;i++)this.fetching.add(n[i].remoteId);var o=[].concat(r(t)).filter(function(t){return!e.visibleTileIds.has(t)});this.removeTiles(o),this.fetchNewTiles(n)}return e}()},{key:"removeTiles",value:function(){function e(e){var t=this;e.length&&this.areAllVisibleTilesLoaded()&&(e.forEach(function(e){var n=e;t.destroyTile(t.fetchedTiles[n]),n in t.tileGraphics&&(t.pMain.removeChild(t.tileGraphics[n]),delete t.tileGraphics[n]),delete t.fetchedTiles[n]}),this.synchronizeTilesAndGraphics(),this.draw())}return e}()},{key:"tileToLocalId",value:function(){function e(e){return e.join(".")}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return e.join(".")}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=p.tileProxy.calculateZoomLevel(this._xScale,this.minPos[0],this.maxPos[0]),t=p.tileProxy.calculateZoomLevel(this._xScale,this.minPos[1],this.maxPos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.zoomLevel=this.calculateZoomLevel(),this.xTiles=p.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.minPos[0],this.maxPos[0],this.maxZoom,this.maxWidth),this.yTiles=p.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.minPos[1],this.maxPos[1],this.maxZoom,this.maxWidth);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,o){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n),this.xScale(e),this.yScale(n),this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=r,this.pMain.scale.y=r,this.refreshTilesDebounced()}return e}()},{key:"setPosition",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e)}return e}()},{key:"setDimensions",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDimensions",this).call(this,e)}return e}()},{key:"areAllVisibleTilesLoaded",value:function(){function e(){for(var e=new Set(Object.keys(this.fetchedTiles)),t=[].concat(r(this.visibleTileIds)),n=0;n<t.length;n++)if(!e.has(t[n]))return!1;return!0}return e}()},{key:"allTilesLoaded",value:function(){function e(){}return e}()},{key:"minValue",value:function(){function e(e){if(!e)return this.scale.minValue;this.scale.minValue=e}return e}()},{key:"maxValue",value:function(){function e(e){if(!e)return this.scale.maxValue;this.scale.maxValue=e}return e}()},{key:"minRawValue",value:function(){function e(){return this.scale.minRawValue}return e}()},{key:"maxRawValue",value:function(){function e(){return this.scale.maxRawValue}return e}()},{key:"getTilePosAndDimensions",value:function(){function e(e,t){var n=t[0],r=t[1],i=this.maxPos[0]-this.minPos[0],o=this.maxPos[0]-this.minPos[0],a=i/Math.pow(2,e),s=o/Math.pow(2,e);return{tileX:0+n*a,tileY:0+r*s,tileWidth:a,tileHeight:s}}return e}()},{key:"setSpriteProperties",value:function(){function e(e,t,n){var r=this.getTilePosAndDimensions(t,n),i=r.tileX,o=r.tileY,a=r.tileWidth,s=r.tileHeight;e.x=this._refXScale(i),e.y=this._refYScale(o);var l=i+a,u=o+s;this._refXScale(l),this._refXScale(i),this._refYScale(u),this._refYScale(o);e.width=this._refXScale(l)-this._refXScale(i),e.height=this._refYScale(u)-this._refYScale(o)}return e}()},{key:"initTile",value:function(){function e(e){var t=new h.Texture(new h.BaseTexture(e.tileData.img)),n=new h.Sprite(t),r=e.graphics;e.tileId.split(".").map(function(e){return+e});e.sprite=n,this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos),r.removeChildren(),r.addChild(e.sprite)}return e}()},{key:"updateTile",value:function(){function e(e){}return e}()},{key:"destroyTile",value:function(){function e(e){}return e}()},{key:"addMissingGraphics",value:function(){function e(){for(var e=Object.keys(this.fetchedTiles),t=0;t<e.length;t++)if(!(e[t]in this.tileGraphics)){var n=new h.Graphics;this.pMain.addChild(n),this.fetchedTiles[e[t]].graphics=n,this.initTile(this.fetchedTiles[e[t]]),this.tileGraphics[e[t]]=n,!0}}return e}()},{key:"updateExistingGraphics",value:function(){function e(){for(var e=Object.keys(this.fetchedTiles),t=0;t<e.length;t++)this.updateTile(this.fetchedTiles[e[t]])}return e}()},{key:"synchronizeTilesAndGraphics",value:function(){function e(){this.addMissingGraphics(),this.updateExistingGraphics()}return e}()},{key:"loadTileData",value:function(){function e(e,t){var n=this.lruCache.get(e.tileId);return n||(n=t(e.data,e.type),this.lruCache.put(e.tileId,n)),n}return e}()},{key:"getTileUrl",value:function(){function e(e){var t=["a","b","c"];return"http://"+t[Math.floor(Math.random()*t.length)]+".tile.openstreetmap.org/"+e[0]+"/"+e[1]+"/"+e[2]+".png"}return e}()},{key:"fetchNewTiles",value:function(){function e(e){var t=this;if(e.length>0){var n=[].concat(r(new Set(e.map(function(e){return e.remoteId})))),i=!0,o=!1,a=void 0;try{for(var s,l=function(){function e(){var e=s.value,n=e.split("."),r=t.getTileUrl(n),i=new Image;i.crossOrigin="Anonymous",i.src=r,i.onload=function(){var o={};o[e]={tileId:e,img:i,zoomLevel:+n[0],tilePos:[+n[1],+n[2]],tileSrc:r},t.receivedTiles(o)}}return e}(),u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0)l()}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}}return e}()},{key:"receivedTiles",value:function(){function e(e){for(var t=0;t<this.visibleTiles.length;t++){var n=this.visibleTiles[t].tileId;e[this.visibleTiles[t].remoteId]&&(this.visibleTiles[t].remoteId in e&&(n in this.fetchedTiles||(this.fetchedTiles[n]=this.visibleTiles[t]),this.fetchedTiles[n].tileData=e[this.visibleTiles[t].remoteId]))}for(var r in e)e[r]&&this.fetching.has(r)&&this.fetching.delete(r);this.synchronizeTilesAndGraphics(),this.refreshTiles(),this.draw(),this.animate()}return e}()},{key:"draw",value:function(){function e(){if(!this.delayDrawing){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this);for(var e in this.fetchedTiles)this.drawTile(this.fetchedTiles[e])}}return e}()},{key:"drawTile",value:function(){function e(e,t){}return e}()},{key:"refScalesChanged",value:function(){function e(e,n){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refScalesChanged",this).call(this,e,n);for(var r in this.fetchedTiles){var i=this.fetchedTiles[r];i.sprite&&this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos)}}return e}()}]),t}(d.PixiTrack);t.default=g},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(14),u=n(0),c=r(u),f=n(1),h=r(f),d=n(239),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=(0,l.rgb)(e.color);return n.state={displayColorPicker:!1,color:{r:r.r,g:r.g,b:r.b,a:r.opacity}},n}return a(t,e),s(t,[{key:"handleClick",value:function(){function e(){this.setState({displayColorPicker:!this.state.displayColorPicker})}return e}()},{key:"handleClose",value:function(){function e(){this.setState({displayColorPicker:!1})}return e}()},{key:"handleChange",value:function(){function e(e){var t=e.rgb,n="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";this.props.onChange(n),this.setState({color:e.rgb})}return e}()},{key:"render",value:function(){function e(){var e=(0,h.default)({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"rgba("+this.state.color.r+", "+this.state.color.g+", "+this.state.color.b+", "+this.state.color.a+")"},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return c.default.createElement("div",null,c.default.createElement("div",{style:e.swatch,onClick:this.handleClick.bind(this)},c.default.createElement("div",{style:e.color})),this.state.displayColorPicker?c.default.createElement("div",{style:e.popover},c.default.createElement("div",{style:e.cover,onClick:this.handleClose.bind(this)}),c.default.createElement(d.SketchPicker,{color:this.state.color,onChange:this.handleChange.bind(this)})):null)}return e}()}]),t}(c.default.Component);t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SortableList=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(49),s=t.SortableList=(0,a.SortableContainer)(function(e){var t=e.className,n=e.items,i=e.itemClass,a=e.itemControlAlignLeft,s=e.sortingIndex,l=e.useDragHandle,u=e.sortableHandlers,c=e.height,f=e.width,h=e.onCloseTrack,d=e.onCloseTrackMenuOpened,p=e.onConfigTrackMenuOpened,v=e.onAddSeries,m=e.handleConfigTrack,g=e.editable,y=e.itemReactClass,b=e.handleResizeTrack,w=e.resizeHandles,x=n.map(function(e,t){return o.default.createElement(y,{key:"sci-"+e.uid,className:i,controlAlignLeft:a,sortingIndex:s,index:t,uid:e.uid,height:e.height,width:e.width,item:e,useDragHandle:l,onCloseTrack:h,onCloseTrackMenuOpened:d,onConfigTrackMenuOpened:p,onAddSeries:v,handleConfigTrack:m,editable:g,handleResizeTrack:b,resizeHandles:w})});return o.default.createElement("div",r({className:t,style:{height:c,width:f,background:"transparent"}},u),x)});t.default=s},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Tiled1DPixiTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),l=n(30),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(7),f=t.Tiled1DPixiTrack=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"initTile",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initTile",this).call(this,e)}return e}()},{key:"tileToLocalId",value:function(){function e(e){return""+e.join(".")}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return""+e.join(".")}return e}()},{key:"relevantScale",value:function(){function e(){return null}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map(function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}}),this.visibleTileIds=new Set(this.visibleTiles.map(function(e){return e.tileId}))}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){var e=this;if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var t=c.tileProxy.calculateTiles(this.zoomLevel,this.relevantScale(),this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),n=t.map(function(t){return[e.zoomLevel,t]});this.setVisibleTiles(n)}}return e}()},{key:"getTilePosAndDimensions",value:function(){function e(e,t){var n=t[0],r=t[0],i=this.tilesetInfo.max_width,o=this.tilesetInfo.max_width,a=this.tilesetInfo.min_pos[0],s=this.tilesetInfo.min_pos[1],l=i/Math.pow(2,e),u=o/Math.pow(2,e);return{tileX:a+n*l,tileY:s+r*u,tileWidth:l,tileHeight:u}}return e}()},{key:"updateTile",value:function(){function e(e){}return e}()}]),t}(u.default);t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.svgArrowheadDomainsIcon=t.svgVertical1DTilesIcon=t.svg1DTilesIcon=t.svgVerticalGeneAnnotationsIcon=t.svgGeneAnnotationsIcon=t.svgVertical1DAxisIcon=t.svg1DAxisIcon=t.svg2DHeatmapIcon=t.svg2DTilesIcon=t.svgVerticalLineIcon=t.svgHorizontalLineIcon=t.all=t.TRACK_LINE=t.CONTENT_COPY=t.PLUS=t.PLAY=t.MOVE=t.MINUS=t.ENLARGE=t.CROSS=t.COG=void 0;var r=n(4),i=t.COG={id:"cog",paths:["M466.895 305.125c-26.863-46.527-10.708-106.152 36.076-133.244l-50.313-87.146c-14.375 8.427-31.088 13.259-48.923 13.259-53.768 0-97.354-43.873-97.354-97.995h-100.629c0.133 16.705-4.037 33.641-12.979 49.126-26.862 46.528-86.578 62.351-133.431 35.379l-50.312 87.146c14.485 8.236 27.025 20.294 35.943 35.739 26.819 46.454 10.756 105.96-35.854 133.112l50.313 87.146c14.325-8.348 30.958-13.127 48.7-13.127 53.598 0 97.072 43.596 97.35 97.479h100.627c-0.043-16.537 4.136-33.285 12.983-48.609 26.818-46.453 86.388-62.297 133.207-35.506l50.313-87.145c-14.39-8.233-26.846-20.249-35.717-35.614zM256 359.666c-57.254 0-103.668-46.412-103.668-103.667 0-57.254 46.413-103.667 103.668-103.667s103.666 46.413 103.666 103.667c-0.001 57.255-46.412 103.667-103.666 103.667z"],viewBox:"0 0 512 512"},o=t.CROSS={id:"cross",paths:["M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"],viewBox:"0 0 512 512"},a=t.ENLARGE={id:"enlarge",paths:["M512 0h-208l80 80-96 96 48 48 96-96 80 80z","M512 512v-208l-80 80-96-96-48 48 96 96-80 80z","M0 512h208l-80-80 96-96-48-48-96 96-80-80z","M0 0v208l80-80 96 96 48-48-96-96 80-80z"],viewBox:"0 0 512 512"},s=t.MINUS={id:"minus",paths:["M0 208v96c0 8.836 7.164 16 16 16h480c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16h-480c-8.836 0-16 7.164-16 16z"],viewBox:"0 0 512 512"},l=t.MOVE={id:"move",paths:["M512,260.096L405.5,161.79v49.155H301.061v-104.45h49.149L251.904,0L160.77,106.495h49.15v104.45H106.495V161.79L0,260.096l106.495,91.135v-49.149h104.45v104.45H161.79L251.904,512l98.306-106.5h-49.149V301.061H405.5v49.149L512,260.096z"],viewBox:"0 0 512 512"},u=t.PLAY={id:"play",paths:["M96 64l320 192-320 192z"],viewBox:"0 0 512 512"},c=t.PLUS={id:"plus",paths:["M496 192h-176v-176c0-8.836-7.164-16-16-16h-96c-8.836 0-16 7.164-16 16v176h-176c-8.836 0-16 7.164-16 16v96c0 8.836 7.164 16 16 16h176v176c0 8.836 7.164 16 16 16h96c8.836 0 16-7.164 16-16v-176h176c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16z"],viewBox:"0 0 512 512"},f=t.CONTENT_COPY={id:"copy",paths:["M607.5 672v-448.5h-351v448.5h351zM607.5 160.5c34.5 0 64.5 28.5 64.5 63v448.5c0 34.5-30 64.5-64.5 64.5h-351c-34.5 0-64.5-30-64.5-64.5v-448.5c0-34.5 30-63 64.5-63h351zM511.5 31.5v64.5h-384v448.5h-63v-448.5c0-34.5 28.5-64.5 63-64.5h384z"],viewBox:"0 0 712 712"},h=(t.TRACK_LINE={id:"trackLine",paths:["M60 20 L50 52 L40 26 L34 46 L24 30 L14 50 L4 12"],viewBox:"0 0 60 60"},t.all=[i,o,a,s,l,u,c,f],new DOMParser),d='\n<svg width="20px" height="20px" viewBox="0 0 135 85" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>line</title>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#4990E2" stroke-width="8" points="2 45.5625 20.7460938 6.3359375 36.828125 86.6484375 59.8945312 17.5742188 79.0390625 70.703125 99.9335938 27 112.769531 81.1601562 132.078125 3"></polyline>\n    </g>\n</svg>\n',p=(t.svgHorizontalLineIcon=h.parseFromString(d,"text/xml").documentElement,t.svgVerticalLineIcon=(0,r.select)(h.parseFromString(d,"text/xml").documentElement).style("transform","rotate(90deg)").node(),t.svg2DTilesIcon=h.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles2DIconStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-3" x="0" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-3"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-5" x="30" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-5"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-7" x="30" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-8" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-7"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-2)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-4)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-6)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-5"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-8)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-7"></use>\n    </g>\n</svg>\n',"text/xml").documentElement,t.svg2DHeatmapIcon=h.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 90 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-heatmap</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="heatmap2DStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-2" x="30" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-3" x="60" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-4" x="0" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-5" x="30" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-6" x="60" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-7" x="0" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-8" x="30" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-9" x="60" y="60" width="30" height="30"></rect>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" fill="#858372" xlink:href="#heatmap2DStr-path-1"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-2"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-3"></use>\n        <use id="Rectangle" fill="#BCBD9E" xlink:href="#heatmap2DStr-path-4"></use>\n        <use id="Rectangle" fill="#817C7C" xlink:href="#heatmap2DStr-path-5"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-6"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-7"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-8"></use>\n        <use id="Rectangle" fill="#7B7777" xlink:href="#heatmap2DStr-path-9"></use>\n    </g>\n</svg>\n',"text/xml").documentElement,'\n<svg width="20px" height="20px" viewBox="0 0 77 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>axis-1d</title>\n    <desc>Created with Sketch.</desc>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#979797" stroke-width="8" transform="translate(38.258485, 27.557860) scale(1, -1) translate(-38.258485, -27.557860) " points="4 27.05786 36.7512307 27.05786 72.5169695 27.05786"></polyline>\n        <path d="M38,24.484375 L38,3" id="Path-2" stroke="#979797" stroke-width="4"></path>\n    </g>\n</svg>\n'),v=(t.svg1DAxisIcon=h.parseFromString(p,"text/xml").documentElement,t.svgVertical1DAxisIcon=(0,r.select)(h.parseFromString(p,"text/xml").documentElement).style("transform","rotate(90deg)").node(),'\n<svg width="20px" height="20px" viewBox="0 0 171 116" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>gene-annotations</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="geneAnnotations-path-1" x="34" y="0" width="24" height="116"></rect>\n        <mask id="geneAnnotations-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-1"></use>\n        </mask>\n        <rect id="geneAnnotations-path-3" x="80" y="0" width="56" height="116"></rect>\n        <mask id="geneAnnotations-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="56" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-3"></use>\n        </mask>\n        <rect id="geneAnnotations-path-5" x="147" y="40" width="24" height="35"></rect>\n        <mask id="geneAnnotations-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="35" fill="white">\n            <use xlink:href="#geneAnnotations-path-5"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M12.71875,58 L147.10172,58" id="Path" stroke="#979797" stroke-width="8"></path>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-2)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-4)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-6)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-5"></use>\n        <polygon id="Triangle" stroke="#979797" fill="#D8D8D8" points="25 57.5 1 75 1 40"></polygon>\n    </g>\n</svg>\n'),m=(t.svgGeneAnnotationsIcon=h.parseFromString(v,"text/xml").documentElement,t.svgVerticalGeneAnnotationsIcon=(0,r.select)(h.parseFromString(v,"text/xml").documentElement).style("transform","rotate(90deg)").node(),'\n<svg width="20px" height="20px" viewBox="0 0 180 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>1d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles1DIconStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles1DIconStr-path-3" x="90" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-2)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-4)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-3"></use>\n    </g>\n</svg>\n');t.svg1DTilesIcon=h.parseFromString(m,"text/xml").documentElement,t.svgVertical1DTilesIcon=(0,r.select)(h.parseFromString(m,"text/xml").documentElement).style("transform","rotate(90deg)").node(),t.svgArrowheadDomainsIcon=h.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 111 111" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>arrowhead-domains</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="arrowHeadDomainsStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="arrowHeadDomainsStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        </mask>\n        <rect id="arrowHeadDomainsStr-path-3" x="52" y="52" width="59" height="59"></rect>\n        <mask id="arrowHeadDomainsStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="59" height="59" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0">\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-2)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-4)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-3"></use>\n    </g>\n</svg>\n',"text/xml").documentElement},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e,t,n){var i=(0,r.absToChr)(e,n),o=(0,r.absToChr)(t,n);return[i[0],Math.round(i[1]),o[0],Math.round(o[1])]}return e}();t.default=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e,r=[],i=function(){function e(e){n[e].forEach(function(n){"combined"==n.type&&t&&n.contents.forEach(function(t){r.push(Object.assign(t,{position:e}))}),r.push(Object.assign(n,{position:e}))})}return e}();for(var o in n)i(o);return r}return e}();t.default=n},function(e,t,n){"use strict";function r(e,t){var n="abcdef".split("").concat(t),r=[];return e.indexOf("lo")>=0&&r.push("lo=e[k+n]"),e.indexOf("hi")>=0&&r.push("hi=e[k+o]"),n.push(i.replace("_",r.join()).replace("$",e)),Function.apply(void 0,n)}e.exports=r;var i="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},function(e,t,n){"use strict";function r(e){var t=f.nextPow2(e);p.length<t&&(c.free(p),p=c.mallocInt32(t)),v.length<t&&(c.free(v),v=c.mallocInt32(t)),m.length<t&&(c.free(m),m=c.mallocInt32(t)),g.length<t&&(c.free(g),g=c.mallocInt32(t)),y.length<t&&(c.free(y),y=c.mallocInt32(t)),b.length<t&&(c.free(b),b=c.mallocInt32(t));var n=8*t;w.length<n&&(c.free(w),w=c.mallocDouble(n))}function i(e,t,n,r){var i=t[r],o=e[n-1];e[i]=o,t[o]=i}function o(e,t,n,r){e[n]=r,t[r]=n}function a(e,t,n,r,a,s,l,u,c,f){for(var y=0,b=2*e,x=e-1,k=b-1,_=n;_<r;++_){var S=s[_],T=b*_;w[y++]=a[T+x],w[y++]=-(S+1),w[y++]=a[T+k],w[y++]=S}for(var _=l;_<u;++_){var S=f[_]+d,O=b*_;w[y++]=c[O+x],w[y++]=-S,w[y++]=c[O+k],w[y++]=S}var C=y>>>1;h(w,C);for(var P=0,E=0,_=0;_<C;++_){var M=0|w[2*_+1];if(M>=d)M=M-d|0,i(m,g,E--,M);else if(M>=0)i(p,v,P--,M);else if(M<=-d){M=-M-d|0;for(var A=0;A<P;++A){var j=t(p[A],M);if(void 0!==j)return j}o(m,g,E++,M)}else{M=-M-1|0;for(var A=0;A<E;++A){var j=t(M,m[A]);if(void 0!==j)return j}o(p,v,P++,M)}}}function s(e,t,n,r,a,s,l,u,c,f){for(var d=0,x=2*e,k=e-1,_=x-1,S=n;S<r;++S){var T=s[S]+1<<1,O=x*S;w[d++]=a[O+k],w[d++]=-T,w[d++]=a[O+_],w[d++]=T}for(var S=l;S<u;++S){var T=f[S]+1<<1,C=x*S;w[d++]=c[C+k],w[d++]=1|-T,w[d++]=c[C+_],w[d++]=1|T}var P=d>>>1;h(w,P);for(var E=0,M=0,A=0,S=0;S<P;++S){var j=0|w[2*S+1],R=1&j;if(S<P-1&&j>>1==w[2*S+3]>>1&&(R=2,S+=1),j<0){for(var I=-(j>>1)-1,D=0;D<A;++D){var L=t(y[D],I);if(void 0!==L)return L}if(0!==R)for(var D=0;D<E;++D){var L=t(p[D],I);if(void 0!==L)return L}if(1!==R)for(var D=0;D<M;++D){var L=t(m[D],I);if(void 0!==L)return L}0===R?o(p,v,E++,I):1===R?o(m,g,M++,I):2===R&&o(y,b,A++,I)}else{var I=(j>>1)-1;0===R?i(p,v,E--,I):1===R?i(m,g,M--,I):2===R&&i(y,b,A--,I)}}}function l(e,t,n,r,a,s,l,u,c,f,m,g){var y=0,b=2*e,x=t,k=t+e,_=1,S=1;r?S=d:_=d;for(var T=a;T<s;++T){var O=T+_,C=b*T;w[y++]=l[C+x],w[y++]=-O,w[y++]=l[C+k],w[y++]=O}for(var T=c;T<f;++T){var O=T+S,P=b*T;w[y++]=m[P+x],w[y++]=-O}var E=y>>>1;h(w,E);for(var M=0,T=0;T<E;++T){var A=0|w[2*T+1];if(A<0){var O=-A,j=!1;if(O>=d?(j=!r,O-=d):(j=!!r,O-=1),j)o(p,v,M++,O);else{var R=g[O],I=b*O,D=m[I+t+1],L=m[I+t+1+e];e:for(var z=0;z<M;++z){var B=p[z],N=b*B;if(!(L<l[N+t+1]||l[N+t+1+e]<D)){for(var H=t+2;H<e;++H)if(m[I+H+e]<l[N+H]||l[N+H+e]<m[I+H])continue e;var V,F=u[B];if(void 0!==(V=r?n(R,F):n(F,R)))return V}}}}else i(p,v,M--,A-_)}}function u(e,t,n,r,i,o,a,s,l,u,c){for(var f=0,v=2*e,m=t,g=t+e,y=r;y<i;++y){var b=y+d,x=v*y;w[f++]=o[x+m],w[f++]=-b,w[f++]=o[x+g],w[f++]=b}for(var y=s;y<l;++y){var b=y+1,k=v*y;w[f++]=u[k+m],w[f++]=-b}var _=f>>>1;h(w,_);for(var S=0,y=0;y<_;++y){var T=0|w[2*y+1];if(T<0){var b=-T;if(b>=d)p[S++]=b-d;else{b-=1;var O=c[b],C=v*b,P=u[C+t+1],E=u[C+t+1+e];e:for(var M=0;M<S;++M){var A=p[M],j=a[A];if(j===O)break;var R=v*A;if(!(E<o[R+t+1]||o[R+t+1+e]<P)){for(var I=t+2;I<e;++I)if(u[C+I+e]<o[R+I]||o[R+I+e]<u[C+I])continue e;var D=n(j,O);if(void 0!==D)return D}}}}else{for(var b=T-d,M=S-1;M>=0;--M)if(p[M]===b){for(var I=M+1;I<S;++I)p[I-1]=p[I];break}--S}}}e.exports={init:r,sweepBipartite:a,sweepComplete:s,scanBipartite:l,scanComplete:u};var c=n(142),f=n(90),h=n(343),d=1<<28,p=c.mallocInt32(1024),v=c.mallocInt32(1024),m=c.mallocInt32(1024),g=c.mallocInt32(1024),y=c.mallocInt32(1024),b=c.mallocInt32(1024),w=c.mallocDouble(8192)},function(e,t,n){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,n,r):"string"==typeof t?c(e,t,n):d(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,r){return s(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function u(e,t){if(s(t),e=i(e,t<0?0:0|p(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(t,n);e=i(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=f(e,t),e}function d(e,t){if(o.isBuffer(t)){var n=0|p(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||q(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&$(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),o.alloc(+e)}function m(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(e).length;default:if(r)return W(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}var u;if(i){var c=-1;for(u=n;u<s;u++)if(o(e,u)===o(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*a}else-1!==c&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var f=!0,h=0;h<l;h++)if(o(e,u+h)!==o(t,h)){f=!1;break}if(f)return u}return-1}function x(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function k(e,t,n,r){return Z(W(t,e.length-n),e,n,r)}function _(e,t,n,r){return Z(Y(t),e,n,r)}function S(e,t,n,r){return _(e,t,n,r)}function T(e,t,n,r){return Z(X(t),e,n,r)}function O(e,t,n,r){return Z(G(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?K.fromByteArray(e):K.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var l,u,c,f;switch(s){case 1:o<128&&(a=o);break;case 2:l=e[i+1],128==(192&l)&&(f=(31&o)<<6|63&l)>127&&(a=f);break;case 3:l=e[i+1],u=e[i+2],128==(192&l)&&128==(192&u)&&(f=(15&o)<<12|(63&l)<<6|63&u)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(f=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return E(r)}function E(e){var t=e.length;if(t<=Q)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Q));return n}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=U(e[o]);return i}function R(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function z(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function B(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,i){return i||B(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function H(e,t,n,r,i){return i||B(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function V(e){if(e=F(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function F(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function X(e){return K.toByteArray(V(e))}function Z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function q(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var K=n(339),J=n(516),$=n(517);t.Buffer=o,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return l(null,e,t,n)},o.allocUnsafe=function(e){return u(null,e)},o.allocUnsafeSlow=function(e){return u(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!$(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=m,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):g.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,s=n-t,l=Math.min(a,s),u=this.slice(r,i),c=e.slice(t,n),f=0;f<l;++f)if(u[f]!==c[f]){a=u[f],s=c[f];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),J.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),J.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),J.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),J.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){D(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){D(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):z(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):z(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):z(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):z(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return H(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return H(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:W(new o(e,r).toString()),l=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(43))},function(e,t,n){var r,i;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(i=function(){return n}.apply(t,r))&&(e.exports=i))}()},function(e,t,n){e.exports={ResizeSensor:n(159),ElementQueries:n(344)}},function(e,t,n){"use strict";var r,i;!function(o,a){r=a,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i)}("undefined"!=typeof window&&window,function(){function e(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,i=0,o=e.length;if(r)for(;i<o;i++)t(e[i]);else t(e)}function t(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}if("undefined"==typeof window)return null;var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},r=function(i,o){function a(){var e=[];this.add=function(t){e.push(t)};var t,n;this.call=function(r){for(t=0,n=e.length;t<n;t++)e[t].call(this,r)},this.remove=function(r){var i=[];for(t=0,n=e.length;t<n;t++)e[t]!==r&&i.push(e[t]);e=i},this.length=function(){return e.length}}function s(e,r){if(e){if(e.resizedAttached)return void e.resizedAttached.add(r);e.resizedAttached=new a,e.resizedAttached.add(r),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var i="position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",o="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=i,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+i+'"><div style="'+o+'"></div></div><div class="resize-sensor-shrink" style="'+i+'"><div style="'+o+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor);var s=window.getComputedStyle(e).getPropertyValue("position");"absolute"!==s&&"relative"!==s&&"fixed"!==s&&(e.style.position="relative");var l,u,c,f=e.resizeSensor.childNodes[0],h=f.childNodes[0],d=e.resizeSensor.childNodes[1],p=t(e),v=p.width,m=p.height,g=!0,y=function(){h.style.width="100000px",h.style.height="100000px",f.scrollLeft=1e5,f.scrollTop=1e5,d.scrollLeft=1e5,d.scrollTop=1e5},b=function(){if(g){if(!f.scrollTop&&!f.scrollLeft)return y(),void(c||(c=n(function(){c=0,b()})));g=!1}y()};e.resizeSensor.resetSensor=b;var w=function(){u=0,l&&(v=p.width,m=p.height,e.resizedAttached&&e.resizedAttached.call(p))},x=function(){p=t(e),l=p.width!==v||p.height!==m,l&&!u&&(u=n(w)),b()},k=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};k(f,"scroll",x),k(d,"scroll",x),n(b)}}var l;"undefined"!=typeof ResizeObserver?(l=new ResizeObserver(function(t){e(t,function(e){o.call(this,{width:e.contentRect.width,height:e.contentRect.height})})}),void 0!==i&&e(i,function(e){l.observe(e)})):e(i,function(e){s(e,o)}),this.detach=function(e){"undefined"!=typeof ResizeObserver?l.unobserve(i):r.detach(i,e)},this.reset=function(){i.resizeSensor.resetSensor()}};return r.reset=function(t,n){e(t,function(e){e.resizeSensor.resetSensor()})},r.detach=function(t,n){e(t,function(e){e&&(e.resizedAttached&&"function"==typeof n&&(e.resizedAttached.remove(n),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))})},r})},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=Array.prototype,i=r.slice,o=r.map},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s});var r=n(44),i=n(162),o=n.i(i.a)(r.a),a=o.right,s=o.left;t.a=a},function(e,t,n){"use strict";function r(e){return function(t,r){return n.i(i.a)(e(t),r)}}var i=n(44);t.a=function(e){return 1===e.length&&(e=r(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}},function(e,t,n){"use strict";var r=n(171);t.a=function(e,t){var i=n.i(r.a)(e,t);return i?Math.sqrt(i):i}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r}},function(e,t,n){"use strict";function r(e,t){return[e,t]}t.b=r,t.a=function(e,t){null==t&&(t=r);for(var n=0,i=e.length-1,o=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(o,o=e[++n]);return a}},function(e,t,n){"use strict";t.a=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}},function(e,t,n){"use strict";t.a=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}},function(e,t,n){"use strict";function r(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),l=r/Math.pow(10,i);return i>=0?(l>=o?10:l>=a?5:l>=s?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(l>=o?10:l>=a?5:l>=s?2:1)}function i(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),l=r/i;return l>=o?i*=10:l>=a?i*=5:l>=s&&(i*=2),t<e?-i:i}t.b=r,t.c=i;var o=Math.sqrt(50),a=Math.sqrt(10),s=Math.sqrt(2);t.a=function(e,t,n){var i,o,a,s,l=-1;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((i=t<e)&&(o=e,e=t,t=o),0===(s=r(e,t,n))||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),a=new Array(o=Math.ceil(t-e+1));++l<o;)a[l]=(e+l)*s;else for(e=Math.floor(e*s),t=Math.ceil(t*s),a=new Array(o=Math.ceil(e-t+1));++l<o;)a[l]=(e-l)/s;return i&&a.reverse(),a}},function(e,t,n){"use strict";function r(e){return e.length}var i=n(165);t.a=function(e){if(!(s=e.length))return[];for(var t=-1,o=n.i(i.a)(e,r),a=new Array(o);++t<o;)for(var s,l=-1,u=a[t]=new Array(s);++l<s;)u[l]=e[l][t];return a}},function(e,t,n){"use strict";var r=n(54);t.a=function(e,t){var i,o,a=e.length,s=0,l=-1,u=0,c=0;if(null==t)for(;++l<a;)isNaN(i=n.i(r.a)(e[l]))||(o=i-u,u+=o/++s,c+=o*(i-u));else for(;++l<a;)isNaN(i=n.i(r.a)(t(e[l],l,e)))||(o=i-u,u+=o/++s,c+=o*(i-u));if(s>1)return c/(s-1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(362);n.d(t,"axisTop",function(){return r.a}),n.d(t,"axisRight",function(){return r.b}),n.d(t,"axisBottom",function(){return r.c}),n.d(t,"axisLeft",function(){return r.d})},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(e,t,n){"use strict";function r(e,t){var r=e.document.documentElement,a=n.i(i.select)(e).on("dragstart.drag",null);t&&(a.on("click.drag",o.a,!0),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}t.b=r;var i=n(4),o=n(175);t.a=function(e){var t=e.document.documentElement,r=n.i(i.select)(e).on("dragstart.drag",o.a,!0);"onselectstart"in t?r.on("selectstart.drag",o.a,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}},function(e,t,n){"use strict";function r(){i.event.stopImmediatePropagation()}t.b=r;var i=n(4);t.a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},function(e,t,n){"use strict";n.d(t,"b",function(){return r});var r,i=n(103);t.a=function(e,t){var o=n.i(i.a)(e,t);if(!o)return e+"";var a=o[0],s=o[1],l=s-(r=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,u=a.length;return l===u?a:l>u?a+new Array(l-u+1).join("0"):l>0?a.slice(0,l)+"."+a.slice(l):"0."+new Array(1-l).join("0")+n.i(i.a)(e,Math.max(0,t+l-1))[0]}},function(e,t,n){"use strict";function r(e){return new i(e)}function i(e){if(!(t=a.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",s=t[4]||"",l=!!t[5],u=t[6]&&+t[6],c=!!t[7],f=t[8]&&+t[8].slice(1),h=t[9]||"";"n"===h?(c=!0,h="g"):o.a[h]||(h=""),(l||"0"===n&&"="===r)&&(l=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=s,this.zero=l,this.width=u,this.comma=c,this.precision=f,this.type=h}t.a=r;var o=n(178),a=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;r.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type}},function(e,t,n){"use strict";var r=n(385),i=n(176),o=n(388);t.a={"":r.a,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return n.i(o.a)(100*e,t)},r:o.a,s:i.a,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}},function(e,t,n){"use strict";var r=n(70),i=n(386),o=n(387),a=n(177),s=n(178),l=n(176),u=n(389),c=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];t.a=function(e){function t(e){function t(e){var t,n,a,s=x,u=k;if("c"===w)u=_(e)+u,e="";else{e=+e;var d=e<0;if(e=_(Math.abs(e),b),d&&0==+e&&(d=!1),s=(d?"("===o?o:"-":"-"===o||"("===o?"":o)+s,u=("s"===w?c[8+l.b/3]:"")+u+(d&&"("===o?")":""),S)for(t=-1,n=e.length;++t<n;)if(48>(a=e.charCodeAt(t))||a>57){u=(46===a?p+e.slice(t+1):e.slice(t))+u,e=e.slice(0,t);break}}y&&!f&&(e=h(e,1/0));var m=s.length+e.length+u.length,T=m<g?new Array(g-m+1).join(r):"";switch(y&&f&&(e=h(T+e,T.length?g-u.length:1/0),T=""),i){case"<":e=s+e+u+T;break;case"=":e=s+T+e+u;break;case"^":e=T.slice(0,m=T.length>>1)+s+e+u+T.slice(m);break;default:e=T+s+e+u}return v(e)}e=n.i(a.a)(e);var r=e.fill,i=e.align,o=e.sign,u=e.symbol,f=e.zero,g=e.width,y=e.comma,b=e.precision,w=e.type,x="$"===u?d[0]:"#"===u&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k="$"===u?d[1]:/[%p]/.test(w)?m:"",_=s.a[w],S=!w||/[defgprs%]/.test(w);return b=null==b?w?6:12:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),t.toString=function(){return e+""},t}function f(e,i){var o=t((e=n.i(a.a)(e),e.type="f",e)),s=3*Math.max(-8,Math.min(8,Math.floor(n.i(r.a)(i)/3))),l=Math.pow(10,-s),u=c[8+s/3];return function(e){return o(l*e)+u}}var h=e.grouping&&e.thousands?n.i(i.a)(e.grouping,e.thousands):u.a,d=e.currency,p=e.decimal,v=e.numerals?n.i(o.a)(e.numerals):u.a,m=e.percent||"%";return{format:t,formatPrefix:f}}},function(e,t,n){"use strict";var r=n(105);t.a=function(e,t){var i,o=t?t.length:0,a=e?Math.min(o,e.length):0,s=new Array(a),l=new Array(o);for(i=0;i<a;++i)s[i]=n.i(r.a)(e[i],t[i]);for(;i<o;++i)l[i]=t[i];return function(e){for(i=0;i<a;++i)l[i]=s[i](e);return l}}},function(e,t,n){"use strict";var r=n(104);t.a=function(e){var t=e.length;return function(i){var o=Math.floor(((i%=1)<0?++i:i)*t),a=e[(o+t-1)%t],s=e[o%t],l=e[(o+1)%t],u=e[(o+2)%t];return n.i(r.b)((i-o/t)*t,a,s,l,u)}}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";t.a=function(e,t){var n=new Date;return e=+e,t-=e,function(r){return n.setTime(e+t*r),n}}},function(e,t,n){"use strict";var r=n(105);t.a=function(e,t){var i,o={},a={};null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={});for(i in t)i in e?o[i]=n.i(r.a)(e[i],t[i]):a[i]=t[i];return function(e){for(i in o)a[i]=o[i](e);return a}}},function(e,t,n){"use strict";function r(e){return function(t){var r,o,a=t.length,s=new Array(a),l=new Array(a),u=new Array(a);for(r=0;r<a;++r)o=n.i(i.rgb)(t[r]),s[r]=o.r||0,l[r]=o.g||0,u[r]=o.b||0;return s=e(s),l=e(l),u=e(u),o.opacity=1,function(e){return o.r=s(e),o.g=l(e),o.b=u(e),o+""}}}var i=n(14),o=n(104),a=n(181),s=n(55);t.a=function e(t){function r(e,t){var r=o((e=n.i(i.rgb)(e)).r,(t=n.i(i.rgb)(t)).r),a=o(e.g,t.g),l=o(e.b,t.b),u=n.i(s.a)(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=l(t),e.opacity=u(t),e+""}}var o=n.i(s.c)(t);return r.gamma=e,r}(1);r(o.a),r(a.a)},function(e,t,n){"use strict";function r(e){return function(){return e}}function i(e){return function(t){return e(t)+""}}var o=n(71),a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s=new RegExp(a.source,"g");t.a=function(e,t){var l,u,c,f=a.lastIndex=s.lastIndex=0,h=-1,d=[],p=[];for(e+="",t+="";(l=a.exec(e))&&(u=s.exec(t));)(c=u.index)>f&&(c=t.slice(f,c),d[h]?d[h]+=c:d[++h]=c),(l=l[0])===(u=u[0])?d[h]?d[h]+=u:d[++h]=u:(d[++h]=null,p.push({i:h,x:n.i(o.a)(l,u)})),f=s.lastIndex;return f<t.length&&(c=t.slice(f),d[h]?d[h]+=c:d[++h]=c),d.length<2?p[0]?i(p[0].x):r(t):(t=p.length,function(e){for(var n,r=0;r<t;++r)d[(n=p[r]).i]=n.x(e);return d.join("")})}},function(e,t,n){"use strict";t.a=function(e,t){e=e.slice();var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}},function(e,t,n){"use strict";t.a=function(e){return+e}},function(e,t,n){"use strict";function r(e){function t(t){var n=t+"",r=s.get(n);if(!r){if(u!==a)return u;s.set(n,r=l.push(t))}return e[(r-1)%e.length]}var s=n.i(i.a)(),l=[],u=a;return e=null==e?[]:o.b.call(e),t.domain=function(e){if(!arguments.length)return l.slice();l=[],s=n.i(i.a)();for(var r,o,a=-1,u=e.length;++a<u;)s.has(o=(r=e[a])+"")||s.set(o,l.push(r));return t},t.range=function(n){return arguments.length?(e=o.b.call(n),t):e.slice()},t.unknown=function(e){return arguments.length?(u=e,t):u},t.copy=function(){return r().domain(l).range(e).unknown(u)},t}n.d(t,"b",function(){return a}),t.a=r;var i=n(69),o=n(39),a={name:"implicit"}},function(e,t,n){"use strict";function r(e){return new Date(e)}function i(e){return e instanceof Date?+e:+new Date(+e)}function o(e,t,l,u,w,x,k,_,S){function T(n){return(k(n)<n?M:x(n)<n?A:w(n)<n?j:u(n)<n?R:t(n)<n?l(n)<n?I:D:e(n)<n?L:z)(n)}function O(t,r,i,o){if(null==t&&(t=10),"number"==typeof t){var s=Math.abs(i-r)/t,l=n.i(a.bisector)(function(e){return e[2]}).right(B,s);l===B.length?(o=n.i(a.tickStep)(r/b,i/b,t),t=e):l?(l=B[s/B[l-1][2]<B[l][2]/s?l-1:l],o=l[1],t=l[0]):(o=Math.max(n.i(a.tickStep)(r,i,t),1),t=_)}return null==o?t:t.every(o)}var C=n.i(f.a)(f.b,s.a),P=C.invert,E=C.domain,M=S(".%L"),A=S(":%S"),j=S("%I:%M"),R=S("%I %p"),I=S("%a %d"),D=S("%b %d"),L=S("%B"),z=S("%Y"),B=[[k,1,d],[k,5,5*d],[k,15,15*d],[k,30,30*d],[x,1,p],[x,5,5*p],[x,15,15*p],[x,30,30*p],[w,1,v],[w,3,3*v],[w,6,6*v],[w,12,12*v],[u,1,m],[u,2,2*m],[l,1,g],[t,1,y],[t,3,3*y],[e,1,b]];return C.invert=function(e){return new Date(P(e))},C.domain=function(e){return arguments.length?E(c.a.call(e,i)):E().map(r)},C.ticks=function(e,t){var n,r=E(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=O(e,i,o,t),n=n?n.range(i,o+1):[],a?n.reverse():n},C.tickFormat=function(e,t){return null==t?T:S(t)},C.nice=function(e,t){var r=E();return(e=O(e,r[0],r[r.length-1],t))?E(n.i(h.a)(r,e)):C},C.copy=function(){return n.i(f.c)(C,o(e,t,l,u,w,x,k,_,S))},C}t.b=o;var a=n(9),s=n(20),l=n(120),u=n(197),c=n(39),f=n(72),h=n(187),d=1e3,p=60*d,v=60*p,m=24*v,g=7*m,y=30*m,b=365*m;t.a=function(){return o(l.l,l.q,l.r,l.k,l.s,l.t,l.u,l.v,u.b).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}},function(e,t,n){"use strict";var r=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var i=document.documentElement;if(!i.matches){var o=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;r=function(e){return function(){return o.call(this,e)}}}}t.a=r},function(e,t,n){"use strict";var r=n(16);t.a=function(e){return"string"==typeof e?new r.b([[document.querySelector(e)]],[document.documentElement]):new r.b([[e]],r.c)}},function(e,t,n){"use strict";function r(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}t.b=r;var i=n(194),o=n(16);t.a=function(){return new o.b(this._enter||this._groups.map(i.a),this._parents)},r.prototype={constructor:r,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},function(e,t,n){"use strict";t.a=function(e){return new Array(e.length)}},function(e,t,n){"use strict";function r(e){return function(){this.style.removeProperty(e)}}function i(e,t,n){return function(){this.style.setProperty(e,t,n)}}function o(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function a(e,t){return e.style.getPropertyValue(t)||n.i(s.a)(e).getComputedStyle(e,null).getPropertyValue(t)}t.a=a;var s=n(118);t.b=function(e,t,n){return arguments.length>1?this.each((null==t?r:"function"==typeof t?o:i)(e,t,null==n?"":n)):a(this.node(),e)}},function(e,t,n){"use strict";function r(){return[]}t.a=function(e){return null==e?r:function(){return this.querySelectorAll(e)}}},function(e,t,n){"use strict";var r=n(119);n.d(t,"b",function(){return r.c}),n.d(t,"a",function(){return r.a});n(199),n(198),n(457)},function(e,t,n){"use strict";function r(e){return e.toISOString()}n.d(t,"a",function(){return o});var i=n(119),o="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||n.i(i.a)(o)},function(e,t,n){"use strict";function r(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function o(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function a(e){function t(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=pe[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function a(e,t){return function(r){var a,l,u=o(1900),c=s(u,e,r+="",0);if(c!=r.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(a=i(o(u.y)),l=a.getUTCDay(),a=l>4||0===l?de.i.ceil(a):n.i(de.i)(a),a=de.d.offset(a,7*(u.V-1)),u.y=a.getUTCFullYear(),u.m=a.getUTCMonth(),u.d=a.getUTCDate()+(u.w+6)%7):(a=t(o(u.y)),l=a.getDay(),a=l>4||0===l?de.j.ceil(a):n.i(de.j)(a),a=de.k.offset(a,7*(u.V-1)),u.y=a.getFullYear(),u.m=a.getMonth(),u.d=a.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),l="Z"in u?i(o(u.y)).getUTCDay():t(o(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(l+5)%7:u.w+7*u.U-(l+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,i(u)):t(u)}}function s(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=$e[i in pe?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function l(e,t,n){var r=He.exec(t.slice(n));return r?(e.p=Ve[r[0].toLowerCase()],n+r[0].length):-1}function ve(e,t,n){var r=We.exec(t.slice(n));return r?(e.w=Ye[r[0].toLowerCase()],n+r[0].length):-1}function me(e,t,n){var r=Fe.exec(t.slice(n));return r?(e.w=Ue[r[0].toLowerCase()],n+r[0].length):-1}function ge(e,t,n){var r=Ze.exec(t.slice(n));return r?(e.m=qe[r[0].toLowerCase()],n+r[0].length):-1}function ye(e,t,n){var r=Ge.exec(t.slice(n));return r?(e.m=Xe[r[0].toLowerCase()],n+r[0].length):-1}function be(e,t,n){return s(e,je,t,n)}function we(e,t,n){return s(e,Re,t,n)}function xe(e,t,n){return s(e,Ie,t,n)}function ke(e){return ze[e.getDay()]}function _e(e){return Le[e.getDay()]}function Se(e){return Ne[e.getMonth()]}function Te(e){return Be[e.getMonth()]}function Oe(e){return De[+(e.getHours()>=12)]}function Ce(e){return ze[e.getUTCDay()]}function Pe(e){return Le[e.getUTCDay()]}function Ee(e){return Ne[e.getUTCMonth()]}function Me(e){return Be[e.getUTCMonth()]}function Ae(e){return De[+(e.getUTCHours()>=12)]}var je=e.dateTime,Re=e.date,Ie=e.time,De=e.periods,Le=e.days,ze=e.shortDays,Be=e.months,Ne=e.shortMonths,He=u(De),Ve=c(De),Fe=u(Le),Ue=c(Le),We=u(ze),Ye=c(ze),Ge=u(Be),Xe=c(Be),Ze=u(Ne),qe=c(Ne),Ke={a:ke,A:_e,b:Se,B:Te,c:null,d:M,e:M,f:D,H:A,I:j,j:R,L:I,m:L,M:z,p:Oe,Q:fe,s:he,S:B,u:N,U:H,V:V,w:F,W:U,x:null,X:null,y:W,Y:Y,Z:G,"%":ce},Je={a:Ce,A:Pe,b:Ee,B:Me,c:null,d:X,e:X,f:$,H:Z,I:q,j:K,L:J,m:Q,M:ee,p:Ae,Q:fe,s:he,S:te,u:ne,U:re,V:ie,w:oe,W:ae,x:null,X:null,y:se,Y:le,Z:ue,"%":ce},$e={a:ve,A:me,b:ge,B:ye,c:be,d:w,e:w,f:O,H:k,I:k,j:x,L:T,m:b,M:_,p:l,Q:P,s:E,S:S,u:h,U:d,V:p,w:f,W:v,x:we,X:xe,y:g,Y:m,Z:y,"%":C};return Ke.x=t(Re,Ke),Ke.X=t(Ie,Ke),Ke.c=t(je,Ke),Je.x=t(Re,Je),Je.X=t(Ie,Je),Je.c=t(je,Je),{format:function(e){var n=t(e+="",Ke);return n.toString=function(){return e},n},parse:function(e){var t=a(e+="",r);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",Je);return n.toString=function(){return e},n},utcParse:function(e){var t=a(e,i);return t.toString=function(){return e},t}}}function s(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function l(e){return e.replace(ge,"\\$&")}function u(e){return new RegExp("^(?:"+e.map(l).join("|")+")","i")}function c(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function f(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function h(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function d(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function p(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function v(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function m(e,t,n){var r=ve.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function g(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function y(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function b(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function w(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function x(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function k(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function _(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function S(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function T(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function O(e,t,n){var r=ve.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function C(e,t,n){var r=me.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function P(e,t,n){var r=ve.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function E(e,t,n){var r=ve.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function M(e,t){return s(e.getDate(),t,2)}function A(e,t){return s(e.getHours(),t,2)}function j(e,t){return s(e.getHours()%12||12,t,2)}function R(e,t){return s(1+de.k.count(n.i(de.l)(e),e),t,3)}function I(e,t){return s(e.getMilliseconds(),t,3)}function D(e,t){return I(e,t)+"000"}function L(e,t){return s(e.getMonth()+1,t,2)}function z(e,t){return s(e.getMinutes(),t,2)}function B(e,t){return s(e.getSeconds(),t,2)}function N(e){var t=e.getDay();return 0===t?7:t}function H(e,t){return s(de.m.count(n.i(de.l)(e),e),t,2)}function V(e,t){var r=e.getDay();return e=r>=4||0===r?n.i(de.n)(e):de.n.ceil(e),s(de.n.count(n.i(de.l)(e),e)+(4===n.i(de.l)(e).getDay()),t,2)}function F(e){return e.getDay()}function U(e,t){return s(de.j.count(n.i(de.l)(e),e),t,2)}function W(e,t){return s(e.getFullYear()%100,t,2)}function Y(e,t){return s(e.getFullYear()%1e4,t,4)}function G(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+s(t/60|0,"0",2)+s(t%60,"0",2)}function X(e,t){return s(e.getUTCDate(),t,2)}function Z(e,t){return s(e.getUTCHours(),t,2)}function q(e,t){return s(e.getUTCHours()%12||12,t,2)}function K(e,t){return s(1+de.d.count(n.i(de.a)(e),e),t,3)}function J(e,t){return s(e.getUTCMilliseconds(),t,3)}function $(e,t){return J(e,t)+"000"}function Q(e,t){return s(e.getUTCMonth()+1,t,2)}function ee(e,t){return s(e.getUTCMinutes(),t,2)}function te(e,t){return s(e.getUTCSeconds(),t,2)}function ne(e){var t=e.getUTCDay();return 0===t?7:t}function re(e,t){return s(de.o.count(n.i(de.a)(e),e),t,2)}function ie(e,t){var r=e.getUTCDay();return e=r>=4||0===r?n.i(de.p)(e):de.p.ceil(e),s(de.p.count(n.i(de.a)(e),e)+(4===n.i(de.a)(e).getUTCDay()),t,2)}function oe(e){return e.getUTCDay()}function ae(e,t){return s(de.i.count(n.i(de.a)(e),e),t,2)}function se(e,t){return s(e.getUTCFullYear()%100,t,2)}function le(e,t){return s(e.getUTCFullYear()%1e4,t,4)}function ue(){return"+0000"}function ce(){return"%"}function fe(e){return+e}function he(e){return Math.floor(+e/1e3)}t.a=a;var de=n(120),pe={"-":"",_:" ",0:"0"},ve=/^\s*\d+/,me=/^%/,ge=/[\\^$*+?|[\]().{}]/g},function(e,t,n){"use strict";var r=n(121);n.d(t,"c",function(){return r.c}),n.d(t,"a",function(){return r.a});var i=n(473);n.d(t,"b",function(){return i.a});n(472)},function(e,t,n){"use strict";var r=(n(475),n(26),n(474),n(202));n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r=n(17);t.a=function(e,t){var n,i,o,a=e.__transition,s=!0;if(a){t=null==t?null:t+"";for(o in a)(n=a[o]).name===t?(i=n.state>r.a&&n.state<r.b,n.state=r.c,n.timer.stop(),i&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete a[o]):s=!1;s&&delete e.__transition}}},function(e,t,n){"use strict";var r=n(14),i=n(20);t.a=function(e,t){var o;return("number"==typeof t?i.a:t instanceof r.color?i.f:(o=n.i(r.color)(t))?(t=o,i.f):i.g)(e,t)}},function(e,t,n){"use strict";function r(e,t,n){this.k=e,this.x=t,this.y=n}function i(e){return e.__zoom||o}t.c=r,n.d(t,"b",function(){return o}),t.a=i,r.prototype={constructor:r,scale:function(e){return 1===e?this:new r(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new r(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var o=new r(1,0,0);i.prototype=r.prototype},function(e,t){},function(e,t){e.exports={"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"}},function(e,t){e.exports={"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF"}},function(e,t,n){var r=n(18),i=r.Uint8Array;e.exports=i},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t,n){function r(e,t){var n=a(e),r=!n&&o(e),c=!n&&!r&&s(e),h=!n&&!r&&!c&&u(e),d=n||r||c||h,p=d?i(e.length,String):[],v=p.length;for(var m in e)!t&&!f.call(e,m)||d&&("length"==m||c&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||l(m,v))||p.push(m);return p}var i=n(552),o=n(139),a=n(15),s=n(140),l=n(134),u=n(232),c=Object.prototype,f=c.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n){var r=e[t];s.call(e,t)&&o(r,n)&&(void 0!==n||t in e)||i(e,t,n)}var i=n(212),o=n(85),a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var i=n(221);e.exports=r},function(e,t,n){var r=n(214),i=n(566),o=i(r);e.exports=o},function(e,t,n){function r(e,t){return e&&i(e,t,o)}var i=n(533),o=n(48);e.exports=r},function(e,t,n){function r(e,t){t=i(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}var i=n(220),o=n(84);e.exports=r},function(e,t,n){function r(e,t,n){var r=t(e);return o(e)?r:i(r,n(e))}var i=n(130),o=n(15);e.exports=r},function(e,t,n){function r(e,t,n,a,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:i(e,t,n,a,r,s))}var i=n(536),o=n(24);e.exports=r},function(e,t,n){function r(e,t){var n=-1,r=o(e)?Array(e.length):[];return i(e,function(e,i,o){r[++n]=t(e,i,o)}),r}var i=n(213),o=n(47);e.exports=r},function(e,t,n){function r(e){return"function"==typeof e?e:i}var i=n(59);e.exports=r},function(e,t,n){function r(e,t){return i(e)?e:o(e,t)?[e]:a(s(e))}var i=n(15),o=n(135),a=n(614),s=n(635);e.exports=r},function(e,t,n){var r=n(42),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){function r(e,t,n,r,u,c){var f=n&s,h=e.length,d=t.length;if(h!=d&&!(f&&d>h))return!1;var p=c.get(e);if(p&&c.get(t))return p==t;var v=-1,m=!0,g=n&l?new i:void 0;for(c.set(e,t),c.set(t,e);++v<h;){var y=e[v],b=t[v];if(r)var w=f?r(b,y,v,t,e,c):r(y,b,v,e,t,c);if(void 0!==w){if(w)continue;m=!1;break}if(g){if(!o(t,function(e,t){if(!a(g,t)&&(y===e||u(y,e,n,r,c)))return g.push(t)})){m=!1;break}}else if(y!==b&&!u(y,b,n,r,c)){m=!1;break}}return c.delete(e),c.delete(t),m}var i=n(522),o=n(526),a=n(554),s=1,l=2;e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(43))},function(e,t,n){function r(e){return i(e,a,o)}var i=n(216),o=n(133),a=n(48);e.exports=r},function(e,t,n){var r=n(130),i=n(132),o=n(133),a=n(234),s=Object.getOwnPropertySymbols,l=s?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=l},function(e,t,n){function r(e){return e===e&&!i(e)}var i=n(21);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t){function n(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,i=r.toString;e.exports=n},function(e,t,n){function r(e,t,n){function r(t){var n=y,r=b;return y=b=void 0,S=t,x=e.apply(r,n)}function c(e){return S=e,k=setTimeout(d,t),T?r(e):x}function f(e){var n=e-_,r=e-S,i=t-n;return O?u(i,w-r):i}function h(e){var n=e-_,r=e-S;return void 0===_||n>=t||n<0||O&&r>=w}function d(){var e=o();if(h(e))return p(e);k=setTimeout(d,f(e))}function p(e){return k=void 0,C&&y?r(e):(y=b=void 0,x)}function v(){void 0!==k&&clearTimeout(k),S=0,y=_=b=k=void 0}function m(){return void 0===k?x:p(o())}function g(){var e=o(),n=h(e);if(y=arguments,b=this,_=e,n){if(void 0===k)return c(_);if(O)return k=setTimeout(d,t),r(_)}return void 0===k&&(k=setTimeout(d,t)),x}var y,b,w,x,k,_,S=0,T=!1,O=!1,C=!0;if("function"!=typeof e)throw new TypeError(s);return t=a(t)||0,i(n)&&(T=!!n.leading,O="maxWait"in n,w=O?l(a(n.maxWait)||0,t):w,C="trailing"in n?!!n.trailing:C),g.cancel=v,g.flush=m,g}var i=n(21),o=n(628),a=n(235),s="Expected a function",l=Math.max,u=Math.min;e.exports=r},function(e,t,n){function r(e){if(!o(e))return!1;var t=i(e);return t==s||t==l||t==a||t==u}var i=n(41),o=n(21),a="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";e.exports=r},function(e,t,n){var r=n(541),i=n(79),o=n(137),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t,n){function r(e){return a(e)?i(e,!0):o(e)}var i=n(210),o=n(543),a=n(47);e.exports=r},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){function r(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=u.test(e);return n||c.test(e)?f(e.slice(2),n?2:8):l.test(e)?a:+e}var i=n(21),o=n(60),a=NaN,s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"red",function(){return r}),n.d(t,"pink",function(){return i}),n.d(t,"purple",function(){return o}),n.d(t,"deepPurple",function(){return a}),n.d(t,"indigo",function(){return s}),n.d(t,"blue",function(){return l}),n.d(t,"lightBlue",function(){return u}),n.d(t,"cyan",function(){return c}),n.d(t,"teal",function(){return f}),n.d(t,"green",function(){return h}),n.d(t,"lightGreen",function(){return d}),n.d(t,"lime",function(){return p}),n.d(t,"yellow",function(){return v}),n.d(t,"amber",function(){return m}),n.d(t,"orange",function(){return g}),n.d(t,"deepOrange",function(){return y}),n.d(t,"brown",function(){return b}),n.d(t,"grey",function(){return w}),n.d(t,"blueGrey",function(){return x}),n.d(t,"darkText",function(){return k}),n.d(t,"lightText",function(){return _}),n.d(t,"darkIcons",function(){return S}),n.d(t,"lightIcons",function(){return T}),n.d(t,"white",function(){return O}),n.d(t,"black",function(){return C});var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},i={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},a={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},u={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},c={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},f={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},h={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},d={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},p={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},v={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},m={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},y={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},b={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},w={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},x={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},k={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},_={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},S={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},T={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},O="#ffffff",C="#000000";t.default={red:r,pink:i,purple:o,deepPurple:a,indigo:s,blue:l,lightBlue:u,cyan:c,teal:f,green:h,lightGreen:d,lime:p,yellow:v,amber:m,orange:g,deepOrange:y,brown:b,grey:w,blueGrey:x,darkText:k,lightText:_,darkIcons:S,lightIcons:T,white:O,black:C}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(681),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=t.Checkboard=function(e){var t=e.white,n=e.grey,r=e.size,i=e.renderers,a=e.borderRadius,l=e.boxShadow,c=(0,s.default)({default:{grid:{borderRadius:a,boxShadow:l,absolute:"0px 0px 0px 0px",background:"url("+u.get(t,n,r,i.canvas)+") center left"}}});return o.default.createElement("div",{style:c.grid})};c.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),f=n(230),h=r(f),d=n(19),p=r(d),v=t.ColorWrap=function(e){var t=function(t){function n(e){i(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(p.default.simpleCheckForValidColor(e)){var r=p.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(p.default.simpleCheckForValidColor(e)){var r=p.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=s({},p.default.toState(e.color,0)),t.debounce=(0,h.default)(function(e,t,n){e(t,n)},100),t}return a(n,t),l(n,[{key:"componentWillReceiveProps",value:function(e){this.setState(s({},p.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),c.default.createElement(e,s({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}(u.PureComponent||u.Component);return t.propTypes=s({},e.propTypes),t.defaultProps=s({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var i=n(639);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return r(i).default}});var o=n(641);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return r(o).default}});var a=n(647);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return r(a).default}});var s=n(643);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return r(s).default}});var l=n(655);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return r(l).default}});var u=n(658);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return r(u).default}});var c=n(660);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return r(c).default}});var f=n(662);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return r(f).default}});var h=n(663);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return r(h).default}});var d=n(669);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return r(d).default}});var p=n(672);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return r(p).default}});var v=n(676);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return r(v).default}});var m=n(679);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return r(m).default}});var g=n(238);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return r(g).default}});var y=r(s);t.default=y.default},function(e,t,n){!function(t,r){e.exports=r(n(11),n(0))}(0,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){"use strict";function r(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function i(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function o(e){return"number"==typeof e&&!isNaN(e)}function a(e){return parseInt(e,10)}function s(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=r,t.isFunction=i,t.isNum=o,t.int=a,t.dontSetMe=s},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,l){if(i(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,l],f=0;u=new Error(t.replace(/%s/g,function(){return c[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(e){};"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&(i=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return O||(O=(0,_.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,_.isFunction)(e[t])})),!!(0,_.isFunction)(e[O])&&e[O](t)}function o(e,t,n){var r=e;do{if(i(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function a(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function s(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function l(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,_.int)(n.borderTopWidth),t+=(0,_.int)(n.borderBottomWidth)}function u(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,_.int)(n.borderLeftWidth),t+=(0,_.int)(n.borderRightWidth)}function c(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,_.int)(n.paddingTop),t-=(0,_.int)(n.paddingBottom)}function f(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,_.int)(n.paddingLeft),t-=(0,_.int)(n.paddingRight)}function h(e,t){var n=t===t.ownerDocument.body,r=n?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-r.left,y:e.clientY+t.scrollTop-r.top}}function d(e){var t=e.x,n=e.y;return r({},(0,S.browserPrefixToKey)("transform",T.default),"translate("+t+"px,"+n+"px)")}function p(e){return"translate("+e.x+","+e.y+")"}function v(e,t){return e.targetTouches&&(0,_.findInArray)(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&(0,_.findInArray)(e.changedTouches,function(e){return t===e.identifier})}function m(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function g(e){if(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&w(e.body,"react-draggable-transparent-selection")}}function y(e){try{e&&e.body&&x(e.body,"react-draggable-transparent-selection"),window.getSelection().removeAllRanges()}catch(e){}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k({touchAction:"none"},e)}function w(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)"+t+"(?!\\S)"))||(e.className+=" "+t)}function x(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)","g"),"")}Object.defineProperty(t,"__esModule",{value:!0});var k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.matchesSelector=i,t.matchesSelectorAndParentsTo=o,t.addEvent=a,t.removeEvent=s,t.outerHeight=l,t.outerWidth=u,t.innerHeight=c,t.innerWidth=f,t.offsetXYFromParent=h,t.createCSSTransform=d,t.createSVGTransform=p,t.getTouch=v,t.getTouchIdentifier=m,t.addUserSelectStyles=g,t.removeUserSelectStyles=y,t.styleHacks=b,t.addClassName=w,t.removeClassName=x;var _=n(0),S=n(19),T=function(e){return e&&e.__esModule?e:{default:e}}(S),O=""},function(e,n){e.exports=t},function(e,t,n){if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r};e.exports=n(14)(i,!0)}else e.exports=n(17)()},function(e,t,n){"use strict";var r=n(1),i=r;if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV){var o=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};i=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];o.apply(void 0,[t].concat(r))}}}e.exports=i},function(e,t,n){"use strict";function r(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:c(r);var i=f(e);if("string"==typeof r){var o=i.ownerDocument,a=o.defaultView,s=void 0;if(!((s="parent"===r?i.parentNode:o.querySelector(r))instanceof HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var l=a.getComputedStyle(i),u=a.getComputedStyle(s);r={left:-i.offsetLeft+(0,h.int)(u.paddingLeft)+(0,h.int)(l.marginLeft),top:-i.offsetTop+(0,h.int)(u.paddingTop)+(0,h.int)(l.marginTop),right:(0,v.innerWidth)(s)-(0,v.outerWidth)(i)-i.offsetLeft+(0,h.int)(u.paddingRight)-(0,h.int)(l.marginRight),bottom:(0,v.innerHeight)(s)-(0,v.outerHeight)(i)-i.offsetTop+(0,h.int)(u.paddingBottom)-(0,h.int)(l.marginBottom)}}return(0,h.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,h.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,h.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,h.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function i(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function o(e){return"both"===e.props.axis||"x"===e.props.axis}function a(e){return"both"===e.props.axis||"y"===e.props.axis}function s(e,t,n){var r="number"==typeof t?(0,v.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var i=f(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,v.offsetXYFromParent)(r||e,o)}function l(e,t,n){var r=e.state,i=!(0,h.isNum)(r.lastX),o=f(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function u(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function c(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function f(e){var t=p.default.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=r,t.snapToGrid=i,t.canDragX=o,t.canDragY=a,t.getControlPosition=s,t.createCoreData=l,t.createDraggableData=u;var h=n(0),d=n(4),p=function(e){return e&&e.__esModule?e:{default:e}}(d),v=n(5)},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(6),c=r(u),f=n(7),h=r(f),d=n(4),p=r(d),v=n(5),m=n(9),g=n(0),y=n(11),b=r(y),w={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},x=w.mouse,k=function(e){function t(){var e,n,r,a;i(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},r.handleDragStart=function(e){if(r.props.onMouseDown(e),!r.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=p.default.findDOMNode(r);if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var n=t.ownerDocument;if(!(r.props.disabled||!(e.target instanceof n.defaultView.Node)||r.props.handle&&!(0,v.matchesSelectorAndParentsTo)(e.target,r.props.handle,t)||r.props.cancel&&(0,v.matchesSelectorAndParentsTo)(e.target,r.props.cancel,t))){var i=(0,v.getTouchIdentifier)(e);r.setState({touchIdentifier:i});var o=(0,m.getControlPosition)(e,i,r);if(null!=o){var a=o.x,s=o.y,l=(0,m.createCoreData)(r,a,s);(0,b.default)("DraggableCore: handleDragStart: %j",l),(0,b.default)("calling",r.props.onStart);!1!==r.props.onStart(e,l)&&(r.props.enableUserSelectHack&&(0,v.addUserSelectStyles)(n),r.setState({dragging:!0,lastX:a,lastY:s}),(0,v.addEvent)(n,x.move,r.handleDrag),(0,v.addEvent)(n,x.stop,r.handleDragStop))}}},r.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=(0,m.getControlPosition)(e,r.state.touchIdentifier,r);if(null!=t){var n=t.x,i=t.y;if(Array.isArray(r.props.grid)){var o=n-r.state.lastX,a=i-r.state.lastY,l=(0,m.snapToGrid)(r.props.grid,o,a),u=s(l,2);if(o=u[0],a=u[1],!o&&!a)return;n=r.state.lastX+o,i=r.state.lastY+a}var c=(0,m.createCoreData)(r,n,i);(0,b.default)("DraggableCore: handleDrag: %j",c);if(!1!==r.props.onDrag(e,c))r.setState({lastX:n,lastY:i});else try{r.handleDragStop(new MouseEvent("mouseup"))}catch(e){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(f)}}},r.handleDragStop=function(e){if(r.state.dragging){var t=(0,m.getControlPosition)(e,r.state.touchIdentifier,r);if(null!=t){var n=t.x,i=t.y,o=(0,m.createCoreData)(r,n,i),a=p.default.findDOMNode(r);a&&r.props.enableUserSelectHack&&(0,v.removeUserSelectStyles)(a.ownerDocument),(0,b.default)("DraggableCore: handleDragStop: %j",o),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),r.props.onStop(e,o),a&&((0,b.default)("DraggableCore: Removing handlers"),(0,v.removeEvent)(a.ownerDocument,x.move,r.handleDrag),(0,v.removeEvent)(a.ownerDocument,x.stop,r.handleDragStop))}}},r.onMouseDown=function(e){return x=w.mouse,r.handleDragStart(e)},r.onMouseUp=function(e){return x=w.mouse,r.handleDragStop(e)},r.onTouchStart=function(e){return x=w.touch,r.handleDragStart(e)},r.onTouchEnd=function(e){return x=w.touch,r.handleDragStop(e)},a=n,o(r,a)}return a(t,e),l(t,[{key:"componentWillUnmount",value:function(){var e=p.default.findDOMNode(this);if(e){var t=e.ownerDocument;(0,v.removeEvent)(t,w.mouse.move,this.handleDrag),(0,v.removeEvent)(t,w.touch.move,this.handleDrag),(0,v.removeEvent)(t,w.mouse.stop,this.handleDragStop),(0,v.removeEvent)(t,w.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,v.removeUserSelectStyles)(t)}}},{key:"render",value:function(){return c.default.cloneElement(c.default.Children.only(this.props.children),{style:(0,v.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),t}(c.default.Component);k.displayName="DraggableCore",k.propTypes={allowAnyClick:h.default.bool,disabled:h.default.bool,enableUserSelectHack:h.default.bool,offsetParent:function(t,n){if(!0===e.browser&&t[n]&&1!==t[n].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:h.default.arrayOf(h.default.number),handle:h.default.string,cancel:h.default.string,onStart:h.default.func,onDrag:h.default.func,onStop:h.default.func,onMouseDown:h.default.func,className:g.dontSetMe,style:g.dontSetMe,transform:g.dontSetMe},k.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},t.default=k}).call(t,n(20))},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";var r=n(13).default;e.exports=r,e.exports.default=r,e.exports.DraggableCore=n(10).default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(6),h=r(f),d=n(7),p=r(d),v=n(4),m=r(v),g=n(18),y=r(g),b=n(5),w=n(9),x=n(0),k=n(10),_=r(k),S=n(11),T=r(S),O=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDragStart=function(e,t){if((0,T.default)("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,(0,w.createDraggableData)(n,t)))return!1;n.setState({dragging:!0,dragged:!0})},n.onDrag=function(e,t){if(!n.state.dragging)return!1;(0,T.default)("Draggable: onDrag: %j",t);var r=(0,w.createDraggableData)(n,t),i={x:r.x,y:r.y};if(n.props.bounds){var o=i.x,a=i.y;i.x+=n.state.slackX,i.y+=n.state.slackY;var s=(0,w.getBoundPosition)(n,i.x,i.y),l=u(s,2),c=l[0],f=l[1];i.x=c,i.y=f,i.slackX=n.state.slackX+(o-i.x),i.slackY=n.state.slackY+(a-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-n.state.x,r.deltaY=i.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(i)},n.onDragStop=function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,(0,w.createDraggableData)(n,t)))return!1;(0,T.default)("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var i=n.props.position,o=i.x,a=i.y;r.x=o,r.y=a}n.setState(r)},n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},n}return s(t,e),c(t,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&m.default.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t={},n=null,r=Boolean(this.props.position),o=!r||this.state.dragging,a=this.props.position||this.props.defaultPosition,s={x:(0,w.canDragX)(this)&&o?this.state.x:a.x,y:(0,w.canDragY)(this)&&o?this.state.y:a.y};this.state.isElementSVG?n=(0,b.createSVGTransform)(s):t=(0,b.createCSSTransform)(s);var u=this.props,c=u.defaultClassName,f=u.defaultClassNameDragging,d=u.defaultClassNameDragged,p=h.default.Children.only(this.props.children),v=(0,y.default)(p.props.className||"",c,(e={},i(e,f,this.state.dragging),i(e,d,this.state.dragged),e));return h.default.createElement(_.default,l({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),h.default.cloneElement(p,{className:v,style:l({},p.props.style,t),transform:n}))}}]),t}(h.default.Component);O.displayName="Draggable",O.propTypes=l({},_.default.propTypes,{axis:p.default.oneOf(["both","x","y","none"]),bounds:p.default.oneOfType([p.default.shape({left:p.default.number,right:p.default.number,top:p.default.number,bottom:p.default.number}),p.default.string,p.default.oneOf([!1])]),defaultClassName:p.default.string,defaultClassNameDragging:p.default.string,defaultClassNameDragged:p.default.string,defaultPosition:p.default.shape({x:p.default.number,y:p.default.number}),position:p.default.shape({x:p.default.number,y:p.default.number}),className:x.dontSetMe,style:x.dontSetMe,transform:x.dontSetMe}),O.defaultProps=l({},_.default.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),t.default=O},function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(8),a=n(15),s=n(3),l=n(16);e.exports=function(e,t){function n(e){var t=e&&(O&&e[O]||e[C]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function c(e){this.message=e,this.stack=""}function f(e){function n(n,l,u,f,h,d,p){if(f=f||P,d=d||u,p!==s)if(t)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&"undefined"!=typeof console){var v=f+":"+u;!r[v]&&a<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",d,f),r[v]=!0,a++)}return null==l[u]?n?new c(null===l[u]?"The "+h+" `"+d+"` is marked as required in `"+f+"`, but its value is `null`.":"The "+h+" `"+d+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(l,u,f,h,d)}if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)var r={},a=0;var l=n.bind(null,!1);return l.isRequired=n.bind(null,!0),l}function h(e){function t(t,n,r,i,o,a){var s=t[n];if(k(s)!==e)return new c("Invalid "+i+" `"+o+"` of type `"+_(s)+"` supplied to `"+r+"`, expected `"+e+"`.");return null}return f(t)}function d(e){function t(t,n,r,i,o){if("function"!=typeof e)return new c("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){return new c("Invalid "+i+" `"+o+"` of type `"+k(a)+"` supplied to `"+r+"`, expected an array.")}for(var l=0;l<a.length;l++){var u=e(a,l,r,i,o+"["+l+"]",s);if(u instanceof Error)return u}return null}return f(t)}function p(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||P;return new c("Invalid "+i+" `"+o+"` of type `"+T(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return f(t)}function v(e){function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(u(a,e[s]))return null;return new c("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?f(t):("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)}function m(e){function t(t,n,r,i,o){if("function"!=typeof e)return new c("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],l=k(a);if("object"!==l)return new c("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var u in a)if(a.hasOwnProperty(u)){var f=e(a,u,r,i,o+"."+u,s);if(f instanceof Error)return f}return null}return f(t)}function g(e){function t(t,n,r,i,o){for(var a=0;a<e.length;a++){if(null==(0,e[a])(t,n,r,i,o,s))return null}return new c("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}if(!Array.isArray(e))return"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull;for(var n=0;n<e.length;n++){var i=e[n];if("function"!=typeof i)return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",S(i),n),r.thatReturnsNull}return f(t)}function y(e){function t(t,n,r,i,o){var a=t[n],l=k(a);if("object"!==l)return new c("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var u in e){var f=e[u];if(f){var h=f(a,u,r,i,o+"."+u,s);if(h)return h}}return null}return f(t)}function b(e){function t(t,n,r,i,o){var l=t[n],u=k(l);if("object"!==u)return new c("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");var f=a({},t[n],e);for(var h in f){var d=e[h];if(!d)return new c("Invalid "+i+" `"+o+"` key `"+h+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var p=d(l,h,r,i,o+"."+h,s);if(p)return p}return null}return f(t)}function w(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(w);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!w(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!w(a[1]))return!1}return!0;default:return!1}}function x(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function k(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":x(t,e)?"symbol":t}function _(e){if(void 0===e||null===e)return""+e;var t=k(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function S(e){var t=_(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function T(e){return e.constructor&&e.constructor.name?e.constructor.name:P}var O="function"==typeof Symbol&&Symbol.iterator,C="@@iterator",P="<<anonymous>>",E={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:function(){return f(r.thatReturnsNull)}(),arrayOf:d,element:function(){function t(t,n,r,i,o){var a=t[n];if(!e(a)){return new c("Invalid "+i+" `"+o+"` of type `"+k(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}return f(t)}(),instanceOf:p,node:function(){function e(e,t,n,r,i){return w(e[t])?null:new c("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return f(e)}(),objectOf:m,oneOf:v,oneOfType:g,shape:y,exact:b};return c.prototype=Error.prototype,E.checkPropTypes=l,E.PropTypes=E,E}},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=r(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)o.call(n,c)&&(l[c]=n[c]);if(i){s=i(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}},function(e,t,n){"use strict";function r(e,t,n,r,l){if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var c;try{i("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",r||"React class",n,u,typeof e[u]),c=e[u](t,u,r,n,null,a)}catch(e){c=e}if(o(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,u,typeof c),c instanceof Error&&!(c.message in s)){s[c.message]=!0;var f=l?l():"";o(!1,"Failed %s type: %s%s",n,c.message,null!=f?f:"")}}}if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)var i=n(2),o=n(8),a=n(3),s={};e.exports=r},function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(3);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){var r,i;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(i=function(){return n}.apply(t,r))&&(e.exports=i))}()},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<s.length;n++)if(i(e,s[n])in t)return s[n];return""}function i(e,t){return t?""+t+a(e):e}function o(e,t){return t?"-"+t.toLowerCase()+"-"+e:e}function a(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=r,t.browserPrefixToKey=i,t.browserPrefixToStyle=o;var s=["Moz","Webkit","O","ms"];t.default=r()},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){v&&d&&(v=!1,d.length?p=d.concat(p):m=-1,p.length&&s())}function s(){if(!v){var e=i(a);v=!0;for(var t=p.length;t;){for(d=p,p=[];++m<t;)d&&d[m].run();m=-1,t=p.length}d=null,v=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,f,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var d,p=[],v=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new l(e,t)),1!==p.length||v||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}}])})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(0),u=r(l),c=n(2),f=r(c),h=n(125),d=r(h),p=n(157),v=r(p),m=n(61),g=n(685),y=r(g),b=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return w.call(a),(0,m.autoBindHandlers)(a,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),a}return a(t,e),t.prototype.componentDidMount=function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)},t.prototype.componentWillReceiveProps=function(e){var t=void 0;if((0,d.default)(e.layout,this.props.layout)&&e.compactType===this.props.compactType?(0,m.childrenEqual)(this.props.children,e.children)||(t=this.state.layout):t=e.layout,t){var n=(0,m.synchronizeLayoutWithChildren)(t,e.children,e.cols,this.compactType(e)),r=this.state.layout;this.setState({layout:n}),this.onLayoutMaybeChanged(n,r)}},t.prototype.containerHeight=function(){if(this.props.autoSize){var e=(0,m.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}},t.prototype.compactType=function(e){return e||(e=this.props),!1===e.verticalCompact?null:e.compactType},t.prototype.onDragStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,m.getLayoutItem)(a,e);if(s)return this.setState({oldDragItem:(0,m.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onDragStart(a,s,s,null,i,o)},t.prototype.onDrag=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,l=this.props.cols,u=(0,m.getLayoutItem)(s,e);if(u){var c={w:u.w,h:u.h,x:u.x,y:u.y,placeholder:!0,i:e};s=(0,m.moveElement)(s,u,t,n,!0,this.props.preventCollision,this.compactType(),l),this.props.onDrag(s,a,u,c,i,o),this.setState({layout:(0,m.compact)(s,this.compactType(),l),activeDrag:c})}},t.prototype.onDragStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,l=this.props,u=l.cols,c=l.preventCollision,f=(0,m.getLayoutItem)(s,e);if(f){s=(0,m.moveElement)(s,f,t,n,!0,c,this.compactType(),u),this.props.onDragStop(s,a,f,null,i,o);var h=(0,m.compact)(s,this.compactType(),u),d=this.state.oldLayout;this.setState({activeDrag:null,layout:h,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(h,d)}},t.prototype.onLayoutMaybeChanged=function(e,t){t||(t=this.state.layout),(0,d.default)(t,e)||this.props.onLayoutChange(e)},t.prototype.onResizeStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,m.getLayoutItem)(a,e);s&&(this.setState({oldResizeItem:(0,m.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onResizeStart(a,s,s,null,i,o))},t.prototype.onResize=function(e,t,n,r){var i=r.e,o=r.node,a=this.state,l=a.layout,u=a.oldResizeItem,c=this.props,f=c.cols,h=c.preventCollision,d=(0,m.getLayoutItem)(l,e);if(d){var p=void 0;if(h){var v=(0,m.getAllCollisions)(l,s({},d,{w:t,h:n})).filter(function(e){return e.i!==d.i});if(p=v.length>0){var g=1/0,y=1/0;v.forEach(function(e){e.x>d.x&&(g=Math.min(g,e.x)),e.y>d.y&&(y=Math.min(y,e.y))}),Number.isFinite(g)&&(d.w=g-d.x),Number.isFinite(y)&&(d.h=y-d.y)}}p||(d.w=t,d.h=n);var b={w:d.w,h:d.h,x:d.x,y:d.y,static:!0,i:e};this.props.onResize(l,u,d,b,i,o),this.setState({layout:(0,m.compact)(l,this.compactType(),f),activeDrag:b})}},t.prototype.onResizeStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state,s=a.layout,l=a.oldResizeItem,u=this.props.cols,c=(0,m.getLayoutItem)(s,e);this.props.onResizeStop(s,l,c,null,i,o);var f=(0,m.compact)(s,this.compactType(),u),h=this.state.oldLayout;this.setState({activeDrag:null,layout:f,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(f,h)},t.prototype.placeholder=function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,r=t.cols,i=t.margin,o=t.containerPadding,a=t.rowHeight,s=t.maxRows,l=t.useCSSTransforms;return u.default.createElement(y.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:i,containerPadding:o||i,maxRows:s,rowHeight:a,isDraggable:!1,isResizable:!1,useCSSTransforms:l},u.default.createElement("div",null))},t.prototype.processGridItem=function(e){if(e&&e.key){var t=(0,m.getLayoutItem)(this.state.layout,String(e.key));if(!t)return null;var n=this.props,r=n.width,i=n.cols,o=n.margin,a=n.containerPadding,s=n.rowHeight,l=n.maxRows,c=n.isDraggable,f=n.isResizable,h=n.useCSSTransforms,d=n.draggableCancel,p=n.draggableHandle,v=this.state.mounted,g=Boolean(!t.static&&c&&(t.isDraggable||null==t.isDraggable)),b=Boolean(!t.static&&f&&(t.isResizable||null==t.isResizable));return u.default.createElement(y.default,{containerWidth:r,cols:i,margin:o,containerPadding:a||o,maxRows:l,rowHeight:s,cancel:d,handle:p,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:g,isResizable:b,useCSSTransforms:h&&v,usePercentages:!v,w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minH:t.minH,minW:t.minW,maxH:t.maxH,maxW:t.maxW,static:t.static},e)}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.style,i=(0,v.default)("react-grid-layout",n),o=s({height:this.containerHeight()},r);return u.default.createElement("div",{className:i,style:o},u.default.Children.map(this.props.children,function(t){return e.processGridItem(t)}),this.placeholder())},t}(u.default.Component);b.displayName="ReactGridLayout",b.propTypes={className:f.default.string,style:f.default.object,width:f.default.number,autoSize:f.default.bool,cols:f.default.number,draggableCancel:f.default.string,draggableHandle:f.default.string,verticalCompact:function(e){e.verticalCompact,1},compactType:f.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&(0,m.validateLayout)(t,"layout")},margin:f.default.arrayOf(f.default.number),containerPadding:f.default.arrayOf(f.default.number),rowHeight:f.default.number,maxRows:f.default.number,isDraggable:f.default.bool,isResizable:f.default.bool,preventCollision:f.default.bool,useCSSTransforms:f.default.bool,onLayoutChange:f.default.func,onDragStart:f.default.func,onDrag:f.default.func,onDragStop:f.default.func,onResizeStart:f.default.func,onResize:f.default.func,onResizeStop:f.default.func,children:function(e,t){var n=e[t],r={};u.default.Children.forEach(n,function(e){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0})}},b.defaultProps={autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,compactType:"vertical",preventCollision:!1,onLayoutChange:m.noop,onDragStart:m.noop,onDrag:m.noop,onDragStop:m.noop,onResizeStart:m.noop,onResize:m.noop,onResizeStop:m.noop};var w=function(){this.state={activeDrag:null,layout:(0,m.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null}};t.default=b},function(e,t,n){"use strict";function r(e,t){for(var n=a(e),r=n[0],i=1,o=n.length;i<o;i++){var s=n[i];t>e[s]&&(r=s)}return r}function i(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function o(e,t,n,r,i,o){if(e[n])return(0,s.cloneLayout)(e[n]);for(var l=e[r],u=a(t),c=u.slice(u.indexOf(n)),f=0,h=c.length;f<h;f++){var d=c[f];if(e[d]){l=e[d];break}}return l=(0,s.cloneLayout)(l||[]),(0,s.compact)((0,s.correctBounds)(l,{cols:i}),o,i)}function a(e){return Object.keys(e).sort(function(t,n){return e[t]-e[n]})}t.__esModule=!0,t.getBreakpointFromWidth=r,t.getColsFromBreakpoint=i,t.findOrGenerateResponsiveLayout=o,t.sortBreakpoints=a;var s=n(61)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),c=r(u),f=n(2),h=r(f),d=n(240),p=n(690),v=r(p),m=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,e.call.apply(e,[this].concat(l))),r.state={resizing:!1,width:r.props.width,height:r.props.height,slackW:0,slackH:0},i=n,a(r,i)}return s(t,e),t.prototype.componentWillReceiveProps=function(e){this.state.resizing||e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.lockAspectRatio=function(e,t,n){return t=e/n,e=t*n,[e,t]},t.prototype.runConstraints=function(e,t){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],i=n[1];if(this.props.lockAspectRatio){var o=this.state.width/this.state.height;t=e/o,e=t*o}if(!r&&!i)return[e,t];var a=e,s=t,l=this.state,u=l.slackW,c=l.slackH;return e+=u,t+=c,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),i&&(e=Math.min(i[0],e),t=Math.min(i[1],t)),u+=a-e,c+=s-t,u===this.state.slackW&&c===this.state.slackH||this.setState({slackW:u,slackH:c}),[e,t]},t.prototype.resizeHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.deltaX,a=r.deltaY,s="both"===t.props.axis||"x"===t.props.axis,l="both"===t.props.axis||"y"===t.props.axis,u=t.state.width+(s?o:0),c=t.state.height+(l?a:0),f=u!==t.state.width,h=c!==t.state.height;if("onResize"!==e||f||h){var d=t.runConstraints(u,c);u=d[0],c=d[1];var p={};if("onResizeStart"===e)p.resizing=!0;else if("onResizeStop"===e)p.resizing=!1,p.slackW=p.slackH=0;else{if(u===t.state.width&&c===t.state.height)return;p.width=u,p.height=c}"function"==typeof t.props[e]?("function"==typeof n.persist&&n.persist(),t.setState(p,function(){return t.props[e](n,{node:i,size:{width:u,height:c}})})):t.setState(p)}}},t.prototype.render=function(){var e=this.props,t=e.children,n=e.draggableOpts,r=(e.width,e.height,e.handleSize,e.lockAspectRatio,e.axis,e.minConstraints,e.maxConstraints,e.onResize,e.onResizeStop,e.onResizeStart,i(e,["children","draggableOpts","width","height","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart"])),o=r.className?r.className+" react-resizable":"react-resizable";return(0,v.default)(t,l({},r,{className:o,children:[t.props.children,c.default.createElement(d.DraggableCore,l({},n,{key:"resizableHandle",onStop:this.resizeHandler("onResizeStop"),onStart:this.resizeHandler("onResizeStart"),onDrag:this.resizeHandler("onResize")}),c.default.createElement("span",{className:"react-resizable-handle"}))]}))},t}(c.default.Component);m.propTypes={children:h.default.element.isRequired,width:h.default.number.isRequired,height:h.default.number.isRequired,handleSize:h.default.array,lockAspectRatio:h.default.bool,axis:h.default.oneOf(["both","x","y","none"]),minConstraints:h.default.arrayOf(h.default.number),maxConstraints:h.default.arrayOf(h.default.number),onResizeStop:h.default.func,onResizeStart:h.default.func,onResize:h.default.func,draggableOpts:h.default.object},m.defaultProps={handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0]},t.default=m},function(e,t,n){"use strict";function r(e,t,n){var r=e.slice(0);if(n>=r.length)for(var i=n-r.length;1+i--;)r.push(void 0);return r.splice(n,0,r.splice(t,1)[0]),r}function i(e,t){for(;e;){if(t(e))return e;e=e.parentNode}}function o(e,t,n){return n<e?e:n>t?t:n}function a(e){return"px"===e.substr(-2)?parseFloat(e):0}function s(e){var t=window.getComputedStyle(e);return{top:a(t.marginTop),right:a(t.marginRight),bottom:a(t.marginBottom),left:a(t.marginLeft)}}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=r,t.closest=i,t.limit=o,t.getElementMargin=s;t.events={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},t.vendorPrefix=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}()},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){r(function(e){return e.api}(h.default.render(c.default.createElement(d.default,{options:n||{},viewConfig:t}),e)))}function o(e,t,n,r){"string"==typeof t?(0,l.json)(t,function(t,o){if(t)throw t;i(e,o,n,r)}):i(e,t,n,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromosomeInfo=t.HiGlassComponent=void 0;var a=n(144);Object.defineProperty(t,"HiGlassComponent",{enumerable:!0,get:function(){function e(){return r(a).default}return e}()});var s=n(28);Object.defineProperty(t,"ChromosomeInfo",{enumerable:!0,get:function(){function e(){return s.ChromosomeInfo}return e}()}),t.createHgComponent=o;var l=n(37),u=n(0),c=r(u),f=n(11),h=r(f),d=r(a);t.default=o},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AddTrackModal=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(2),f=r(c),h=n(62),d=n(286),p=n(282),v=n(6);n(503);var m=t.AddTrackModal=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tilesetFinder=null,n.multiSelect=null,n.options={},n.state={selectedTilesets:[{datatype:"none"}],normalizeTilesetUuid:null},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){}return e}()},{key:"handleSubmit",value:function(){function e(){this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}return e}()},{key:"selectedTilesetsChanged",value:function(){function e(e){var t=!0,n=e[0].datatype,r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){a.value.datatype!==n&&(t=!1)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}if(t){var l=!0,u=!1,c=void 0;try{for(var f,h=e[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){f.value.type=this.selectedPlotType}}catch(e){u=!0,c=e}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}}else{var d=!0,p=!1,m=void 0;try{for(var g,y=e[Symbol.iterator]();!(d=(g=y.next()).done);d=!0){var b=g.value;b.type=(0,v.AVAILABLE_TRACK_TYPES)([b.datatype],this.getOrientation(this.props.position))[0].type}}catch(e){p=!0,m=e}finally{try{!d&&y.return&&y.return()}finally{if(p)throw m}}}this.setState({selectedTilesets:e})}return e}()},{key:"handleTilesetPickerDoubleClick",value:function(){function e(e){this.selectedTilesetsChanged([e]),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}return e}()},{key:"handleOptionsChanged",value:function(){function e(e){this.options=e}return e}()},{key:"handlePlotTypeSelected",value:function(){function e(e){var t=this.state.selectedTilesets,n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){o.value.type=e}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.selectedPlotType=e,this.setState({selectedTilesets:t})}return e}()},{key:"getOrientation",value:function(){function e(e){return"top"===e||"bottom"===e?"1d-horizontal":"left"===e||"right"===e?"1d-vertical":"2d"}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.getOrientation(this.props.position),n=u.default.createElement("div",null,u.default.createElement(d.TilesetFinder,{onDoubleClick:this.handleTilesetPickerDoubleClick.bind(this),onTracksChosen:function(){function t(t){return e.props.onTracksChosen(t,e.props.position)}return t}(),orientation:t,ref:function(){function t(t){e.tilesetFinder=t}return t}(),selectedTilesetChanged:this.selectedTilesetsChanged.bind(this),trackSourceServers:this.props.trackSourceServers}));return u.default.createElement(h.Modal,{onHide:this.props.onCancel,show:this.props.show},u.default.createElement(h.Modal.Header,{closeButton:!0},u.default.createElement(h.Modal.Title,null,"Add Track")),u.default.createElement(h.Modal.Body,null,n,u.default.createElement(p.PlotTypeChooser,{ref:function(){function t(t){e.plotTypeChooser=t}return t}(),datatypes:this.state.selectedTilesets.map(function(e){return e.datatype}),onPlotTypeSelected:this.handlePlotTypeSelected.bind(this),orientation:t})),u.default.createElement(h.Modal.Footer,null,u.default.createElement(h.Button,{onClick:this.props.onCancel},"Cancel"),u.default.createElement(h.Button,{onClick:this.handleSubmit.bind(this)},"Submit")))}return e}()}]),t}(u.default.Component);m.defaultProps={position:"top",show:!1},m.propTypes={host:f.default.object,onCancel:f.default.func.isRequired,onTracksChosen:f.default.func.isRequired,position:f.default.string,show:f.default.bool,trackSourceServers:f.default.array.isRequired},t.default=m},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddTrackPositionMenu=void 0;var i=n(2),o=r(i),a=n(0),s=r(a);n(507);var l=t.AddTrackPositionMenu=function(){function e(e){return s.default.createElement("div",null,s.default.createElement("div",{className:"AddTrackPositionMenu-module_add-track-position-span-2hbwE"},"Add Track..."),s.default.createElement("table",{className:"AddTrackPositionMenu-module_add-track-position-table-RHODc"},s.default.createElement("tbody",null,s.default.createElement("tr",null,s.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),s.default.createElement("td",{onClick:function(){function t(){return e.onTrackPositionChosen("top")}return t}(),className:"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e"},"top"),s.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})),s.default.createElement("tr",{style:{height:"80px"}},s.default.createElement("td",{onClick:function(){function t(){return e.onTrackPositionChosen("left")}return t}(),className:"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN"},"left"),s.default.createElement("td",{onClick:function(){function t(){return e.onTrackPositionChosen("center")}return t}(),className:"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd"},"center"),s.default.createElement("td",{onClick:function(){function t(){return e.onTrackPositionChosen("right")}return t}(),className:"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn"},"right")),s.default.createElement("tr",null,s.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),s.default.createElement("td",{onClick:function(){function t(){return e.onTrackPositionChosen("bottom")}return t}(),className:"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE"},"bottom"),s.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})))))}return e}();l.propTypes={onTrackPositionChosen:o.default.func},t.default=l},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowheadDomainsTrack=void 0;var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),u=n(30),c=n(7),f=n(3),h=t.ArrowheadDomainsTrack=function(e){function t(e,n,o,a,s){r(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s));return l.drawnRects={},l}return o(t,e),s(t,[{key:"tileToLocalId",value:function(){function e(e){return""+e.join(".")}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return""+e.join(".")}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=c.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=c.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom)}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map(function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}}),this.visibleTileIds=new Set(this.visibleTiles.map(function(e){return e.tileId}))}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=c.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=c.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}}return e}()},{key:"initTile",value:function(){function e(e){}return e}()},{key:"destroyTile",value:function(){function e(e,t){}return e}()},{key:"draw",value:function(){function e(){this.drawnRects={},l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this)}return e}()},{key:"drawTile",value:function(){function e(e){if(e.graphics){var t=e.graphics;t.clear();var n=(0,f.colorToHex)(this.options.rectangleDomainStrokeColor||"black"),r=(0,f.colorToHex)(this.options.rectangleDomainFillColor||"grey");if(t.lineStyle(void 0!==this.options.rectangleDomainStrokeWidth?this.options.rectangleDomainStrokeWidth:1,n,void 0!==this.options.rectangleDomainStrokeOpacity?this.options.rectangleDomainStrokeOpacity:1),t.beginFill(r,void 0!==this.options.rectangleDomainFillOpacity?this.options.rectangleDomainFillOpacity:.4),t.alpha=this.options.rectangleDomainOpacity||.5,e.tileData.length){var i=!0,o=!1,a=void 0;try{for(var s,l=e.tileData[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=(u.fields,this._xScale(u.xStart)),h=this._xScale(u.xEnd),d=this._yScale(u.yStart),p=this._yScale(u.yEnd),v=u.uid,m=h-c,g=p-d;if(!(v in this.drawnRects)){var y={x:c,y:d,width:p-d,height:h-c};if(this.options.minSquareSize&&"none"!=this.options.minSquareSize&&(m<+this.options.minSquareSize||g<+this.options.minSquareSize)){y={x:(c+h)/2,y:(d+p)/2,width:this.options.minSquareSize,height:this.options.minSquareSize}}this.drawnRects[v]=y,t.drawRect(y.x,y.y,y.width,y.height)}}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}}}return e}()},{key:"exportSVG",value:function(){function e(){var e=this,n=null,r=null;if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this)){var i=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this),o=a(i,2);r=o[0],n=o[1]}else r=document.createElement("g"),n=r;var s=document.createElement("g");s.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")"),n.appendChild(s);var u=!0,c=!1,f=void 0;try{for(var h,d=(function(){function t(){var t=h.value;if(!t.tileData||!t.tileData.length)return"continue";t.tileData.forEach(function(n,r){var i=document.createElement("g");if(i.setAttribute("transform","translate("+t.graphics.position.x+","+t.graphics.position.y+")scale("+t.graphics.scale.x+","+t.graphics.scale.y+")"),s.appendChild(i),n.uid in e.drawnRects){var o=e.drawnRects[n.uid],a=document.createElement("rect");a.setAttribute("x",o.x),a.setAttribute("y",o.y),a.setAttribute("width",o.width),a.setAttribute("height",o.height),a.setAttribute("fill",e.options.fillColor?e.options.fillColor:"grey"),a.setAttribute("opacity",.3),a.style.stroke=e.options.fillColor?e.options.fillColor:"grey",a.style.strokeWidth="1px",i.appendChild(a)}})}return t}()),p=this.visibleAndFetchedTiles()[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){d()}}catch(e){c=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}return[r,r]}return e}()},{key:"setPosition",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}return e}()}]),t}(u.TiledPixiTrack);t.default=h},function(e,t,n){(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Autocomplete=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),f=n(11),h=n(499),d=r(h),p=n(2),v=r(p),m=[],g=t.Autocomplete=function(t){function n(e){i(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={highlightedIndex:null,menuTop:0,menuLeft:0,menuWidth:0,isOpen:!1},t.keyDownHandlers={ArrowDown:function(){function e(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,r=null===n||n===t-1?0:n+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})}}return e}(),ArrowUp:function(){function e(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,r=0===n||null===n?t-1:n-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})}}return e}(),Enter:function(){function e(e){var t=this;if(!1===this.state.isOpen);else if(null==this.state.highlightedIndex)this.setState({isOpen:!1},function(){t.inputEl.select()});else{e.preventDefault();var n=this.getFilteredItems()[this.state.highlightedIndex],r=this.props.getItemValue(n);this.setState({isOpen:!1,highlightedIndex:null},function(){t.inputEl.setSelectionRange(r.length,r.length),t.props.onSelect(r,n)})}}return e}(),Escape:function(){function e(){this.setState({highlightedIndex:null,isOpen:!1})}return e}()},t}return a(n,t),l(n,[{key:"getInitialState",value:function(){function e(){return{isOpen:!1,highlightedIndex:null}}return e}()},{key:"componentWillMount",value:function(){function e(){this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1}return e}()},{key:"componentWillReceiveProps",value:function(){function e(e){this._performAutoCompleteOnUpdate=!0,(this.props.items!==e.items||this.state.highlightedIndex>=e.items.length)&&this.setState({highlightedIndex:null})}return e}()},{key:"componentDidUpdate",value:function(){function e(e,t){!0===this.state.isOpen&&!1===t.isOpen&&this.setMenuPositions(),this.state.isOpen&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView(),t.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen,this.inputEl)}return e}()},{key:"maybeScrollItemIntoView",value:function(){function e(){if(!0===this.state.isOpen&&null!==this.state.highlightedIndex){var e=this.refs["item-"+this.state.highlightedIndex],t=this.refs.menu;e&&(0,d.default)((0,f.findDOMNode)(e),(0,f.findDOMNode)(t),{onlyScrollIfNeeded:!0})}}return e}()},{key:"handleKeyDown",value:function(){function e(e){this.keyDownHandlers[e.key]?this.keyDownHandlers[e.key].call(this,e):this.setState({highlightedIndex:null,isOpen:!0})}return e}()},{key:"handleChange",value:function(){function e(e){this._performAutoCompleteOnKeyUp=!0,this.props.onChange(e,e.target.value)}return e}()},{key:"handleKeyUp",value:function(){function e(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())}return e}()},{key:"getFilteredItems",value:function(){function e(){var e=this,t=this.props.items;return this.props.shouldItemRender&&(t=t.filter(function(t){return e.props.shouldItemRender(t,e.props.value)})),this.props.sortItems&&t.sort(function(t,n){return e.props.sortItems(t,n,e.props.value)}),t}return e}()},{key:"maybeAutoCompleteText",value:function(){function e(){if(this.props.autoHighlight&&""!==this.props.value){var e=this.state.highlightedIndex,t=this.getFilteredItems();if(0!==t.length){var n=null!==e?t[e]:t[0];0===this.props.getItemValue(n).toLowerCase().indexOf(this.props.value.toLowerCase())&&null===e&&this.setState({highlightedIndex:0})}}}return e}()},{key:"setMenuPositions",value:function(){function t(){var t=this.inputEl,n=t.getBoundingClientRect(),r=e.window.getComputedStyle(t),i=parseInt(r.marginBottom,10)||0,o=parseInt(r.marginLeft,10)||0,a=parseInt(r.marginRight,10)||0;this.setState({menuTop:n.bottom+i,menuLeft:n.left+o,menuWidth:n.width+o+a})}return t}()},{key:"highlightItemFromMouse",value:function(){function e(e){this.setState({highlightedIndex:e})}return e}()},{key:"selectItemFromMouse",value:function(){function e(e){var t=this,n=this.props.getItemValue(e);this.setState({isOpen:!1,highlightedIndex:null},function(){t.props.onSelect(n,e),t.inputEl.focus()})}return e}()},{key:"setIgnoreBlur",value:function(){function e(e){this._ignoreBlur=e}return e}()},{key:"renderMenu",value:function(){function e(){var e=this,t=this.getFilteredItems().map(function(t,n){var r=e.props.renderItem(t,e.state.highlightedIndex===n,{cursor:"default"});return c.default.cloneElement(r,{onMouseDown:function(){function t(){return e.setIgnoreBlur(!0)}return t}(),onMouseEnter:function(){function t(){return e.highlightItemFromMouse(n)}return t}(),onClick:function(){function n(){return e.selectItemFromMouse(t)}return n}(),ref:"item-"+n})}),n={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth};if(!t.length)return null;var r=this.props.renderMenu(t,this.props.value,n);return c.default.cloneElement(r,{ref:"menu"})}return e}()},{key:"handleInputBlur",value:function(){function e(){this.props.onFocus&&this.props.onFocus(),this._ignoreBlur||this.setState({isOpen:!1,highlightedIndex:null})}return e}()},{key:"handleInputFocus",value:function(){function e(){if(this.props.onFocus&&this.props.onFocus(!0),this._ignoreBlur)return void this.setIgnoreBlur(!1);this._ignoreClick=!0,this.setState({isOpen:!0})}return e}()},{key:"isInputFocused",value:function(){function e(){return this.inputEl.ownerDocument&&this.inputEl===this.inputEl.ownerDocument.activeElement}return e}()},{key:"handleInputClick",value:function(){function e(){this.isInputFocused()&&!1===this.state.isOpen?this.setState({isOpen:!0}):null===this.state.highlightedIndex||this._ignoreClick||this.selectItemFromMouse(this.getFilteredItems()[this.state.highlightedIndex]),this._ignoreClick=!1}return e}()},{key:"composeEventHandlers",value:function(){function e(e,t){return t?function(n){e(n),t(n)}:e}return e}()},{key:"render",value:function(){function e(){var e=this;this.props.debug&&m.push({id:m.length,state:this.state});var t=this.props.inputProps;return c.default.createElement("div",s({style:s({},this.props.wrapperStyle)},this.props.wrapperProps),c.default.createElement("input",s({},t,{"aria-autocomplete":"list",autoComplete:"off",onBlur:this.composeEventHandlers(this.handleInputBlur.bind(this),t.onBlur&&t.onBlur.bind(this)),onChange:this.handleChange.bind(this),onClick:this.composeEventHandlers(this.handleInputClick.bind(this),t.onClick&&t.onClick.bind(this)),onFocus:this.composeEventHandlers(this.handleInputFocus.bind(this),t.onFocus&&t.onFocus.bind(this)),onKeyDown:this.composeEventHandlers(this.handleKeyDown.bind(this),t.onKeyDown&&t.onKeyDown.bind(this)),onKeyUp:this.composeEventHandlers(this.handleKeyUp.bind(this),t.onKeyUp&&t.onKeyUp.bind(this)),ref:function(){function t(t){return e.inputEl=t}return t}(),role:"combobox",value:this.props.value})),("open"in this.props?this.props.open:this.state.isOpen)&&this.renderMenu(),this.props.debug&&c.default.createElement("pre",{style:{marginLeft:300}},JSON.stringify(m.slice(m.length-5,m.length),null,2)))}return e}()}]),n}(c.default.Component);g.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},onChange:function(){function e(){}return e}(),onSelect:function(){function e(){}return e}(),renderMenu:function(){function e(e,t,n){return c.default.createElement("div",{children:e,style:s({},n,this.menuStyle)})}return e}(),shouldItemRender:function(){function e(){return!0}return e}(),menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,onMenuVisibilityChange:function(){function e(){}return e}()},g.propTypes={autoHighlight:v.default.bool,debug:v.default.bool,getItemValue:v.default.func.isRequired,inputProps:v.default.object,items:v.default.array,menuStyle:v.default.object,onChange:v.default.func,onFocus:v.default.func,onMenuVisibilityChange:v.default.func,onSelect:v.default.func,open:v.default.bool,renderItem:v.default.func.isRequired,renderMenu:v.default.func,shouldItemRender:v.default.func,sortItems:v.default.func,value:v.default.any,wrapperProps:v.default.object,wrapperStyle:v.default.object},t.default=g}).call(t,n(43))},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BedLikeTrack=void 0;var s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),c=n(68),f=r(c),h=n(9),d=n(52),p=r(d),v=n(7),m=n(3),g=10,y=20,b=1e3,w=t.BedLikeTrack=function(e){function t(e,n,r,a,s){i(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,a,s));return l.textFontSize="10px",l.textFontFamily="Arial",l.drawnRects={},l}return a(t,e),l(t,[{key:"initTile",value:function(){function e(e){var t=this;e.texts={},e.rectGraphics=new PIXI.Graphics,e.textGraphics=new PIXI.Graphics,e.graphics.addChild(e.rectGraphics),e.graphics.addChild(e.textGraphics),e.tileData&&e.tileData.length&&(e.tileData.sort(function(e,t){return t.importance-e.importance}),e.tileData=e.tileData.slice(0,b),e.tileData.forEach(function(n,r){var i=n.fields,o=t.options.fillColor?t.options.fillColor:"blue";if(e.textWidths={},!(r>=y)){var a=new PIXI.Text(i[3],{fontSize:t.textFontSize,fontFamily:t.textFontFamily,fill:(0,m.colorToHex)(o)});t.flipText&&(a.scale.x=-1),a.anchor.x=.5,a.anchor.y=1,e.texts[i[3]]=a,e.textGraphics.addChild(a)}})),e.initialized=!0,this.renderTile(e)}return e}()},{key:"destroyTile",value:function(){function e(e){var t=this,n=+e.tileId.split(".")[0];e.tileData&&e.tileData.length&&e.tileData.forEach(function(e,r){t.drawnRects[n]&&t.drawnRects[n][e.uid]&&delete t.drawnRects[n][e.uid]})}return e}()},{key:"removeTiles",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeTiles",this).call(this,e),this.rerender(this.options)}return e}()},{key:"drawTile",value:function(){function e(e){this.options&&this.options.valueColumn&&this.valueScale&&this.drawAxis(this.valueScale)}return e}()},{key:"rerender",value:function(){function e(e,n){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rerender",this).call(this,e,n),this.drawnRects={};var r=!0,i=!1,o=void 0;try{for(var a,s=this.visibleAndFetchedTiles()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;l.rectGraphics.clear(),this.renderTile(l)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}return e}()},{key:"renderTile",value:function(){function e(e){var t=this;if(e.initialized){var n=+e.tileId.split(".")[0];e.drawnAtScale=this._xScale.copy();var r=(0,m.colorToHex)(this.options.fillColor?this.options.fillColor:"blue");this.options&&this.options.valueColumn&&(this.valueScale=this.makeValueScale(this.minVisibleValue(),this.calculateMedianVisibleValue(),this.maxVisibleValue())),e.tileData&&e.tileData.length&&e.tileData.forEach(function(i,o){if(!(n in t.drawnRects&&i.uid in t.drawnRects[n])){var a=i.fields,s=+i.chrOffset,l=+a[1]+s,u=+a[2]+s,c=(a[12],a[13],(l+u)/2),f=t.dimensions[1]/2,h=(t.dimensions[1],a[3]),d=g;t.options&&t.options.valueColumn&&(f=t.valueScale(+a[+t.options.valueColumn-1]),d=g/2),e.rectGraphics.lineStyle(1,r,.3),e.rectGraphics.beginFill(r,.3);var p=(t._xScale(c),f-d/2),v=t._xScale(l),m=t._xScale(u);if(e.rectGraphics.drawRect(v,p,m-v,d),t.drawnRects[n]||(t.drawnRects[n]={}),t.drawnRects[n][i.uid]=[v,p,m-v,g],e.texts&&!(o>=y)){var b=e.texts[h];if(b.position.x=t._xScale(c),b.style={fontSize:t.textFontSize,fontFamily:t.textFontFamily,fill:r},!(a[3]in e.textWidths)){b.updateTransform();var w=b.getBounds().width;e.textWidths[a[3]]=w}}}})}}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=v.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=Math.min(e,this.maxZoom);return t=Math.max(t,0)}return e}()},{key:"minVisibleValue",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds();0==t.length&&(t=Object.keys(this.fetchedTiles));var n=Math.min.apply(null,t.map(function(t){return e.fetchedTiles[t]}).filter(function(e){return e.tileData&&e.tileData.length}).map(function(e){return e}).map(function(t){return Math.min.apply(null,t.tileData.sort(function(e,t){return t.importance-e.importance}).slice(0,b).map(function(t){return+t.fields[+e.options.valueColumn-1]}))}));return n===Number.MAX_SAFE_INTEGER&&(n=null),n}return e}()},{key:"maxVisibleValue",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds();0===t.length&&(t=Object.keys(this.fetchedTiles));var n=Math.max.apply(null,t.map(function(t){return e.fetchedTiles[t]}).filter(function(e){return e.tileData&&e.tileData.length}).map(function(t){return Math.max.apply(null,t.tileData.sort(function(e,t){return t.importance-e.importance}).slice(0,b).map(function(t){return+t.fields[+e.options.valueColumn-1]}))}));return n===Number.MIN_SAFE_INTEGER&&(n=null),n}return e}()},{key:"calculateMedianVisibleValue",value:function(){function e(){var e=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var t=this.visibleAndFetchedIds();0===t.length&&(t=Object.keys(this.fetchedTiles));var n=[].concat.apply([],t.map(function(t){return e.fetchedTiles[t]}).filter(function(e){return e.tileData&&e.tileData.length}).map(function(t){return t.tileData.sort(function(e,t){return t.importance-e.importance}).slice(0,b).map(function(t){return+t.fields[+e.options.valueColumn-1]})})).filter(function(e){return e>0});this.medianVisibleValue=(0,h.median)(n)}return e}()},{key:"draw",value:function(){function e(){var e=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this);this.allTexts=[],this.allBoxes=[];var n=function(){function t(t){var n=e.fetchedTiles[t],r=(n.drawnAtScale.domain()[1]-n.drawnAtScale.domain()[0])/(e._xScale.domain()[1]-e._xScale.domain()[0]),i=e._xScale.domain().map(n.drawnAtScale),o=i[0];n.rectGraphics.scale.x=r,n.rectGraphics.position.x=-o*r;var a=e.parentInFetched(n);if(!n.initialized)return"continue";n.tileData&&n.tileData.length&&n.tileData.forEach(function(t,r){if(n.texts){var i=t.fields,o=i[3],s=n.texts[o];if(s){var l=+t.chrOffset,u=+i[1]+l,c=+i[2]+l,f=(u+c)/2,h=e.dimensions[1]/2;if(h+=10,s.position.x=e._xScale(f),s.position.y=h,a)s.visible=!1;else{s.visible=!1;e.allBoxes.push([s.position.x-3,h-1,s.position.x+n.textWidths[i[3]]+3,h+1]),e.allTexts.push({importance:+i[5],text:s,caption:o,strand:i[5]})}}}})}return t}();for(var r in this.fetchedTiles){n(r)}this.hideOverlaps(this.allBoxes,this.allTexts)}return e}()},{key:"hideOverlaps",value:function(){function e(e,t){(0,f.default)(e,function(e,n){t[e].importance>t[n].importance?t[n].text.visible=!1:t[e].text.visible=!1})}return e}()},{key:"setPosition",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"setDimensions",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDimensions",this).call(this,e);var n=!0,r=!1,i=void 0;try{for(var o,a=this.visibleAndFetchedTiles()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.rectGraphics.clear(),this.renderTile(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}return e}()},{key:"exportSVG",value:function(){function e(){var e=this,n=null,r=null;if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this)){var i=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this),o=s(i,2);r=o[0],n=o[1]}else r=document.createElement("g"),n=r;var a=document.createElement("g");a.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")"),n.appendChild(a);var l=!0,c=!1,f=void 0;try{for(var h,d=(function(){function t(){var t=h.value;t.tileData.forEach(function(n,r){var i=+t.tileId.split(".")[0],o=document.createElement("g");if(o.setAttribute("transform","translate("+t.rectGraphics.position.x+","+t.rectGraphics.position.y+")scale("+t.rectGraphics.scale.x+","+t.rectGraphics.scale.y+")"),a.appendChild(o),e.drawnRects[i]&&n.uid in e.drawnRects[i]){var s=e.drawnRects[i][n.uid],l=document.createElement("rect");l.setAttribute("x",s[0]),l.setAttribute("y",s[1]),l.setAttribute("width",s[2]),l.setAttribute("height",s[3]),l.setAttribute("fill",e.options.fillColor?e.options.fillColor:"blue"),l.setAttribute("opacity",.3),l.style.stroke=e.options.fillColor?e.options.fillColor:"blue",l.style.strokeWidth="1px",o.appendChild(l)}})}return t}()),p=this.visibleAndFetchedTiles()[Symbol.iterator]();!(l=(h=p.next()).done);l=!0)d()}catch(e){c=!0,f=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw f}}return[r,r]}return e}()}]),t}(p.default);t.default=w},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CNVIntervalTrack=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),u=n(9),c=n(52),f=r(c),h=n(309),d=r(h),p=t.CNVIntervalTrack=function(e){function t(e,n,r,a,s,l){i(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,a,s,l));return u.seen=new Set,u.pMain=u.pMobile,u.rows=[],u}return a(t,e),s(t,[{key:"uid",value:function(){function e(e){return e[e.length-2]}return e}()},{key:"segmentOverlap",value:function(){function e(e,t){}return e}()},{key:"segmentsToRows",value:function(){function e(e){e.sort(function(e,t){return t.to-t.from-(e.to-e.from)});for(var t=[[]],n=[new d.default],r=0;r<e.length;r++){for(var i=!1,o=0;o<t.length;o++){var a=n[o];if(!a.intersects([e[r].from,e[r].to])){a.add([e[r].from,e[r].to]),t[o].push(e[r]),i=!0;break}}if(!i){var s=new d.default;s.add([e[r].from,e[r].to]),t.push([e[r]]),n.push(s)}}return t}return e}()},{key:"drawAll",value:function(){function e(e){var t=this;this.pMain.clear();var n=new Set,r=e.map(function(e){return n.has(t.uid(e))?null:(n.add(t.uid(e)),{from:+e[1],to:+e[2],type:e[4],uid:t.uid(e)})}).filter(function(e){return e}),i=this.segmentsToRows(r);this.rows=i,this.draw()}return e}()},{key:"draw",value:function(){function e(){var e=this.rows;if(e){var t=(0,l.scaleBand)().range([0,this.dimensions[1]]).padding(.1).domain((0,u.range)(0,this.maxRows())),n=this.pMain;n.clear(),n.lineStyle(1,255,0),n.beginFill(16740363,.8);for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){var o=e[r][i],a=this._refXScale(o.from),s=this._refXScale(o.to),c=t(r),f=c+t.bandwidth(),h=s-a,d=f-c;n.drawRect(a,c,h,d)}}}return e}()},{key:"allTilesLoaded",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds(),n=t.map(function(t){return e.fetchedTiles[t].tileData.discrete}),r=[].concat.apply([],n);this.drawAll(r)}return e}()},{key:"initTile",value:function(){function e(e){}return e}()},{key:"maxRows",value:function(){function e(){return this.rows.length}return e}()},{key:"updateTile",value:function(){function e(e){}return e}()},{key:"destroyTile",value:function(){function e(e){var t=this;e.tileData.discrete.map(function(e){var n=e[e.length-2];t.seen.has(n)&&t.seen.delete(n)})}return e}()},{key:"drawTile",value:function(){function e(e){}return e}()}]),t}(f.default);t.default=p},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CenterTrack=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),u=r(l),c=n(2),f=r(c),h=n(0),d=r(h),p=n(25),v=n(4),m=n(89),g=r(m),y=n(3),b=n(6),w=n(206),x=(r(w),n(123)),k=(r(x),{styles:{"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4"}}),_={pointerEvents:"all"},S=t.CenterTrack=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isVisible:!1},n.brushBehaviorX=(0,p.brushX)(!0,!0).on("brush",n.brushedX.bind(n)),n.brushBehaviorY=(0,p.brushY)(!0,!0,!0).on("brush",n.brushedY.bind(n)),n.brushBehaviorXY=(0,p.brush)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushedXY.bind(n)).on("end",n.brushedXYEnded.bind(n)),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){this.props.isRangeSelectionActive&&this.addBrush2d()}return e}()},{key:"shouldComponentUpdate",value:function(){function e(e,t){if(this.rangeSelectionTriggeredXY)return this.rangeSelectionTriggeredXY=!1,this.state!==t;if(this.props.rangeSelection!==e.rangeSelection){var n=e.rangeSelection[0]?(0,y.genomeLociToPixels)(e.rangeSelection[0],this.props.chromInfo):null;this.props.chromInfo&&(this.props.is1dRangeSelection?(this.rangeSelectionTriggeredX||this.moveBrushX(n),this.rangeSelectionTriggeredY||this.moveBrushY(n),this.rangeSelectionTriggeredX=!1,this.rangeSelectionTriggeredY=!1):this.moveBrushXY([n,(0,y.genomeLociToPixels)(e.rangeSelection[1],this.props.chromInfo)]));var r=this.props.is1dRangeSelection&&!e.is1dRangeSelection&&null===n;return this.state!==t||r}return!0}return e}()},{key:"componentDidUpdate",value:function(){function e(){this.props.isRangeSelectionActive?this.addBrush2d():(this.removeBrush1d(),this.removeBrush2d())}return e}()},{key:"addBrush1d",value:function(){function e(){this.brushElX&&this.brushElY&&(this.brushElXOld!==this.brushElX||this.brushElYOld!==this.brushElY)&&(this.brushElXOld&&this.brushElXOld.on(".brush",null),this.brushElYOld&&this.brushElYOld.on(".brush",null),this.brushElX.call(this.brushBehaviorX),this.brushElY.call(this.brushBehaviorY),this.brushElXOld=this.brushElX,this.brushElYOld=this.brushElY,this.brushIs1dBound=!0)}return e}()},{key:"addBrush2d",value:function(){function e(){this.brushElXY&&this.brushElXYOld!==this.brushElXY&&(this.brushElXYOld&&this.brushElXYOld.on(".brush",null),this.brushElXY.call(this.brushBehaviorXY),this.brushElXYOld=this.brushElXY,this.brushIs2dBound=!0)}return e}()},{key:"brushedX",value:function(){function e(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,v.event.sourceEvent&&this.props.onRangeSelectionX&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredX=!0,this.props.onRangeSelectionX(v.event.selection))}return e}()},{key:"brushedY",value:function(){function e(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,v.event.sourceEvent&&this.props.onRangeSelectionY&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredY=!0,this.props.onRangeSelectionY(v.event.selection))}return e}()},{key:"brushedXY",value:function(){function e(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,v.event.sourceEvent&&this.props.onRangeSelectionXY&&!e&&!this.props.is1dRangeSelection&&(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionXY([[v.event.selection[0][0],v.event.selection[1][0]],[v.event.selection[0][1],v.event.selection[1][1]]]))}return e}()},{key:"brushedXYEnded",value:function(){function e(){v.event.selection||this.props.is1dRangeSelection||(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionEnd())}return e}()},{key:"brushStarted",value:function(){function e(){v.event.sourceEvent&&this.props.onRangeSelectionStart()}return e}()},{key:"moveBrushX",value:function(){function e(e){if(this.brushEl||v.event.sourceEvent){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var t=e?[this.props.scaleX(e[0]),this.props.scaleX(e[1])]:null;this.rangeSelectionMoved=!0,this.brushElX.call(this.brushBehaviorX.move,t)}}return e}()},{key:"moveBrushY",value:function(){function e(e){if(this.brushEl||v.event.sourceEvent){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var t=e?[this.props.scaleY(e[0]),this.props.scaleY(e[1])]:null;this.rangeSelectionMoved=!0,this.brushElY.call(this.brushBehaviorY.move,t)}}return e}()},{key:"moveBrushXY",value:function(){function e(e){if(this.brushEl||v.event.sourceEvent){var t=[[this.props.scaleX(e[0][0]),this.props.scaleY(e[1][0])],[this.props.scaleX(e[0][1]),this.props.scaleY(e[1][1])]];this.rangeSelectionMoved=!0,this.brushElXY.call(this.brushBehaviorXY.move,t)}}return e}()},{key:"mouseEnterHandler",value:function(){function e(){this.props.isRangeSelectionActive||this.setState({isVisible:!0})}return e}()},{key:"mouseLeaveHandler",value:function(){function e(){this.setState({isVisible:!1})}return e}()},{key:"removeBrush1d",value:function(){function e(){this.brushIs1dBound&&(this.brushElX&&(this.brushElX.call(this.brushBehaviorX.move,null),this.brushElX.on(".brush",null)),this.brushElY&&(this.brushElY.call(this.brushBehaviorY.move,null),this.brushElY.on(".brush",null)),this.brushIs1dBound=!1)}return e}()},{key:"removeBrush2d",value:function(){function e(){this.brushIs2dBound&&this.brushElXY&&(this.brushElXY.call(this.brushBehaviorXY.move,null),this.brushElXY.on(".brush",null),this.brushElXYOld=void 0,this.brushIs2dBound=!1,!this.props.is1dRangeSelection&&this.props.onRangeSelectionEnd())}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.props.tracks.map(function(e){return(0,b.IS_TRACK_RANGE_SELECTABLE)(e)}).reduce(y.or,!1),n=this.props.tracks.some(function(e){return e.contents?e.contents.some(function(e){return"heatmap"===e.type&&"topRight"===e.options.colorbarPosition}):"heatmap"===e.type&&"topRight"===e.options.colorbarPosition}),r=this.props.isRangeSelectionActive?this.props.is1dRangeSelection?"stylesTrack.track-range-selection-active-secondary":"stylesTrack.track-range-selection-active-primary":"stylesTrack.track-range-selection",i=this.props.is1dRangeSelection?"":"stylesTrack.track-range-selection-group-inactive",o=this.props.is1dRangeSelection?"stylesTrack.track-range-selection-group-inactive":"";return d.default.createElement("div",{className:((this.props.className?this.props.className:"")?(this.props.className?this.props.className:"")+" ":"")+"CenterTrack-module_center-track-3ptRW",onMouseEnter:this.mouseEnterHandler.bind(this),onMouseLeave:this.mouseLeaveHandler.bind(this),style:{height:this.props.height,width:this.props.width}},t&&d.default.createElement("svg",{style:{height:this.props.height,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,u.default)(r,k)},d.default.createElement("g",{ref:function(){function t(t){return e.brushElX=(0,v.select)(t)}return t}(),className:(0,u.default)(i,k)}),d.default.createElement("g",{ref:function(){function t(t){return e.brushElY=(0,v.select)(t)}return t}(),className:(0,u.default)(i,k)}),d.default.createElement("g",{ref:function(){function t(t){return e.brushElXY=(0,v.select)(t)}return t}(),className:(0,u.default)(o,k)})),this.props.editable&&d.default.createElement(g.default,{imgStyleAdd:_,imgStyleClose:_,imgStyleMove:_,imgStyleSettings:_,isMoveable:!1,isVisible:this.state.isVisible||this.props.uid===this.props.configTrackMenuId,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,paddingRight:n,uid:this.props.uid}))}return e}()}]),t}(d.default.Component);S.propTypes={chromInfo:f.default.object,className:f.default.string,editable:f.default.bool,height:f.default.number,is1dRangeSelection:f.default.bool,isRangeSelectionActive:f.default.bool,onAddSeries:f.default.func,onCloseTrackMenuOpened:f.default.func,onConfigTrackMenuOpened:f.default.func,onRangeSelectionX:f.default.func,onRangeSelectionY:f.default.func,onRangeSelectionXY:f.default.func,onRangeSelectionEnd:f.default.func,onRangeSelectionStart:f.default.func,rangeSelection:f.default.array,scaleX:f.default.func,scaleY:f.default.func,tracks:f.default.array,uid:f.default.string,width:f.default.number},t.default=S},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Chromosome2DAnnotations=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),l=n(14),u=n(8),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n(29),h=n(28),d=t.Chromosome2DAnnotations=function(e){function t(e,n,o){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return a.drawnRects=new Set,(0,h.ChromosomeInfo)(n,function(e){a.chromInfo=e,a.draw()}),a}return o(t,e),a(t,[{key:"draw",value:function(){function e(){if(this.chromInfo){this.drawnRects.clear();var e=this.options.minRectWidth?this.options.minRectWidth:10,n=this.options.minRectWidth?this.options.minRectHeight:10;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this);var r=this.pMain;r.clear();var i=!0,o=!1,a=void 0;try{for(var u,f=this.options.regions[Symbol.iterator]();!(i=(u=f.next()).done);i=!0){var h=u.value,d=(0,l.color)(h[6]),p=(0,l.color)(h[7]);p||(p=d);var v=c.utils.rgb2hex([d.r/255,d.g/255,d.b/255]),m=c.utils.rgb2hex([p.r/255,p.g/255,p.b/255]);r.lineStyle(1,m,p.opacity),r.beginFill(v,d.opacity);var g=this._xScale(this.chromInfo.chrPositions[h[0]].pos+ +h[1]),y=this._xScale(this.chromInfo.chrPositions[h[0]].pos+ +h[2]),b=this._yScale(this.chromInfo.chrPositions[h[3]].pos+ +h[4]),w=this._yScale(this.chromInfo.chrPositions[h[3]].pos+ +h[5]),x=y-g,k=w-b,_=void 0!==h[8]?h[8]:e,S=void 0!==h[9]?h[9]:n;x<_&&(g=(g+y)/2-_/2,x=_),k<S&&(b=(b+w)/2-S/2,k=S),r.drawRect(g,b,x,k)}}catch(e){o=!0,a=e}finally{try{!i&&f.return&&f.return()}finally{if(o)throw a}}}}return e}()},{key:"setPosition",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()}]),t}(f.PixiTrack);t.default=d},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Chromosome2DGrid=void 0;var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),u=n(8),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=n(29),h=n(28),d=n(67),p=n(3),v=t.Chromosome2DGrid=function(e){function t(e,n,o,a,s,l){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s));u.searchField=null,u.chromInfo=null,u.animate=s;var f=l;return f||(f=n.server+"/chrom-sizes/?id="+n.tilesetUid),(0,h.ChromosomeInfo)(f,function(e){u.chromInfo=e,u.searchField=new d.SearchField(u.chromInfo),u.texts=[],u.lineGraphics=new c.Graphics,u.pMain.addChild(u.lineGraphics),u.draw(),u.animate()}),u}return o(t,e),s(t,[{key:"drawLines",value:function(){function e(){var e=this.lineGraphics,t=(0,p.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),n=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;e.clear(),e.lineStyle(n,t,1),e.moveTo(this._xScale(0),0),e.lineTo(this._xScale(0),this.dimensions[1]),e.moveTo(0,this._yScale(0)),e.lineTo(this.dimensions[0],this._yScale(0));for(var r=0;r<this.chromInfo.cumPositions.length;r++){var i=this.chromInfo.cumPositions[r],o=i.pos+ +this.chromInfo.chromLengths[i.chr]+1;e.moveTo(0,this._yScale(o)),e.lineTo(this.dimensions[0],this._yScale(o)),e.moveTo(this._xScale(o),0),e.lineTo(this._xScale(o),this.dimensions[1])}}return e}()},{key:"draw",value:function(){function e(){this.texts&&this.searchField&&this.drawLines()}return e}()},{key:"setPosition",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this)){var r=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this),i=a(r,2);n=i[0],e=i[1]}else n=document.createElement("g"),e=n;var o=document.createElement("g");if(e.appendChild(o),n.setAttribute("id","Chromosome2DGrid"),o.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")"),!this.chromInfo)return[n,e];for(var s=this.options.gridStrokeColor?this.options.gridStrokeColor:"blue",u=this.options.gridStrokeWidth,c=0;c<this.chromInfo.cumPositions.length;c++){var f=this.chromInfo.cumPositions[c],h=f.pos+ +this.chromInfo.chromLengths[f.chr]+1,d=document.createElement("line");d.setAttribute("x1",0),d.setAttribute("x2",this.dimensions[0]),d.setAttribute("y1",this._yScale(h)),d.setAttribute("y2",this._yScale(h)),d.setAttribute("stroke",s),d.setAttribute("stroke-width",u),o.appendChild(d),d=document.createElement("line"),d.setAttribute("x1",this._xScale(h)),d.setAttribute("x2",this._xScale(h)),d.setAttribute("y1",0),d.setAttribute("y1",this.dimensions[1]),d.setAttribute("stroke",s),d.setAttribute("stroke-width",u),o.appendChild(d)}return[n,e]}return e}()}]),t}(f.PixiTrack);t.default=v},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Chromosome2DLabels=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),l=n(29),u=n(28),c=n(67),f=n(68),h=function(e){return e&&e.__esModule?e:{default:e}}(f),d=n(3),p=t.Chromosome2DLabels=function(e){function t(e,n,o,a,s){r(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));l.searchField=null,l.chromInfo=null,l.animate=s;var f=n.server,h=n.tilesetUid,d=f+"/chrom-sizes/?id="+h;return(0,u.ChromosomeInfo)(d,function(e){l.chromInfo=e,l.searchField=new c.SearchField(l.chromInfo),l.draw(),l.texts=[];for(var t=0;t<l.chromInfo.cumPositions.length;t++){for(var n=[],r=0;r<l.chromInfo.cumPositions.length;r++){var i=l.chromInfo.cumPositions[t].chr+"/"+l.chromInfo.cumPositions[r].chr,o=new PIXI.Text(i,{fontSize:"14px",fontFamily:"Arial",fill:"red"});o.anchor.x=.5,o.anchor.y=.5,o.visible=!1,o.hashValue=Math.random(),n.push(o),l.pMain.addChild(o)}l.texts.push(n)}l.draw(),l.animate()}),l}return o(t,e),a(t,[{key:"draw",value:function(){function e(){var e=[];if(this.texts&&this.searchField){for(var t=(0,d.absToChr)(this._xScale.domain()[0],this.chromInfo),n=(0,d.absToChr)(this._xScale.domain()[1],this.chromInfo),r=(0,d.absToChr)(this._yScale.domain()[0],this.chromInfo),i=(0,d.absToChr)(this._yScale.domain()[1],this.chromInfo),o=0;o<this.texts.length;o++)for(var a=0;a<this.texts.length;a++)this.texts[o][a].visible=!1;for(var s=t[3];s<=n[3];s++)for(var l=r[3];l<=i[3];l++){var u=this.chromInfo.cumPositions[s],c=this.chromInfo.cumPositions[l],f=u.pos+this.chromInfo.chromLengths[u.chr]/2,h=c.pos+this.chromInfo.chromLengths[c.chr]/2,p=this._xScale(f),v=this._yScale(h),m=this.texts[s][l];m.x=p,m.y=v,m.updateTransform();var g=m.getBounds();p+g.width/2>this.dimensions[0]?m.x-=p+g.width/2-this.dimensions[0]:p-g.width/2<0&&(m.x-=p-g.width/2),v+g.height/2>this.dimensions[1]?m.y-=v+g.height/2-this.dimensions[1]:v-g.height/2<0&&(m.y-=v-g.height/2),m.visible=!0,e.push({importance:this.texts[s][l].hashValue,text:this.texts[s][l],caption:null})}this.hideOverlaps(e)}}return e}()},{key:"hideOverlaps",value:function(){function e(e){var t=[];t=e.map(function(e){var t=e.text;t.updateTransform();var n=t.getBounds();return[n.x,n.y,n.x+n.width,n.y+n.height]});(0,h.default)(t,function(t,n){e[t].importance>e[n].importance?e[n].text.visible=0:e[t].text.visible=0})}return e}()},{key:"setPosition",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()}]),t}(l.PixiTrack);t.default=p},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CloseTrackMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),u=r(l),c=n(0),f=r(c),h=n(51),d=r(h),p=n(6);n(40);var v=t.CloseTrackMenu=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.seriesRefs={},n}return a(t,e),s(t,[{key:"getSeriesItems",value:function(){function e(){var e=this;if(!this.props.track)return null;var t={};return p.TRACKS_INFO.forEach(function(e){t[e.type]=e}),(this.props.track.contents?this.props.track.contents:[this.props.track]).map(function(n){var r=t[n.type].thumbnail,i=t[n.type].thumbnail?f.default.createElement("div",{dangerouslySetInnerHTML:{__html:r.outerHTML},className:"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}):f.default.createElement("div",{className:"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"},f.default.createElement("svg",{width:30,height:20}));return f.default.createElement("div",{key:n.uid,ref:function(){function t(t){e.seriesRefs[n.uid]=t}return t}(),onClick:function(){function t(){return e.props.onCloseTrack(n.uid)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},i,f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},n.name&&n.name.length?n.name:n.uid))})}return e}()},{key:"render",value:function(){function e(){var e=this;return f.default.createElement("div",null,this.getSeriesItems(),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(d.default,{onClick:function(){function t(){return e.props.onCloseTrack(e.props.track.uid)}return t}()},"Close track"))}return e}()}]),t}(f.default.Component);v.propTypes={onCloseTrack:u.default.func.isRequired,track:u.default.object.isRequired},t.default=v},function(e,t){function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){var i=this;r(this,e),this.childTracks=t.map(n),this.createdTracks={},this.childTracks.forEach(function(e,n){i.createdTracks[t[n].uid]=e});for(var o=0;o<this.childTracks.length;o++)this.childTracks[o]||console.error("Empty child track in CombinedTrack:",this)}return i(e,[{key:"updateContents",value:function(){function e(e,t){var r=this,i=[],o=new Set;e.forEach(function(e){if(o.add(e.uid),e.uid in r.createdTracks)i.push(r.createdTracks[e.uid]);else{var n=t(e);n.setPosition(r.position),n.setDimensions(r.dimensions),i.push(n),n.zoomed(r._xScale,r._yScale),r.createdTracks[e.uid]=n}}),this.childTracks=i;var a=new Set(Object.keys(this.createdTracks));return[].concat(n(new Set([].concat(n(a)).filter(function(e){return!o.has(e)})))).forEach(function(e){r.createdTracks[e].remove(),delete r.createdTracks[e]}),this}return e}()},{key:"setPosition",value:function(){function e(e){this.position=e;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].setPosition(e)}return e}()},{key:"setDimensions",value:function(){function e(e){this.dimensions=e;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].setDimensions(e)}return e}()},{key:"zoomed",value:function(){function e(e,t,n,r,i,o,a){this._xScale=e,this._yScale=t;for(var s=0;s<this.childTracks.length;s++)this.childTracks[s].zoomed(e,t,n,r,i,o,a)}return e}()},{key:"refXScale",value:function(){function e(e){for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].refXScale(e)}return e}()},{key:"refYScale",value:function(){function e(e){for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].refYScale(e)}return e}()},{key:"draw",value:function(){function e(){for(var e=0;e<this.childTracks.length;e++)this.childTracks[e].draw()}return e}()},{key:"xScale",value:function(){function e(e){this._xScale=e;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].xScale(e)}return e}()},{key:"yScale",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){this._yScale=yScale;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].yScale(yScale)})},{key:"refScalesChanged",value:function(){function e(e,t){for(var n=0;n<this.childTracks.length;n++)this.childTracks[n].refScalesChanged(e,t)}return e}()},{key:"remove",value:function(){function e(){for(var e=0;e<this.childTracks.length;e++)this.childTracks[e].remove()}return e}()},{key:"exportSVG",value:function(){function e(){var e=document.createElement("g"),t=!0,n=!1,r=void 0;try{for(var i,o=this.childTracks[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;a.exportSVG&&e.appendChild(a.exportSVG()[0])}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return[e,e]}return e}()},{key:"rerender",value:function(){function e(e){}return e}()},{key:"minValue",value:function(){function e(){if(0==arguments.length){var e=this.childTracks.filter(function(e){return e.minValue}).map(function(e){return e.minValue()}).filter(function(e){return e});return Math.min.apply(Math,n(e))}var t=!0,r=!1,i=void 0;try{for(var o,a=this.childTracks[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;s.minValue&&s.minValue(_)}}catch(e){r=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw i}}}return e}()},{key:"maxValue",value:function(){function e(e){if(0==arguments.length){var t=this.childTracks.filter(function(e){return e.maxValue}).map(function(e){return e.maxValue()}).filter(function(e){return e});return Math.max.apply(Math,n(t))}var r=!0,i=!1,o=void 0;try{for(var a,s=this.childTracks[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;l.maxValue&&l.maxValue(e)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}return e}()}]),e}();t.CombinedTrack=o,t.default=o},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigTrackMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),u=n(0),c=r(u),f=n(50),h=r(f),d=n(51),p=r(d),v=n(283),m=n(6);n(40);var g=t.ConfigTrackMenu=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.seriesRefs={},n.seriesListMenu=null,n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this)}return e}()},{key:"getSeriesItems",value:function(){function e(){var e=this;if(!this.props.track)return null;var t={};return m.TRACKS_INFO.forEach(function(e){t[e.type]=e}),(this.props.track.contents?this.props.track.contents:[this.props.track]).map(function(n){var r=t[n.type].thumbnail,i=t[n.type].thumbnail?c.default.createElement("div",{dangerouslySetInnerHTML:{__html:r.outerHTML},style:{display:"inline-block",marginRight:10,verticalAlign:"middle"}}):c.default.createElement("div",{style:{display:"inline-block",marginRight:10,verticalAlign:"middle"}},c.default.createElement("svg",{height:20,width:30}));return c.default.createElement(p.default,{key:n.uid,onMouseEnter:function(){function t(t){return e.handleItemMouseEnter(t,n)}return t}(),onMouseLeave:function(){function t(t){return e.handleMouseLeave(t)}return t}(),ref:function(){function t(t){return e.seriesRefs[n.uid]=t}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},i,c.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},n.name&&n.name.length?n.name:n.uid,c.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},c.default.createElement("use",{xlinkHref:"#play"}))))})}return e}()},{key:"getSubmenu",value:function(){function e(){var e=this;if(this.state.submenuShown){var t=this.state.submenuSourceBbox,n=null;n="left"==this.state.orientation?{left:this.state.left,top:t.top}:{left:this.state.left+t.width+7,top:t.top};var r=this.props.track.contents?this.props.track.contents.filter(function(t){return t.uid==e.state.submenuShown.uid})[0]:this.props.track;return c.default.createElement(v.SeriesListMenu,{closeMenu:this.props.closeMenu,hostTrack:this.props.track,onAddSeries:this.props.onAddSeries,onChangeTrackType:this.props.onChangeTrackType,onCloseTrack:function(){function t(){return e.props.onCloseTrack(e.state.submenuShown.uid)}return t}(),onConfigureTrack:this.props.onConfigureTrack,onExportData:this.props.onExportData,onLockScales:this.props.onLockScales,onTrackOptionsChanged:this.props.onTrackOptionsChanged,onDivideSeries:this.props.onDivideSeries,orientation:this.state.orientation,ref:function(){function t(t){return e.seriesListMenu=t}return t}(),parentBbox:t,position:n,series:this.state.submenuShown,track:r,trackOrientation:this.props.trackOrientation})}return c.default.createElement("div",null)}return e}()},{key:"render",value:function(){function e(){var e=this;return c.default.createElement("div",{ref:function(){function t(t){return e.div=t}return t}(),style:{left:this.state.left,top:this.state.top},className:"ContextMenu-module_context-menu-2OwvL"},this.getSeriesItems(),c.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),c.default.createElement(p.default,{contextMenu:this,onClick:function(){function t(){return e.props.onLockValueScale(e.props.track.uid)}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}()},"Lock Value Scale With"),c.default.createElement(p.default,{contextMenu:this,onClick:function(){function t(){return e.props.onUnlockValueScale(e.props.track.uid)}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}()},"Unlock Value Scale"),c.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),c.default.createElement(p.default,{contextMenu:this,onClick:function(){function t(){return e.props.onAddSeries(e.props.track.uid)}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}()},"Add Series"),c.default.createElement(p.default,{onClick:function(){function t(){return e.props.onCloseTrack(e.props.track.uid)}return t}()},"Close Track"),c.default.createElement(p.default,{onClick:function(){function t(){e.props.onReplaceTrack(e.props.track.uid,e.props.trackOrientation)}return t}()},"Replace Track"),this.getSubmenu())}return e}()}]),t}(h.default);t.default=g},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigViewMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(2),f=r(c),h=n(51),d=r(h);n(40);var p=t.ConfigViewMenu=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){function e(){var e=this;return u.default.createElement("div",null,u.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onTogglePositionSearchBox(t)}return t}()},"Toggle position search box"),u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),u.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onZoomToData(t)}return t}()},"Zoom to data extent"),u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),u.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onClearView(t)}return t}()},"Clear View"),u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),u.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onYankZoom(t)}return t}()},"Take zoom from"),u.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onYankLocation(t)}return t}()},"Take location from"),u.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onYankZoomAndLocation(t)}return t}()},"Take zoom and location from"),u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),u.default.createElement(d.default,{onClick:this.props.onLockZoom},"Lock zoom with"),u.default.createElement(d.default,{onClick:this.props.onLockLocation},"Lock location with"),u.default.createElement(d.default,{onClick:this.props.onLockZoomAndLocation},"Lock zoom and location with"),u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),u.default.createElement(d.default,{onClick:this.props.onTakeAndLockZoomAndLocation},"Take and lock zoom and location with"),u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),u.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onUnlockZoom(t)}return t}()},"Unlock zoom"),u.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onUnlockLocation(t)}return t}()},"Unlock location"),u.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onUnlockZoomAndLocation(t)}return t}()},"Unlock zoom and location"),u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),u.default.createElement(d.default,{onClick:function(){function t(t){return e.props.onProjectViewport(t)}return t}()},"Show this viewport on"),u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),u.default.createElement(d.default,{onClick:function(){function t(){return e.props.onExportSVG()}return t}()},"Export views as SVG"),u.default.createElement(d.default,{onClick:function(){function t(){return e.props.onExportViewAsJSON()}return t}()},"Export views as JSON"),u.default.createElement(d.default,{onClick:function(){function t(){return e.props.onExportViewAsLink()}return t}()},"Export views as Link"))}return e}()}]),t}(u.default.Component);p.propTypes={onExportSVG:f.default.func,onExportViewAsJSON:f.default.func,onExportViewAsLink:f.default.func,onLockLocation:f.default.func,onLockZoom:f.default.func,onLockZoomAndLocation:f.default.func,onProjectViewport:f.default.func,onTakeAndLockZoomAndLocation:f.default.func,onTogglePositionSearchBox:f.default.func,onUnlockLocation:f.default.func,onUnlockZoom:f.default.func,onUnlockZoomAndLocation:f.default.func,onYankLocation:f.default.func,onYankZoom:f.default.func,onYankZoomAndLocation:f.default.func,onZoomToData:f.default.func},t.default=p},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(10),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(3),l=n(7),u=n(63),c=function(){function e(t){r(this,e),this.tilesetInfoLoading=!0,this.dataConfig=JSON.parse(JSON.stringify(t)),this.uuid=a.default.nice(),this.dataConfig.children&&(this.dataConfig.children=t.children.map(function(t){return new e(t)}))}return i(e,[{key:"tilesetInfo",value:function(){function e(e){var t=this;if(this.dataConfig.children){var n=this.dataConfig.children.map(function(e){return new Promise(function(t,n){e.tilesetInfo(t)})});Promise.all(n).then(function(t){e(t[0])})}else this.dataConfig.server||this.dataConfig.tilesetUid?l.tileProxy.trackInfo(this.dataConfig.server,this.dataConfig.tilesetUid,function(n){e(n[t.dataConfig.tilesetUid])}):(console.warn("No dataConfig children, server or tilesetUid:",this.dataConfig),e(null))}return e}()},{key:"fullTileId",value:function(){function e(e,t){return e+"."+t}return e}()},{key:"fetchTilesDebounced",value:function(){function e(e,t){var n=this;if(this.dataConfig.children){var r=this.dataConfig.children.map(function(e){return new Promise(function(n,r){e.fetchTilesDebounced(n,t)})});Promise.all(r).then(function(r){if("divided"==n.dataConfig.type){r.length<2&&console.warn("Only one tileset specified for a divided datafetcher:",n.dataConfig);for(var i=(0,s.dictValues)(r[0])[0].tilesetUid,o=(0,s.dictValues)(r[1])[0].tilesetUid,a={},l=0;l<t.length;l++){n.fullTileId(i,t[l]),n.fullTileId(o,t[l]);newData=n.divideData(r[0][t[l]].dense,r[1][t[l]].dense);var c=r[0][t[l]].zoomLevel,f=r[0][t[l]].tilePos,h={dense:newData,minNonZero:(0,u.minNonZero)(newData),maxNonZero:(0,u.maxNonZero)(newData),zoomLevel:c,tilePos:f,tilePositionId:t[l]};a[t[l]]=h}e(a)}else console.warn("Unimplemented dataConfig type. Returning first data source.",n.dataConfig),e(r[0])})}else{new Promise(function(e,r){return l.tileProxy.fetchTilesDebounced({id:a.default.nice(),server:n.dataConfig.server,done:e,ids:t.map(function(e){return n.dataConfig.tilesetUid+"."+e})})}).then(function(r){for(var i=(0,s.dictValues)(r)[0].tilesetUid,o={},a=0;a<t.length;a++){var l=n.fullTileId(i,t[a]);r[l].tilePositionId=t[a],o[t[a]]=r[l]}e(o)})}}return e}()},{key:"divideData",value:function(){function e(e,t){for(var n=new Float32Array(e.length),r=0;r<n.length;r++)0==t[r]?n[r]=NaN:n[r]=e[r]/t[r];return n}return e}()}]),e}();t.default=c},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DivergentBarTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(12),l=n(143),u=n(3),c=t.DivergentBarTrack=function(e){function t(e,n,o,a,s,l){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,l))}return o(t,e),a(t,[{key:"renderTile",value:function(){function e(e){if(e.graphics){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),r=n.tileX,i=n.tileWidth,o=e.tileData.dense;if(0!=o.length){var a=0;if(this.valueScale=null,"log"==this.options.valueScaling){var l=this.medianVisibleValue;this.medianVisibleValue||(l=this.minVisibleValue()),this.valueScale=(0,s.scaleLog)().domain([l,this.maxValue()+l]).range([this.dimensions[1],0]),a=l}else this.valueScale=(0,s.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(t.clear(),this.drawAxis(this.valueScale),"log"==this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var c=(0,u.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),f=(0,s.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([r,r+i]);t.lineStyle(0,c,1);var h=this.options.barFillColorTop?this.options.barFillColorTop:"green",d=this.options.barFillColorBottom?this.options.barFillColorBottom:"red",p=(0,u.colorToHex)(h),v=(0,u.colorToHex)(d),m="barOpacity"in this.options?this.options.barOpacity:1;e.drawnAtScale=this._xScale.copy();var g=0;g="log"==this.options.valueScaling?this.valueScale(1):this.valueScale(0);for(var y=0;y<o.length;y++){var b=this._xScale(f(y)),w=this.valueScale(o[y]+a),x=this._xScale(f(y+1))-b;this.dimensions[1];if(w>g?(t.beginFill(v,m),e.barYValues[y]=g,e.barHeights[y]=w-g,e.barColors[y]=d):(t.beginFill(p,m),e.barYValues[y]=w,e.barHeights[y]=g-w,e.barColors[y]=h),e.barXValues[y]=b,e.barWidths[y]=x,f(y)>this.tilesetInfo.max_pos[0])break;t.drawRect(b,e.barYValues[y],x,e.barHeights[y])}}}}return e}()}]),t}(l.BarTrack);t.default=c},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DraggableDiv=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(100),c=n(4),f=n(2),h=r(f),d=n(0),p=r(d);n(504);var v=t.DraggableDiv=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dragTopRight=(0,u.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopRightFunc.bind(n)),n.dragTopLeft=(0,u.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopLeftFunc.bind(n)),n.dragBottomRight=(0,u.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomRightFunc.bind(n)),n.dragBottomLeft=(0,u.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomLeftFunc.bind(n)),n.dragBottom=(0,u.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomFunc.bind(n)),n.dragTop=(0,u.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopFunc.bind(n)),n.dragLeft=(0,u.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragLeftFunc.bind(n)),n.dragRight=(0,u.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragRightFunc.bind(n)),n.minWidth=10,n.minHeight=10,n.bottomHandleWidth=20,n.state={uid:n.props.uid,width:n.props.width,height:n.props.height,top:n.props.top,left:n.props.left},n.domBody=(0,c.select)("body").node(),n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){function e(){(0,c.select)(this.bottomHandle).call(this.dragBottom),(0,c.select)(this.topHandle).call(this.dragTop),(0,c.select)(this.leftHandle).call(this.dragLeft),(0,c.select)(this.rightHandle).call(this.dragRight)}return e}()},{key:"componentWillReceiveProps",value:function(){function e(e){"width"in e&&this.setState({width:e.width}),"height"in e&&this.setState({height:e.height})}return e}()},{key:"dragBottomFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n={height:t};this.setState(n),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragLeftFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartLeft+e[0]-this.dragStartMousePos[0];n=t>this.minWidth?n:this.dragStartLeft+this.dragStartWidth-this.minWidth;var r={left:n,width:t};this.setState(r),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragTopFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartTop+e[1]-this.dragStartMousePos[1];n=t>this.minHeight?n:this.dragStartTop+this.dragStartHeight-this.minHeight;var r={top:n,height:t};this.setState(r),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragRightFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n={width:t};this.setState(n),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragBottomLeftFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);n=n>this.minWidth?n:this.minWidth;var r=this.dragStartLeft+e[0]-this.dragStartMousePos[0];r=n>this.minWidth?r:this.dragStartLeft+this.dragStartWidth-this.minWidth;var i={top:this.state.top,left:r,width:n,height:t};this.setState(i),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragBottomRightFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);n=n>this.minHeight?n:this.minHeight;var r={top:this.state.top,left:this.state.left,width:t,height:n};this.setState(r),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragTopRightFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartTop+e[1]-this.dragStartMousePos[1];n=t>this.minHeight?n:this.dragStartTop+this.dragStartHeight-this.minHeight;var r=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);r=r>this.minWidth?r:this.minWidth;var i={top:n,left:this.state.left,width:r,height:t};this.setState(i),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragTopLeftFunc",value:function(){function e(){var e=(0,c.mouse)(this.domBody),t=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartLeft+e[0]-this.dragStartMousePos[0];n=t>this.minWidth?n:this.dragStartLeft+this.dragStartWidth-this.minWidth;var r=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);r=r>this.minHeight?r:this.minHeight;var i=this.dragStartTop+e[1]-this.dragStartMousePos[1];i=r>this.minHeight?i:this.dragStartTop+this.dragStartHeight-this.minHeight;var o={top:i,left:n,width:t,height:r};this.setState(o),c.event.sourceEvent.stopPropagation(),this.sizeChanged()}return e}()},{key:"dragStart",value:function(){function e(){this.dragStartMousePos=(0,c.mouse)(this.domBody),this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,this.dragStartTop=this.state.top,this.dragStartLeft=this.state.left,c.event.sourceEvent.stopPropagation()}return e}()},{key:"sizeChanged",value:function(){function e(){"sizeChanged"in this.props&&this.props.sizeChanged(this.state)}return e}()},{key:"rotateClicked",value:function(){function e(){this.props.trackRotated(this.state.uid)}return e}()},{key:"closeClicked",value:function(){function e(){this.props.trackClosed(this.state.uid)}return e}()},{key:"render",value:function(){function e(){var e=this,t={top:this.state.top,left:this.state.left,width:this.state.width,height:this.state.height,backgroundColor:"transparent",boxSizing:"border-box",opacity:this.props.opacity},n={position:"absolute",left:this.state.width/2-5,bottom:1,width:10,opacity:.2,height:4,borderBottom:"1px solid black",borderTop:"1px solid black",cursor:"row-resize"},r={position:"absolute",left:this.state.width/2-5,top:1,width:10,opacity:.2,height:4,borderBottom:"1px solid black",borderTop:"1px solid black",cursor:"row-resize"},o={position:"absolute",left:1,top:this.state.height/2-5,opacity:.2,width:4,height:10,borderLeft:"1px solid black",borderRight:"1px solid black",cursor:"col-resize"},a={position:"absolute",right:1,opacity:.2,top:this.state.height/2-5,width:4,height:10,borderLeft:"1px solid black",borderRight:"1px solid black",cursor:"col-resize"},s={bottom:p.default.createElement("div",{className:"bottom-draggable-handle",key:"bottom",ref:function(){function t(t){return e.bottomHandle=t}return t}(),style:n}),top:p.default.createElement("div",{className:"top-draggable-handle",key:"top",ref:function(){function t(t){return e.topHandle=t}return t}(),style:r}),right:p.default.createElement("div",{className:"right-draggable-handle",key:"right",ref:function(){function t(t){return e.rightHandle=t}return t}(),style:a}),left:p.default.createElement("div",{className:"left-draggable-handle",key:"left",ref:function(){function t(t){return e.leftHandle=t}return t}(),style:o})},l=[].concat(i(this.props.resizeHandles)).map(function(e){return s[e]});return p.default.createElement("div",{className:this.props.className,ref:function(){function t(t){return e.divContainer=t}return t}(),style:t},l)}return e}()}]),t}(p.default.Component);v.propTypes={className:h.default.string,height:h.default.number,left:h.default.number,opacity:h.default.number,resizeHandles:h.default.object,sizeChanged:h.default.func,top:h.default.number,trackClosed:h.default.func,trackRotated:h.default.func,uid:h.default.string,width:h.default.number},t.default=v},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ExportLinkModal=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(205);var l=n(0),u=r(l),c=n(11),f=(r(c),n(239),n(148)),h=(r(f),n(10)),d=(r(h),n(62)),p=t.ExportLinkModal=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),s(t,[{key:"render",value:function(){function e(){var e=this.props.linkLocation?u.default.createElement("input",{style:{width:500},value:this.props.linkLocation,readOnly:!0}):u.default.createElement("div",null,u.default.createElement("span",{className:"glyphicon glyphicon-refresh glyphicon-refresh-animate","aria-hidden":"true"}),u.default.createElement("span",null,"  We are generating your link..."));return u.default.createElement("div",{className:"modal-container",style:{position:"absolute",left:0,top:0,height:this.props.height,width:this.props.width}},u.default.createElement(d.Modal,{onHide:this.props.onDone,container:this,className:"hg-modal",show:!0},u.default.createElement(d.Modal.Header,{closeButton:!0},u.default.createElement(d.Modal.Title,null,"Share view link")),u.default.createElement(d.Modal.Body,null,e),u.default.createElement(d.Modal.Footer,null,u.default.createElement(d.Button,{onClick:this.props.onDone},"Done"))))}return e}()}]),t}(u.default.Component);t.default=p},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.GenomePositionSearchBox=void 0;var l=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(32),f=r(c),h=(n(37),n(403)),d=n(4),p=n(0),v=r(p),m=n(7),g=n(10),y=r(g),b=n(62),w=n(2),x=r(w),k=n(249),_=r(k),S=n(28),T=n(67),O=n(87),C=r(O),P=n(3),E=n(508),M=r(E),A={styles:{"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU","genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},j=t.GenomePositionSearchBox=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mounted=!1,n.uid=y.default.nice(),n.chromInfo=null,n.searchField=null,n.autocompleteMenu=null,n.xScale=null,n.yScale=null,n.prevParts=[],n.props.registerViewportChangedListener(n.scalesChanged.bind(n)),n.menuPosition={left:0,top:0},n.state={value:"chr4:190,998,876-191,000,255",loading:!1,menuPosition:[0,0],genes:[],isFocused:!1,menuOpened:!1,autocompleteServer:n.props.autocompleteServer,autocompleteId:n.props.autocompleteId,availableAssemblies:[],selectedAssembly:null},n.styles={item:{padding:"2px 6px",cursor:"default"},highlightedItem:{color:"white",background:"hsl(200, 50%, 50%)",padding:"2px 6px",cursor:"default"},menu:{border:"solid 1px #ccc"}},n.availableAutocompletes={},n.props.autocompleteId&&(n.availableAutocompletes[n.props.chromInfoId]=new Set([{server:n.props.autocompleteServer,acId:n.props.autocompleteId}])),n.availableChromSizes={},n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){function e(){this.mounted=!0,(0,d.select)(this.autocompleteMenu.inputEl).on("keypress",this.autocompleteKeyPress.bind(this)),this.findAvailableAutocompleteSources(),this.findAvailableChromSizes(),this.setPositionText()}return e}()},{key:"componentWillUnmount",value:function(){function e(){this.mounted=!1,this.props.removeViewportChangedListener()}return e}()},{key:"fetchChromInfo",value:function(){function e(e){var t=this;if(this.mounted&&this.availableChromSizes[e]){var n=[].concat(i(this.availableChromSizes[e]))[0];this.setState({autocompleteServer:n.server}),(0,S.ChromosomeInfo)(n.server+"/chrom-sizes/?id="+n.uuid,function(r){if(t.chromInfo=r,t.searchField=new T.SearchField(t.chromInfo),t.setPositionText(),t.gpsbForm&&t.setState({selectedAssembly:e}),t.availableAutocompletes[e]){var o=[].concat(i(t.availableAutocompletes[e]))[0].acId;t.props.onSelectedAssemblyChanged(e,o,n.server),t.gpsbForm&&t.setState({autocompleteId:o})}else t.props.onSelectedAssemblyChanged(e,null,n.server),t.gpsbForm&&t.setState({autocompleteId:null})})}}return e}()},{key:"findAvailableAutocompleteSources",value:function(){function e(){var e=this;this.props.trackSourceServers.forEach(function(t){m.tileProxy.json(t+"/tilesets/?limit=100&dt=gene-annotation",function(n,r){n?console.error(n):(r.results.map(function(n){n.coordSystem in e.availableAutocompletes||(e.availableAutocompletes[n.coordSystem]=new Set),e.availableAutocompletes[n.coordSystem].add({server:t,acId:n.uuid}),e.setAvailableAssemblies()}),e.state.autocompleteId||e.gpsbForm&&e.availableAutocompletes[e.props.chromInfoId]&&e.setState({autocompleteId:[].concat(i(e.availableAutocompletes[e.props.chromInfoId]))[0].acId}))})})}return e}()},{key:"findAvailableChromSizes",value:function(){function e(){var e=this;this.props.trackSourceServers.forEach(function(t){m.tileProxy.json(t+"/available-chrom-sizes/",function(n,r){n?console.error(n):(r.results.map(function(n){n.uuid in e.availableChromSizes||(e.availableChromSizes[n.coordSystem]=new Set),e.availableChromSizes[n.coordSystem].add({server:t,uuid:n.uuid}),e.setAvailableAssemblies()}),e.searchField||e.fetchChromInfo(e.props.chromInfoId))})})}return e}()},{key:"setAvailableAssemblies",value:function(){function e(){var e=(new Set((0,P.dictKeys)(this.availableAutocompletes)),new Set((0,P.dictKeys)(this.availableChromSizes))),t=new Set([].concat(i(e)));this.gpsbForm&&this.setState({availableAssemblies:[].concat(i(t))})}return e}()},{key:"scalesChanged",value:function(){function e(e,t){this.xScale=e,this.yScale=t,this.setPositionText()}return e}()},{key:"setPositionText",value:function(){function e(){if(this.mounted&&this.searchField){var e=this.searchField.scalesToPositionText(this.xScale,this.yScale,this.props.twoD);this.prevParts=e.split(/[ -]/),this.gpsbForm&&this.setState({value:e})}}return e}()},{key:"autocompleteKeyPress",value:function(){function e(){13==d.event.keyCode&&this.buttonClick()}return e}()},{key:"replaceGenesWithLoadedPositions",value:function(){function e(e){for(var t=this.state.value.split(" "),n=0;n<t.length;n++)for(var r=t[n].split("-"),i=0;i<r.length;i++){var o=e[r[i].toLowerCase()];if(o){var a=Math.floor((o.txEnd-o.txStart)/4);1==r.length?r[i]=o.chr+":"+(o.txStart-a)+"-"+(o.txEnd+a):r[i]=0==i?o.chr+":"+(o.txStart-a):o.chr+":"+(o.txEnd+a),t[n]=r.join("-")}}var s=t.join(" ");this.prevParts=s.split(/[ -]/),this.setState({value:s})}return e}()},{key:"replaceGenesWithPositions",value:function(){function e(e){for(var t=this,n=this.state.value.split(/[ -]/),r=(0,h.queue)(),i=0;i<n.length;i++)if(0!=n[i].length){var o=this.searchField.parsePosition(n[i]),a=l(o,3),s=(a[0],a[1],a[2]);if(null==s||isNaN(s)){var u=this.state.autocompleteServer+"/suggest/?d="+this.state.autocompleteId+"&ac="+n[i].toLowerCase();r=r.defer(m.tileProxy.json,u)}}r.awaitAll(function(n,r){if(r){for(var i={},o=0;o<r.length;o++)if(r[o][0])for(var a=0;a<r[o].length;a++)i[r[o][a].geneName.toLowerCase()]=r[o][a];t.replaceGenesWithLoadedPositions(i),e()}})}return e}()},{key:"buttonClick",value:function(){function e(){var e=this;this.setState({genes:[]}),this.replaceGenesWithPositions(function(){var t=e.state.value;if(null!=e.searchField){var n=e.searchField.searchPosition(t),r=l(n,2),i=r[0],o=r[1];if(i&&(isNaN(i[0])||isNaN(i[1]))||o&&(isNaN(o[0])||isNaN(o[1])))return;o||(o=i);var a=e.xScale.copy().domain(i),s=e.yScale.copy().domain(o),u=(0,P.scalesCenterAndK)(a,s),c=l(u,3),f=c[0],h=c[1],d=c[2];e.props.setCenters(f,h,d,!0)}})}return e}()},{key:"searchFieldSubmit",value:function(){function e(){this.buttonClick()}return e}()},{key:"pathJoin",value:function(){function e(e,t){var n=t||"/",r=new RegExp(n+"{1,}","g");return e.join(n).replace(r,n)}return e}()},{key:"onAutocompleteChange",value:function(){function e(e,t){var n=this;this.setState({value:t,loading:!0});var r=t.split(/[ -]/);this.changedPart=null;for(var i=0;i<r.length;i++){if(i==this.prevParts.length){this.changedPart=i;break}if(r[i]!=this.prevParts[i]){this.changedPart=i;break}}if(this.prevParts=r,this.state.autocompleteServer&&this.state.autocompleteId&&null!=this.changedPart){this.setState({loading:!0});var o=this.state.autocompleteServer+"/suggest/?d="+this.state.autocompleteId+"&ac="+r[this.changedPart].toLowerCase();m.tileProxy.json(o,function(e,t){if(e)return void n.setState({loading:!1,genes:[]});n.setState({loading:!1,genes:t})})}}return e}()},{key:"geneSelected",value:function(){function e(e,t){for(var n=this.state.value.split(" "),r=this.changedPart,i=0;i<n.length;i++){var o=n[i].split("-");if(!(r>o.length-1)){o[r]=t.geneName,n[i]=o.join("-");break}r-=o.length}this.prevParts=n.join(" ").split(/[ -]/),this.setState({value:n.join(" "),genes:[]})}return e}()},{key:"handleMenuVisibilityChange",value:function(){function e(e,t){var n=t.getBoundingClientRect();this.menuPosition={left:n.left,top:n.top+n.height},this.setState({menuOpened:e})}return e}()},{key:"handleRenderMenu",value:function(){function e(e){return v.default.createElement(C.default,{children:e},v.default.createElement("div",{children:e,style:{left:this.menuPosition.left,top:this.menuPosition.top},className:"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU"}))}return e}()},{key:"handleAssemblySelect",value:function(){function e(e){this.fetchChromInfo(e),this.setState({selectedAssembly:e})}return e}()},{key:"focusHandler",value:function(){function e(e){this.setState({isFocused:e})}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.state.availableAssemblies.map(function(e){return v.default.createElement(b.MenuItem,{eventKey:e,key:e},e)}),n=this.state.isFocused?"styles.genome-position-search-focus":"styles.genome-position-search",r=this.state.isFocused?"styles.genome-position-search-bar-button-focus":"styles.genome-position-search-bar-button";this.state.isFocused;return v.default.createElement(b.FormGroup,{bsSize:"small",ref:function(){function t(t){return e.gpsbForm=t}return t}(),className:(0,f.default)(n,A)},v.default.createElement(b.DropdownButton,{bsSize:"small",className:M.default["genome-position-search-bar-button"],id:this.uid,onSelect:this.handleAssemblySelect.bind(this),ref:function(){function t(t){return e.assemblyPickButton=t}return t}(),title:this.state.selectedAssembly?this.state.selectedAssembly:"(none)"},t),v.default.createElement(_.default,{getItemValue:function(){function e(e){return e.geneName}return e}(),inputProps:{className:M.default["genome-position-search-bar"]},items:this.state.genes,menuStyle:{position:"absolute",left:this.menuPosition.left,top:this.menuPosition.top,border:"1px solid black"},onChange:this.onAutocompleteChange.bind(this),onFocus:this.focusHandler.bind(this),onMenuVisibilityChange:this.handleMenuVisibilityChange.bind(this),onSelect:function(){function t(t,n){return e.geneSelected(t,n)}return t}(),onSubmit:this.searchFieldSubmit.bind(this),ref:function(){function t(t){return e.autocompleteMenu=t}return t}(),renderItem:function(){function t(t,n){return v.default.createElement("div",{id:t.refseqid,key:t.refseqid,style:n?e.styles.highlightedItem:e.styles.item},t.geneName)}return t}(),renderMenu:this.handleRenderMenu.bind(this),value:this.state.value,wrapperStyle:{width:"100%"}}),v.default.createElement("button",{onClick:this.buttonClick.bind(this),className:(0,f.default)(r,A)},v.default.createElement(b.Glyphicon,{glyph:"search"})))}return e}()}]),t}(v.default.Component);j.propTypes={autocompleteId:x.default.string,autocompleteServer:x.default.string,chromInfoId:x.default.string,isFocused:x.default.bool,onFocus:x.default.func,onSelectedAssemblyChanged:x.default.func,registerViewportChangedListener:x.default.func,removeViewportChangedListener:x.default.func,setCenters:x.default.func,trackSourceServers:x.default.array,twoD:x.default.bool},t.default=j},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(62),f=n(144),h=r(f),d=n(148),p=r(d);n(205);var v=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={colors:e.track.options.colorRange.slice()},n}return a(t,e),s(t,[{key:"handleColorsChanged",value:function(){function e(e){this.setState({colors:e})}return e}()},{key:"handleSubmit",value:function(){function e(){this.props.track.options.colorRange=this.state.colors,this.props.onSubmit(this.props.track.options)}return e}()},{key:"handleAddColor",value:function(){function e(){this.setState({colors:this.state.colors.concat(this.state.colors[this.state.colors.length-1])})}return e}()},{key:"handleRemoveColor",value:function(){function e(e){this.setState({colors:this.state.colors.slice(0,e).concat(this.state.colors.slice(e+1))})}return e}()},{key:"render",value:function(){function e(){var e=this,t=JSON.parse(JSON.stringify(this.props.track)),n=Object.assign(t,{options:{colorRange:this.state.colors}}),r={editable:!1,zoomFixed:!0,views:[{uid:"hmo-"+this.props.track.uid,initialXDomain:this.props.xScale?this.props.xScale.domain():[0,1],initialYDomain:this.props.yScale?this.props.yScale.domain():[0,1],tracks:{center:[n]},layout:{x:0,y:0,h:12,w:12,i:"hmo-"+this.props.track.id}}]},i=this.state.colors.map(function(t,n){var r=e.state.colors.length>2&&n===e.state.colors.length-1?u.default.createElement("div",{style:{background:"white",position:"absolute",top:0,right:0,opacity:1,width:14,height:14,borderRadius:2}},u.default.createElement("svg",{onClick:function(){function t(){return e.handleRemoveColor(n)}return t}(),style:{position:"absolute",top:2,right:2,opacity:.5,width:10,height:10},height:"10px"},u.default.createElement("use",{xlinkHref:"#cross"}))):null;return u.default.createElement("td",{key:"l"+n,style:{border:"0px solid",position:"relative",outline:"none"}},r,u.default.createElement(p.default,{key:n,color:e.state.colors[n],onChange:function(){function t(t){e.state.colors[n]=t,e.handleColorsChanged(e.state.colors)}return t}()}))}),o=this.state.colors.length<4?u.default.createElement("td",{style:{border:"0px solid",position:"relative",outline:"none"}},u.default.createElement("div",{style:{height:24,marginLeft:5}},u.default.createElement("svg",{onClick:this.handleAddColor.bind(this),style:{opacity:.5},width:"10px",height:"10px"},u.default.createElement("use",{xlinkHref:"#plus"})))):null;return u.default.createElement(c.Modal,{onHide:this.props.handleCancel,show:!0,className:"hg-modal"},u.default.createElement(c.Modal.Header,{closeButton:!0},u.default.createElement(c.Modal.Title,null,"Heatmap Options")),u.default.createElement(c.Modal.Body,null,u.default.createElement("table",{className:"table-track-options"},u.default.createElement("thead",null),u.default.createElement("tbody",null,u.default.createElement("tr",null,u.default.createElement("td",{className:"td-track-options"},"Colors")),u.default.createElement("tr",null,u.default.createElement("td",{className:"td-track-options"},u.default.createElement("table",null,u.default.createElement("tbody",null,u.default.createElement("tr",null,i,o))))),u.default.createElement("tr",null,u.default.createElement("td",{className:"td-track-options"},"Preview")),u.default.createElement("tr",null,u.default.createElement("td",{rowSpan:"2",className:"td-track-options"},u.default.createElement("div",{style:{width:200}},u.default.createElement(h.default,{viewConfig:r,options:{bounded:!1}})))),u.default.createElement("tr",null)))),u.default.createElement(c.Modal.Footer,null,u.default.createElement(c.Button,{onClick:this.props.onCancel},"Cancel"),u.default.createElement(c.Button,{onClick:this.handleSubmit.bind(this)},"Submit")))}return e}()}]),t}(u.default.Component);t.default=v},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Horizontal2DDomainsTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),l=n(30),u=n(7),c=n(3),f=t.Horizontal2DDomainsTrack=function(e){function t(e,n,o,a,s){r(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s));return l.drawnRects=new Set,l.pMain=l.pMobile,l}return o(t,e),a(t,[{key:"tileToLocalId",value:function(){function e(e){return""+e.join(".")}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return""+e.join(".")}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=u.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=u.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map(function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}}),this.visibleTileIds=new Set(this.visibleTiles.map(function(e){return e.tileId}))}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var e=this._xScale.copy();this._xScale.domain()[1],this._xScale.domain()[0],this._xScale.range()[1],this._xScale.range()[0];e.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.xTiles=u.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=u.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var t=this.xTiles,n=this.yTiles,r=this.zoomLevel,i=this.tilesetInfo.max_width,o=i/Math.pow(2,r),a=[],s=0;s<t.length;s++)for(var l=s;l<n.length;l++){var c=(l-s-2)*(this._xScale(o)-this._xScale(0))*Math.sqrt(2)/2;if(!(c>this.dimensions[1])){var f=[r,t[s],n[l]];f.mirrored=!1,a.push(f)}}this.setVisibleTiles(a)}}return e}()},{key:"initTile",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initTile",this).call(this,e),this.drawTile(e)}return e}()},{key:"destroyTile",value:function(){function e(e,t){}return e}()},{key:"draw",value:function(){function e(){this.delayDrawing||this.drawnRects.clear(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this)}return e}()},{key:"drawTile",value:function(){function e(e){if(e.graphics){var t=e.graphics;t.clear();var n=(0,c.colorToHex)(this.options.rectangleDomainStrokeColor?this.options.rectangleDomainStrokeColor:"black"),r=(0,c.colorToHex)(this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey");if(t.lineStyle(1/this.pMain.scale.x,n,1),t.beginFill(r,.4),t.alpha=this.options.rectangleDomainOpacity?this.options.rectangleDomainOpacity:.5,e.tileData.sort){var i=!0,o=!1,a=void 0;try{for(var s,l=e.tileData[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,f=(u.fields,this._refXScale(u.xStart)),h=this._refXScale(u.xEnd),d=this._refYScale(u.yStart),p=this._refYScale(u.yEnd),v=u.uid;this.drawnRects.has(v)||(this.drawnRects.add(v),t.drawRect(f,d,h-f,p-d),t.pivot.x=this._refXScale(0),t.pivot.y=this._refYScale(0),t.scale.x=-1/Math.sqrt(2),t.rotation=-3*Math.PI/4,t.scale.y=1/Math.sqrt(2),t.position.x=this._refXScale(0),t.position.y=0)}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}}}return e}()},{key:"setPosition",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"refScalesChanged",value:function(){function e(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refScalesChanged",this).call(this,e,n);for(var r in this.fetchedTiles){var i=this.fetchedTiles[r];if(i.sprite){var o=i.graphics;o.pivot.x=this._refXScale(0),o.pivot.y=this._refYScale(0),o.scale.x=-1/Math.sqrt(2),o.rotation=-3*Math.PI/4,o.scale.y=1/Math.sqrt(2),o.position.x=this._refXScale(0),o.position.y=0}}}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,o){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n,r,i,o),this.pMain.position.x=i,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=r,this.pMain.scale.y=r,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-r,this.pMain.position.y=this.position[1]),this.draw()}return e}()}]),t}(l.TiledPixiTrack);t.default=f},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),u=n(68),c=function(e){return e&&e.__esModule?e:{default:e}}(u),f=n(12),h=n(8),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),p=n(29),v=n(28),m=n(67),g=n(3),y=200,b=6,w=2,x="#777777",k=function(e){function t(e,n,o,a,s,l){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s));u.searchField=null,u.chromInfo=null,u.gTicks={},u.tickTexts={},u.textFontSize="12px",u.textFontFamily="Arial",u.textFontColor="#777777",u.animate=s;var c=l;return c||(c=n.server+"/chrom-sizes/?id="+n.tilesetUid),(0,v.ChromosomeInfo)(c,function(e){u.chromInfo=e,u.searchField=new m.SearchField(u.chromInfo),u.texts=[];for(var t=0;t<u.chromInfo.cumPositions.length;t++){var n=u.chromInfo.cumPositions[t].chr;u.gTicks[n]=new d.Graphics,u.tickTexts[n]||(u.tickTexts[n]=[]);var r=new d.Text(n,{fontSize:u.textFontSize,fontFamily:u.textFontFamily,fill:u.textFontColor});r.anchor.x=.5,r.anchor.y=.5,r.visible=!1,r.hashValue=Math.random(),u.pMain.addChild(r),u.pMain.addChild(u.gTicks[n]),u.texts.push(r)}u.draw(),u.animate()}),u}return o(t,e),s(t,[{key:"drawTicks",value:function(){function e(e){var t=this.gTicks[e.chr];this.gTicks[e.chr].visible=!0,this.gTicks[e.chr].clear();for(var n=+this.chromInfo.chromLengths[e.chr],r=Math.max(this._xScale(e.pos),0),i=Math.min(this._xScale(e.pos+n),this.dimensions[0]),o=(i-r)/y,a=(0,f.scaleLinear)().domain([Math.max(1,this._xScale.invert(0)-e.pos),Math.min(n,this._xScale.invert(this.dimensions[0])-e.pos)]).range(r,i),s=a.ticks(o),l=a.tickFormat(o),u=this.tickTexts[e.chr];u.length<=s.length;){var c=new d.Text("",{fontSize:"12px",fontFamily:"Helvetica Neue",fill:"#777777"});u.push(c),this.gTicks[e.chr].addChild(c)}for(var h=0;h<s.length;)u[h].visible=!0,u[h].anchor.x=.5,u[h].anchor.y=1,this.flipText&&(u[h].scale.x=-1),u[h].x=this._xScale(e.pos+s[h]),u[h].y=this.dimensions[1]-(b+w),0==s[h]?u[h].text=e.chr+":1":u[h].text=e.chr+":"+l(s[h]),t.lineStyle(1,x,1),t.moveTo(this._xScale(e.pos+s[h]),this.dimensions[1]),t.lineTo(this._xScale(e.pos+s[h]),this.dimensions[1]-b),h+=1;for(;h<u.length;)u[h].visible=!1,h+=1;s.length;return s.length}return e}()},{key:"draw",value:function(){function e(){if(this.allTexts=[],this.texts&&this.searchField){for(var e=(0,g.absToChr)(this._xScale.domain()[0],this.chromInfo),t=(0,g.absToChr)(this._xScale.domain()[1],this.chromInfo),n=0;n<this.texts.length;n++)this.texts[n].visible=!1,this.gTicks[this.chromInfo.cumPositions[n].chr].visible=!1;for(var r=e[3];r<=t[3];r++){var i=this.chromInfo.cumPositions[r],o=i.pos+this.chromInfo.chromLengths[i.chr]/2,a=this._xScale(o),s=this.texts[r];s.anchor.y=1,s.x=a,s.y=this.dimensions[1]-w-b,s.updateTransform(),this.flipText&&(s.scale.x=-1);var l=(s.getBounds(),this.drawTicks(i));s.visible=!(l>0),this.allTexts.push({importance:this.texts[r].hashValue,text:this.texts[r],caption:null})}this.hideOverlaps(this.allTexts)}}return e}()},{key:"hideOverlaps",value:function(){function e(e){var t=[];t=e.map(function(e){var t=e.text;t.updateTransform();var n=t.getBounds();return[n.x,n.y,n.x+n.width,n.y+n.height]});(0,c.default)(t,function(t,n){e[t].importance>e[n].importance?e[n].text.visible=0:e[t].text.visible=0})}return e}()},{key:"setPosition",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"refreshTiles",value:function(){function e(){}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this)){var r=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this),i=a(r,2);n=i[0],e=i[1]}else n=document.createElement("g"),e=n;n.setAttribute("class","chromosome-labels");var o=document.createElement("g");e.appendChild(o),o.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")");var s=!0,u=!1,c=void 0;try{for(var f,h=this.allTexts[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var d=f.value;if(d.text.visible){var p=(0,g.pixiTextToSvg)(d.text);o.appendChild(p)}}}catch(e){u=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(u)throw c}}for(var v in this.tickTexts){var m=!0,y=!1,w=void 0;try{for(var k,_=this.tickTexts[v][Symbol.iterator]();!(m=(k=_.next()).done);m=!0){var S=k.value,T=(0,g.pixiTextToSvg)(S);o.appendChild(T),T=(0,g.svgLine)(S.x,this.dimensions[1],S.x,this.dimensions[1]-b,1,x),o.appendChild(T)}}catch(e){y=!0,w=e}finally{try{!m&&_.return&&_.return()}finally{if(y)throw w}}}return[n,e]}return e}()}]),t}(p.PixiTrack);t.default=k},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalGeneAnnotationsTrack=void 0;var s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),c=n(68),f=r(c),h=n(8),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),p=n(52),v=r(p),m=n(7),g=n(3),y=1,b=6,w=20,x=t.HorizontalGeneAnnotationsTrack=function(e){function t(e,n,r,a,s,l,u){i(this,t);var c=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,a,s,l,u));return c.textFontSize="10px",c.textFontFamily="Arial",c}return a(t,e),l(t,[{key:"initTile",value:function(){function e(e){var t=this;e.texts={},e.rectGraphics=new d.Graphics,e.textGraphics=new d.Graphics,e.graphics.addChild(e.rectGraphics),e.graphics.addChild(e.textGraphics);e.tileData.sort&&(e.tileData.sort(function(e,t){return t.importance-e.importance}),e.tileData=e.tileData.slice(0,50),e.tileData.forEach(function(n,r){var i=n.fields,o=t.options.plusStrandColor?t.options.plusStrandColor:"blue";if("-"==i[5]&&(o=t.options.minusStrandColor?t.options.minusStrandColor:"red"),e.textWidths={},e.textHeights={},!(r>=w)){var a=new d.Text(i[3],{fontSize:t.textFontSize,fontFamily:t.textFontFamily,fill:(0,g.colorToHex)(o)});a.interactive=!0,a.click=function(e){console.log("click")},t.flipText&&(a.scale.x=-1),a.anchor.x=.5,a.anchor.y=1,e.texts[i[3]]=a,e.textGraphics.addChild(a)}}),e.initialized=!0,this.renderTile(e))}return e}()},{key:"destroyTile",value:function(){function e(e){}return e}()},{key:"rerender",value:function(){function e(e,n){var r=JSON.stringify(e);if(n||r!==this.prevOptions){this.prevOptions=r,u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rerender",this).call(this,e,n);var i=!0,o=!1,a=void 0;try{for(var s,l=this.visibleAndFetchedTiles()[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;this.renderTile(c)}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}}return e}()},{key:"drawTile",value:function(){function e(e){}return e}()},{key:"renderTile",value:function(){function e(e){var t=this;if(e.initialized){e.allRects=[],e.drawnAtScale=this._xScale.copy();var n={};n["+"]=(0,g.colorToHex)(this.options.plusStrandColor?this.options.plusStrandColor:"blue"),n["-"]=(0,g.colorToHex)(this.options.minusStrandColor?this.options.minusStrandColor:"red"),e.tileData.forEach(function(r,i){var o=r.fields,a=+r.chrOffset,s=+o[1]+a,l=+o[2]+a,u=o[12],c=o[13],f=(s+l)/2,h=t.dimensions[1]/2,d=t.dimensions[1]/2,p=o[3];"+"==o[5]?(h-=6,d-=10,e.rectGraphics.lineStyle(1,n["+"],.3),e.rectGraphics.beginFill(n["+"],.3)):(h+=6,d+=23,e.rectGraphics.lineStyle(1,n["-"],.3),e.rectGraphics.beginFill(n["-"],.3));var v=t._xScale(f)-y/2,m=h-b/2,g=t._xScale(s);if(t._xScale(l)-g>10?o.length<14?console.warn("Gene annotations have less than 14 columns (chrName, chrStart, chrEnd, symbol, importance, transcript_name, geneId, transcript_type, '-', txStart, txEnd, exonStarts, exonEnds:",o):e.allRects=e.allRects.concat(t.drawExons(e.rectGraphics,s,l,u,c,a,h).map(function(e){return e.concat([o[5]])})):(e.rectGraphics.drawRect(v,m,y,b),e.allRects.push([v,m,y,b,o[5]])),e.texts&&!(i>=w)){var x=e.texts[p];if(x.position.x=t._xScale(f),x.position.y=d,x.style={fontSize:t.textFontSize,fontFamily:t.textFontFamily,fill:n[o[5]]},!(o[3]in e.textWidths)){x.updateTransform();var k=x.getBounds().width,_=x.getBounds().height;e.textWidths[o[3]]=k,e.textHeights[o[3]]=_}}})}}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=m.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=Math.min(e,this.maxZoom);return t=Math.max(t,0)}return e}()},{key:"drawExons",value:function(){function e(e,t,n,r,i,o,a){r=r.split(",").map(function(e){return+e+o}),i=i.split(",").map(function(e){return+e+o});var s=[],l=this._xScale(t),u=this._xScale(n),c=b,f=a-.75,h=u-l,d=a-c/2;e.drawRect(l,f,h,1.5),s.push([l,f,h,1.5]);for(var p=0;p<r.length;p++){var v=r[p],m=i[p];s.push([this._xScale(v),d,this._xScale(m)-this._xScale(v),c]),e.drawRect(this._xScale(v),d,this._xScale(m)-this._xScale(v),c)}return s}return e}()},{key:"draw",value:function(){function e(){var e=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this);this.allTexts=[],this.allBoxes=[];var n=function(){function t(t){var n=e.fetchedTiles[t];if(!n.drawnAtScale)return"continue";var r=(n.drawnAtScale.domain()[1]-n.drawnAtScale.domain()[0])/(e._xScale.domain()[1]-e._xScale.domain()[0]),i=e._xScale.domain().map(n.drawnAtScale),o=i[0];n.rectGraphics.scale.x=r,n.rectGraphics.position.x=-o*r;var a=e.parentInFetched(n);if(!n.initialized)return"continue";n.tileData.forEach(function(t,r){if(n.texts){var i=t.fields,o=i[3],s=n.texts[o];if(s){var l=+t.chrOffset,u=+i[1]+l,c=+i[2]+l,f=(u+c)/2,h=e.dimensions[1]/2;if("+"==i[5]?h-=10:h+=23,s.position.x=e._xScale(f),s.position.y=h,a)s.visible=!1;else{s.visible=!0;e.flipText?e.allBoxes.push([s.position.x,h-1,s.position.x+n.textHeights[i[3]]+3,h+1]):e.allBoxes.push([s.position.x,h-1,s.position.x+n.textWidths[i[3]]+3,h+1]),e.allTexts.push({importance:+i[4],text:s,caption:o,strand:i[5]})}}}})}return t}();for(var r in this.fetchedTiles){n(r)}this.hideOverlaps(this.allBoxes,this.allTexts)}return e}()},{key:"hideOverlaps",value:function(){function e(e,t){(0,f.default)(e,function(e,n){t[e].importance>t[n].importance?t[n].text.visible=!1:t[e].text.visible=!1})}return e}()},{key:"setPosition",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"setDimensions",value:function(){function e(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDimensions",this).call(this,e);var n=!0,r=!1,i=void 0;try{for(var o,a=this.visibleAndFetchedTiles()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.rectGraphics.clear(),this.renderTile(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null;if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this)){var r=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"exportSVG",this).call(this),i=s(r,2);n=i[0],e=i[1]}else n=document.createElement("g"),e=n;var o=document.createElement("g");o.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")"),e.appendChild(o);var a=[],l=!0,c=!1,f=void 0;try{for(var h,d=this.visibleAndFetchedTiles()[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var p=h.value;a=a.concat(p.allRects)}}catch(e){c=!0,f=e}finally{try{!l&&d.return&&d.return()}finally{if(c)throw f}}var v=!0,m=!1,g=void 0;try{for(var y,b=a[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var w=y.value,x=document.createElement("rect");x.setAttribute("x",w[0]),x.setAttribute("y",w[1]),x.setAttribute("width",w[2]),x.setAttribute("height",w[3]),"+"==w[4]?x.setAttribute("fill",this.options.plusStrandColor):x.setAttribute("fill",this.options.minusStrandColor),o.appendChild(x)}}catch(e){m=!0,g=e}finally{try{!v&&b.return&&b.return()}finally{if(m)throw g}}var k=!0,_=!1,S=void 0;try{for(var T,O=this.allTexts[Symbol.iterator]();!(k=(T=O.next()).done);k=!0){var C=T.value;if(C.text.visible){var P=document.createElement("g"),E=document.createElement("text");E.setAttribute("text-anchor","middle"),E.setAttribute("font-family",this.textFontFamily),E.setAttribute("font-size",this.textFontSize),E.setAttribute("dy","-.2em"),P.setAttribute("transform","scale("+C.text.scale.x+",1)"),"+"===C.strand?E.setAttribute("fill",this.options.plusStrandColor):E.setAttribute("fill",this.options.minusStrandColor),E.innerHTML=C.text.text,P.appendChild(E),P.setAttribute("transform","translate("+C.text.x+","+C.text.y+")scale("+C.text.scale.x+",1)"),o.appendChild(P)}}}catch(e){_=!0,S=e}finally{try{!k&&O.return&&O.return()}finally{if(_)throw S}}return[n,n]}return e}()}]),t}(v.default);t.default=x},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalHeatmapTrack=void 0;var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),u=n(8),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=(n(12),n(30)),h=n(65),d=function(e){return e&&e.__esModule?e:{default:e}}(h),p=n(7),v=n(3),m=n(6),g=t.HorizontalHeatmapTrack=function(e){function t(e,n,o,a,s,l,u,c){r(this,t);var f=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,l,u,c));return f.pMain=f.pMobile,f.colorScale=m.HEATED_OBJECT_MAP,a&&a.colorRange&&(f.colorScale=(0,v.colorDomainToRgbaArray)(a.colorRange)),f}return o(t,e),s(t,[{key:"rerender",value:function(){function e(e,n){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rerender",this).call(this,e,n),this.zoomed(this.xScale(),this.yScale(),this.pMain.scale.x,this.pMain.position.x,this.pMain.position.y)}return e}()},{key:"calculateZoomLevel",value:function(){function e(){if(this.tilesetInfo.resolutions){var e=p.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=p.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);return Math.min(e,t)}var n=p.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),r=p.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),i=Math.max(n,r);return i=Math.min(i,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?i=Math.min(this.options.maxZoom,i):console.error("Invalid maxZoom on track:",this)),i}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var e=this._xScale.copy();this._xScale.domain()[1],this._xScale.domain()[0],this._xScale.range()[1],this._xScale.range()[0];if(e.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map(function(e){return+e}).sort(function(e,t){return t-e});this.xTiles=p.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=p.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=p.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=p.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var n=this.xTiles,r=this.yTiles,i=this.zoomLevel,o=this.tilesetInfo.max_width,a=o/Math.pow(2,i),s=[],l=0;l<n.length;l++)for(var u=l;u<r.length;u++){var c=(u-l-2)*(this._xScale(a)-this._xScale(0))*Math.sqrt(2)/2;if(!(c>this.dimensions[1])){var f=[i,n[l],r[u]];f.mirrored=!1,f.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",s.push(f)}}this.setVisibleTiles(s)}}return e}()},{key:"tileDataToCanvas",value:function(){function e(e){var t=document.createElement("canvas");t.width=256,t.height=256;var n=t.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height);var r=new ImageData(e,t.width,t.height);return n.putImageData(r,0,0),t}return e}()},{key:"setSpriteProperties",value:function(){function e(e,t,n,r){var i=this.getTilePosAndDimensions(t,n),o=i.tileX,a=i.tileY,s=i.tileWidth,l=i.tileHeight,u=o+s,c=a+l;this._refXScale(u),this._refXScale(o),this._refYScale(c),this._refYScale(a);e.width=this._refXScale(u)-this._refXScale(o),e.height=this._refYScale(c)-this._refYScale(a),e.x=this._refXScale(o),e.y=this._refYScale(a)}return e}()},{key:"renderTile",value:function(){function e(e){var t=this,n=(0,f.getValueScale)(this.options.heatmapValueScaling,this.scale.minValue,this.medianVisibleValue,this.scale.maxValue,"log"),r=a(n,2),i=r[0],o=r[1];this.valueScale=o;var s=0;"log"==i&&(s=this.valueScale.domain()[0]),this.limitedValueScale=this.valueScale.copy(),this.options&&void 0!==this.options.scaleStartPercent&&void 0!==this.options.scaleEndPercent&&this.limitedValueScale.domain([this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleStartPercent,this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleEndPercent]),p.tileProxy.tileDataToPixData(e,this.limitedValueScale,s,this.colorScale,function(n){var r=e.graphics,i=t.tileDataToCanvas(n),o=null;o=e.tileData.zoomLevel===t.maxZoom?new c.Sprite(c.Texture.fromCanvas(i,c.SCALE_MODES.NEAREST)):new c.Sprite(c.Texture.fromCanvas(i)),e.sprite=o,e.canvas=i,t.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored),r.pivot.x=t._refXScale(0),r.pivot.y=t._refYScale(0),r.scale.x=-1/Math.sqrt(2),r.rotation=-3*Math.PI/4,r.scale.y=1/Math.sqrt(2),r.position.x=t._refXScale(0),r.position.y=0,r.removeChildren(),r.addChild(e.sprite)})}return e}()},{key:"refScalesChanged",value:function(){function e(e,n){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refScalesChanged",this).call(this,e,n);for(var r in this.fetchedTiles){var i=this.fetchedTiles[r];if(i.sprite){this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos,i.mirrored);var o=i.graphics;o.pivot.x=this._refXScale(0),o.pivot.y=this._refYScale(0),o.scale.x=-1/Math.sqrt(2),o.rotation=-3*Math.PI/4,o.scale.y=1/Math.sqrt(2),o.position.x=this._refXScale(0),o.position.y=0}}}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,o){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n,r,i,o),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this),this.pMain.position.x=i,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=r,this.pMain.scale.y=r,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-r,this.pMain.position.y=this.position[1])}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null,r=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"superSVG",this).call(this),i=a(r,2);n=i[0],e=i[1];var o=document.createElement("g");e.appendChild(o),o.setAttribute("transform","translate("+this.pMain.position.x+","+this.pMain.position.y+") scale("+this.pMain.scale.x+","+this.pMain.scale.y+")");var s=!0,u=!1,c=void 0;try{for(var f,h=this.visibleAndFetchedTiles()[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var d=f.value,p=document.createElement("g"),v=d.graphics,m=180*v.rotation/Math.PI,g="translate("+v.position.x+","+v.position.y+") rotate("+m+") scale("+v.scale.x+","+v.scale.y+") translate("+-v.pivot.x+","+-v.pivot.y+")";p.setAttribute("transform",g);var y=180*d.sprite.rotation/Math.PI,b=document.createElement("g");b.setAttribute("transform","translate("+d.sprite.x+","+d.sprite.y+") rotate("+y+") scale("+d.sprite.scale.x+","+d.sprite.scale.y+")");var w=document.createElement("image");w.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.canvas.toDataURL()),w.setAttribute("width",256),w.setAttribute("height",256),b.appendChild(w),p.appendChild(b),o.appendChild(p)}}catch(e){u=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(u)throw c}}var x=this.exportColorBarSVG();return e.appendChild(x),[n,n]}return e}()}]),t}(d.default);t.default=g},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalItem=void 0;var i=n(0),o=r(i),a=n(49),s=n(274),l=r(s),u=t.HorizontalItem=(0,a.SortableElement)(function(e){return o.default.createElement(l.default,{className:e.className,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})});t.default=u},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),l=(n(25),n(12),n(4),n(8)),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(l),n(30),n(65)),c=(n(64),n(7)),f=(n(3),n(6),function(e){function t(e,n,o,a,s,l,u,c){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,l,u,c))}return o(t,e),a(t,[{key:"tileDataToCanvas",value:function(){function e(e){var t=document.createElement("canvas");t.width=this.tilesetInfo.shape[0],t.height=this.tilesetInfo.shape[1];var n=t.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height);var r=new ImageData(e,t.width,t.height);return n.putImageData(r,0,0),t}return e}()},{key:"setSpriteProperties",value:function(){function e(e,t,n,r){var i=this.getTilePosAndDimensions(t,n,this.tilesetInfo.tile_size),o=i.tileX,a=(i.tileY,i.tileWidth),s=(i.tileHeight,o+a);e.width=this._refXScale(s)-this._refXScale(o),e.height=this.dimensions[1],e.x=this._refXScale(o),e.y=0}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,o){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n),this.pMain.position.x=i,this.pMain.position.y=this.position[1],this.pMain.scale.x=r,this.pMain.scale.y=1,this.drawColorbar()}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){var e=this;!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var t=this.tilesetInfo.resolutions.map(function(e){return+e}).sort(function(e,t){return t-e});this.xTiles=c.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],null,this.tilesetInfo.tile_size);var n=this.xTiles.map(function(t){return[e.zoomLevel,t]});this.setVisibleTiles(n)}}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=this.tilesetInfo.min_pos[0];return c.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,e)}return e}()},{key:"tileToLocalId",value:function(){function e(e){return e.dataTransform&&"default"!=e.dataTransform?e.join(".")+"."+e.mirrored+"."+e.dataTransform:e.join(".")+"."+e.mirrored}return e}()},{key:"tileToLocalId",value:function(){function e(e){return""+e.join(".")}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return""+e.join(".")}return e}()}]),t}(u.HeatmapTiledPixiTrack));t.default=f},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalPoint1DPixiTrack=void 0;var a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),u=n(12),c=n(66),f=n(3),h=t.HorizontalPoint1DPixiTrack=function(e){function t(e,n,o,a,s,l){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,l))}return o(t,e),s(t,[{key:"initTile",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initTile",this).call(this,e),e.barXValues=new Array(e.tileData.dense.length),e.barYValues=new Array(e.tileData.dense.length),e.barWidths=new Array(e.tileData.dense.length),e.barHeights=new Array(e.tileData.dense.length),this.renderTile(e)}return e}()},{key:"drawTile",value:function(){function e(e){}return e}()},{key:"renderTile",value:function(){function e(e){if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,r=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),i=r.tileX,o=r.tileWidth,a=e.tileData.dense;if(0!=a.length){var s=0;if(this.valueScale=null,"log"==this.options.valueScaling){var c=this.medianVisibleValue;this.medianVisibleValue||(c=this.minVisibleValue()),this.valueScale=(0,u.scaleLog)().domain([c,this.maxValue()+c]).range([this.dimensions[1],0]),s=c}else this.valueScale=(0,u.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(n.clear(),this.drawAxis(this.valueScale),"log"==this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());var h=(0,f.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),d=(0,u.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([i,i+o]);n.lineStyle(0,h,1);var p=this.options.pointSize?this.options.pointSize:3,v=(0,f.colorToHex)(this.options.pointColor?this.options.pointColor:"red");n.beginFill(v,1);e.drawnAtScale=this._xScale.copy();for(var m=0;m<a.length;m++){var g=this._xScale(d(m)),y=this.valueScale(a[m]+s);if(e.barXValues[m]=g-p/2/this.pMain.scale.x,e.barYValues[m]=y-p/2/this.pMain.scale.y,e.barWidths[m]=p/this.pMain.scale.x,e.barHeights[m]=p/this.pMain.scale.y,d(m)>this.tilesetInfo.max_pos[0])break;n.drawRect(g-p/2/this.pMain.scale.x,y-p/2/this.pMain.scale.y,p/this.pMain.scale.x,p/this.pMain.scale.y)}}}}return e}()},{key:"draw",value:function(){function e(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this);var e=!0,n=!1,r=void 0;try{for(var i,o=(0,f.dictValues)(this.fetchedTiles)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,s=(a.drawnAtScale.domain()[1]-a.drawnAtScale.domain()[0])/(this._xScale.domain()[1]-this._xScale.domain()[0]),u=this._xScale.domain().map(a.drawnAtScale),c=u[0];a.graphics.scale.x=s,a.graphics.position.x=-c*s}}catch(e){n=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}return e}()},{key:"zoomed",value:function(){function e(e,n,r,i,o){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n)}return e}()},{key:"exportSVG",value:function(){function e(){var e=null,n=null,r=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"superSVG",this).call(this),i=a(r,2);n=i[0],e=i[1],n.setAttribute("class","exported-line-track");var o=document.createElement("g");e.appendChild(o),o.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")");var s=(this.options.lineStrokeColor&&this.options.lineStrokeColor,!0),u=!1,c=void 0;try{for(var f,h=this.visibleAndFetchedTiles()[Symbol.iterator]();!(s=(f=h.next()).done);s=!0)for(var d=f.value,p=0;p<d.barXValues.length;p++){var v=document.createElement("rect"),m=this.options.lineStrokeColor||"blue",g=this.options.pointColor||"red";v.setAttribute("fill",g),v.setAttribute("stroke",m),v.setAttribute("stroke-width",0),v.setAttribute("x",d.barXValues[p]),v.setAttribute("y",d.barYValues[p]),v.setAttribute("height",d.barHeights[p]),v.setAttribute("width",d.barWidths[p]),o.appendChild(v)}}catch(e){u=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(u)throw c}}var y=document.createElement("g");if(y.setAttribute("id","axis"),n.appendChild(y),y.setAttribute("transform","translate("+this.axis.pAxis.position.x+", "+this.axis.pAxis.position.y+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var b=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);y.appendChild(b)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var w=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);y.appendChild(w)}return[n,e]}return e}()}]),t}(c.HorizontalLine1DPixiTrack);t.default=h},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalTiledPlot=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),u=r(l),c=n(2),f=r(c),h=n(0),d=r(h),p=n(25),v=n(4),m=n(10),g=r(m),y=n(145),b=r(y),w=n(270),x=r(w),k=n(149),_=r(k),S=n(3),T=n(6),O=n(510),C=(r(O),n(122)),P=r(C),E=n(123),M=(r(E),{styles:{"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4"}}),A=t.HorizontalTiledPlot=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.brushBehavior=(0,p.brushX)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){this.props.isRangeSelectionActive&&this.addBrush()}return e}()},{key:"shouldComponentUpdate",value:function(){function e(e,t){return this.rangeSelectionTriggered?(this.rangeSelectionTriggered=!1,this.state!==t):this.props.rangeSelection===e.rangeSelection||(this.props.chromInfo&&this.moveBrush(e.rangeSelection[0]?(0,S.genomeLociToPixels)(e.rangeSelection[0],this.props.chromInfo):null),this.state!==t)}return e}()},{key:"componentDidUpdate",value:function(){function e(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}return e}()},{key:"addBrush",value:function(){function e(){this.brushEl&&this.brushElAddedBefore!==this.brushEl&&(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl)}return e}()},{key:"brushed",value:function(){function e(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,v.event.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(v.event.selection))}return e}()},{key:"brushStarted",value:function(){function e(){v.event.sourceEvent&&v.event.selection&&this.props.onRangeSelectionStart()}return e}()},{key:"brushedEnded",value:function(){function e(){!v.event.selection&&this.props.is1dRangeSelection&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionEnd())}return e}()},{key:"moveBrush",value:function(){function e(e){if(this.brushEl){var t=e?[this.props.scale(e[0]),this.props.scale(e[1])]:null;this.rangeSelectionMoved=!0,this.brushEl.call(this.brushBehavior.move,t)}}return e}()},{key:"removeBrush",value:function(){function e(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionEnd())}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.props.tracks.map(function(e){return e.height}).reduce(S.sum,0),n=this.props.tracks.map(function(e){return(0,T.IS_TRACK_RANGE_SELECTABLE)(e)}).reduce(S.or,!1),r=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return d.default.createElement("div",{className:"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},n&&d.default.createElement("svg",{ref:function(){function t(t){return e.brushEl=(0,v.select)(t)}return t}(),style:{height:t,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,u.default)(r,M)}),d.default.createElement(b.default,{className:P.default.list+" "+P.default.stylizedList,component:_.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:t,helperClass:P.default.stylizedHelper,itemClass:P.default.stylizedItem,itemReactClass:x.default,items:this.props.tracks.map(function(t){return{configMenuVisible:t.uid===e.props.configTrackMenuId,uid:t.uid||g.default.nice(),width:e.props.width,height:t.height,value:t.value}}),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:this.props.width}))}return e}()}]),t}(d.default.Component);A.propTypes={configTrackMenuId:f.default.string,chromInfo:f.default.object,editable:f.default.bool,handleConfigTrack:f.default.func,handleResizeTrack:f.default.func,handleSortEnd:f.default.func,is1dRangeSelection:f.default.bool,isRangeSelectionActive:f.default.bool,onAddSeries:f.default.func,onCloseTrack:f.default.func,onCloseTrackMenuOpened:f.default.func,onConfigTrackMenuOpened:f.default.func,onRangeSelection:f.default.func,onRangeSelectionEnd:f.default.func,onRangeSelectionStart:f.default.func,rangeSelection:f.default.array,referenceAncestor:f.default.func,resizeHandles:f.default.object,scale:f.default.func,tracks:f.default.array,width:f.default.number},t.default=A},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalTrack=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(146),f=r(c),h=n(89),d=r(h),p={pointerEvents:"all"},v=t.HorizontalTrack=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getControls",value:function(){function e(e){return u.default.createElement(d.default,{configMenuVisible:this.props.item.configMenuVisible,imgStyleAdd:p,imgStyleClose:p,imgStyleMove:p,imgStyleSettings:p,isMoveable:this.moveable,isVisible:e,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}return e}()}]),t}(f.default);t.default=v},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Id2DTiledPixiTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(8),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),u=n(65),c=t.Id2DTiledPixiTrack=function(e){function t(e,n,o,a,s){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s))}return o(t,e),a(t,[{key:"areAllVisibleTilesLoaded",value:function(){function e(){return!0}return e}()},{key:"initTile",value:function(){function e(e){var t=e.graphics;e.textGraphics=new l.Graphics,e.mirrored?e.text=new l.Text(e.tileData.zoomLevel+"/"+[e.tileData.tilePos[1],e.tileData.tilePos[0]].join("/"),{fontFamily:"Arial",fontSize:48,fill:16715792,align:"center"}):e.text=new l.Text(e.tileData.zoomLevel+"/"+e.tileData.tilePos.join("/"),{fontFamily:"Arial",fontSize:48,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics),this.drawTile(e,t)}return e}()},{key:"destroyTile",value:function(){function e(e,t){}return e}()},{key:"drawTile",value:function(){function e(e){if(e.graphics){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),r=n.tileX,i=n.tileY,o=n.tileWidth,a=(n.tileHeight,1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0)))),s=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));if(e.text.scale.x=a,e.text.scale.y=s,t.clear(),t.lineStyle(4*a,255,1),t.beginFill(16740363,.4),t.alpha=.5,e.mirrored){var l=this._refXScale(i+o)-this._refXScale(i),u=this._refYScale(r+o)-this._refYScale(r);e.textGraphics.position.x=this._refXScale(i)+l/2,e.textGraphics.position.y=this._refYScale(r)+u/2,t.drawRect(this._refXScale(i),this._refYScale(r),l,u)}else{var c=this._refXScale(r+o)-this._refXScale(r),f=this._refYScale(i+o)-this._refYScale(i);e.textGraphics.position.x=this._refXScale(r)+c/2,e.textGraphics.position.y=this._refYScale(i)+f/2;this._refXScale(r),this._refYScale(i);t.drawRect(this._refXScale(r),this._refYScale(i),c,f)}}}return e}()},{key:"fetchNewTiles",value:function(){function e(e){var t=this;e.map(function(e){var n=e.remoteId,r=n.split("."),i={zoomLevel:r[0],tilePos:r.slice(1,r.length).map(function(e){return+e})};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=i,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)}),this.synchronizeTilesAndGraphics()}return e}()}]),t}(u.HeatmapTiledPixiTrack);t.default=c},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.IdHorizontal1DTiledPixiTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),l=n(52),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=t.IdHorizontal1DTiledPixiTrack=function(e){function t(e,n,o,a,s){r(this,t);var l=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s));return l.pMain=l.pMobile,l}return o(t,e),a(t,[{key:"areAllVisibleTilesLoaded",value:function(){function e(){return!0}return e}()},{key:"initTile",value:function(){function e(e){var t=e.graphics;e.textGraphics=new PIXI.Graphics,e.text=new PIXI.Text(e.tileData.zoomLevel+"/"+e.tileData.tilePos.join("/"),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics),this.drawTile(e)}return e}()},{key:"destroyTile",value:function(){function e(e){}return e}()},{key:"drawTile",value:function(){function e(e){if(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,r=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),i=r.tileX,o=(r.tileY,r.tileWidth),a=(r.tileHeight,1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0))));e.text.scale.x=a,n.clear();var l=this.dimensions[1],u=this._refXScale(i+o)-this._refXScale(i);e.textGraphics.position.x=this._refXScale(i)+u/2,e.textGraphics.position.y=l/2;var c=this._refXScale(i);n.lineStyle(4*a,255,1),n.beginFill(16740363,.4),n.alpha=.5,n.moveTo(c,0),n.lineTo(c,l),n.moveTo(c+u,0),n.lineTo(c+u,l),n.lineStyle(0,255,1),n.drawRect(c,0,u,l)}}return e}()},{key:"fetchNewTiles",value:function(){function e(e){var t=this;e.map(function(e){var n=e.remoteId,r=n.split("."),i={zoomLevel:r[1],tilePos:r.slice(2,r.length).map(function(e){return+e})};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=i,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)}),this.synchronizeTilesAndGraphics()}return e}()}]),t}(u.default);t.default=c},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.IdVertical1DTiledPixiTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),l=n(8),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=n(293),f=function(e){return e&&e.__esModule?e:{default:e}}(c),h=t.IdVertical1DTiledPixiTrack=function(e){function t(e,n,o,a,s){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s))}return o(t,e),a(t,[{key:"areAllVisibleTilesLoaded",value:function(){function e(){return!0}return e}()},{key:"initTile",value:function(){function e(e){var t=e.graphics;e.textGraphics=new u.Graphics,e.text=new u.Text(e.tileData.zoomLevel+"/"+e.tileData.tilePos.join("/"),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,e.text.rotation=-Math.PI/2,t.addChild(e.textGraphics),this.drawTile(e,t)}return e}()},{key:"destroyTile",value:function(){function e(e,t){}return e}()},{key:"drawTile",value:function(){function e(e){if(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,r=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),i=r.tileY,o=r.tileHeight,a=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));e.text.scale.x=a,n.clear(),n.lineStyle(4*a,255,1),n.beginFill(16740363,.4),n.alpha=.5;var l=this.dimensions[0],u=this._refYScale(i+o)-this._refYScale(i);e.textGraphics.position.x=l/2,e.textGraphics.position.y=this._refYScale(i)+u/2,n.drawRect(0,this._refYScale(i),l,u)}}return e}()},{key:"fetchNewTiles",value:function(){function e(e){var t=this;e.map(function(e){var n=e.remoteId,r=n.split("."),i={zoomLevel:r[1],tilePos:r.slice(2,r.length).map(function(e){return+e})};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=i,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)}),this.synchronizeTilesAndGraphics()}return e}()}]),t}(f.default);t.default=h},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LeftAxisTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),l=n(172),u=n(53),c=t.LeftAxisTrack=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.axis=(0,l.axisLeft)(n._yScale),n.gAxis=n.gMain.append("g"),n.tilesetInfo=!0,n}return o(t,e),a(t,[{key:"setDimensions",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDimensions",this).call(this,e),this.axis.ticks(Math.ceil(this.dimensions[1]/150)),this.gAxis.attr("transform","translate("+e[0]+",0)")}return e}()},{key:"draw",value:function(){function e(){return this.axis.scale(this._yScale),this.gAxis.call(this.axis),this}return e}()},{key:"zoomed",value:function(){function e(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n),this.draw()}return e}()}]),t}(u.SVGTrack);t.default=c},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.LeftTrackModifier=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(8),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),s=t.LeftTrackModifier=function(){function e(t){r(this,e),this.scene=t.scene,this.originalTrack=t,this.pBase=new a.Graphics,this.scene.removeChild(t.pBase),this.scene.addChild(this.pBase),this.moveToOrigin=new a.Graphics,this.moveToOrigin.addChild(t.pBase),this.pBase.addChild(this.moveToOrigin),this.moveToOrigin.rotation=Math.PI/2,t.flipText=!0,this.svgOutput=null,t.gBase&&t.gMain&&(this.originalTrack.gBase.attr("transform","translate("+this.moveToOrigin.position.x+","+this.moveToOrigin.position.y+")\n                             rotate(90)\n                             scale("+this.moveToOrigin.scale.x+","+this.moveToOrigin.scale.y+")"),this.originalTrack.gMain.attr("transform","translate("+this.originalTrack.pBase.position.x+","+this.originalTrack.pBase.position.y+")"))}return i(e,[{key:"remove",value:function(){function e(){this.originalTrack.remove(),this.pBase.clear(),this.scene.removeChild(this.pBase)}return e}()},{key:"setDimensions",value:function(){function e(e){this.dimensions=e;var t=[e[1],e[0]];this.originalTrack.setDimensions(t)}return e}()},{key:"setPosition",value:function(){function e(e){this.position=e,this.originalTrack.setPosition(e),this.originalTrack.pBase.position.x=-this.originalTrack.position[0],this.originalTrack.pBase.position.y=-this.originalTrack.position[1],this.moveToOrigin.scale.y=-1,this.moveToOrigin.scale.x=1,this.moveToOrigin.position.x=this.originalTrack.position[0],this.moveToOrigin.position.y=this.originalTrack.position[1],this.originalTrack.gMain&&(this.originalTrack.gBase.attr("transform","translate("+this.moveToOrigin.position.x+","+this.moveToOrigin.position.y+")\n                                 rotate(90)\n                                 scale("+this.moveToOrigin.scale.x+","+this.moveToOrigin.scale.y+")"),this.originalTrack.gMain.attr("transform","translate("+this.originalTrack.pBase.position.x+","+this.originalTrack.pBase.position.y+")"))}return e}()},{key:"refXScale",value:function(){function e(e){return arguments.length?(this.originalTrack._refXScale=e,this):this.originalTrack._refYScale}return e}()},{key:"refYScale",value:function(){function e(e){return arguments.length?(this.originalTrack._refYScale=e,this):this.originalTrack._refXScale}return e}()},{key:"xScale",value:function(){function e(e){return arguments.length?(this.originalTrack._yScale=e,this):this.originalTrack._xScale}return e}()},{key:"yScale",value:function(){function e(e){return arguments.length?(this.originalTrack._xScale=e,this):this.originalTrack._yScale}return e}()},{key:"draw",value:function(){function e(){this.originalTrack.draw()}return e}()},{key:"zoomed",value:function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&void 0!==arguments[6]&&arguments[6];this.xScale(e),this.yScale(t),this.originalTrack.refreshTiles();var r=this.originalTrack._xScale(0)-n*this.originalTrack._refXScale(0);this.originalTrack.pMobile.position.x=r+this.originalTrack.position[0],this.originalTrack.pMobile.position.y=this.originalTrack.position[1]+this.originalTrack.dimensions[1],this.originalTrack.pMobile.scale.x=n,this.originalTrack.pMobile.scale.y=n,this.originalTrack.options.oneDHeatmapFlipped&&(this.originalTrack.pMobile.scale.y=-n,this.originalTrack.pMobile.position.y=this.originalTrack.position[1]),this.originalTrack.draw()}return e}()},{key:"refScalesChanged",value:function(){function e(e,t){this.originalTrack.refScalesChanged(t,e)}return e}()},{key:"rerender",value:function(){function e(e){this.originalTrack.rerender(e)}return e}()},{key:"exportSVG",value:function(){function e(){var e=document.createElement("g");if(e.setAttribute("transform","translate("+this.moveToOrigin.position.x+","+this.moveToOrigin.position.y+")\n                             rotate(90)\n                             scale("+this.moveToOrigin.scale.x+","+this.moveToOrigin.scale.y+")"),this.originalTrack.exportSVG){var t=document.createElement("g");t.setAttribute("transform","translate("+this.originalTrack.pBase.position.x+", "+this.originalTrack.pBase.position.y+")"),t.appendChild(this.originalTrack.exportSVG()[0]),e.appendChild(t)}return[e,e]}return e}()}]),e}();t.default=s},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MapboxTilesTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),l=n(147),u=t.MapboxTilesTrack=function(e){function t(e,n,o){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o));return a.currentStyle=n.mapboxStyle,a}return o(t,e),a(t,[{key:"rerender",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rerender",this).call(this,e),e.mapboxStyle!=this.currentStyle&&(this.currentStyle=e.mapboxStyle,this.removeAllTiles(),this.refreshTiles())}return e}()},{key:"getTileUrl",value:function(){function e(e){var t="mapbox.streets";this.options&&this.options.mapboxStyle&&(t=this.options.mapboxStyle);return"http://api.tiles.mapbox.com/v4/"+t+"/"+e[0]+"/"+e[1]+"/"+e[2]+".png?access_token=pk.eyJ1IjoicGtlcnBlZGppZXYiLCJhIjoiY2o1OW44dnN0MGFqZDMxcXFoYW04cmh4biJ9.WGEDSUhcn4W4x7IaA8DFRw"}return e}()}]),t}(l.OSMTilesTrack);t.default=u},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NestedContextMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(50),f=r(c),h=n(51),d=r(h);n(40);var p=t.NestedContextMenu=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getSubmenu",value:function(){function e(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,n="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top},r=this.state.submenuShown;return u.default.createElement(t,{menuItems:r.children,orientation:this.state.orientation,parentBbox:e,position:n})}return u.default.createElement("div",null)}return e}()},{key:"componentWillUnmount",value:function(){function e(){}return e}()},{key:"render",value:function(){function e(){var e=this,t=[],n=function(){function n(n){var r=e.props.menuItems[n];t.push(u.default.createElement(d.default,{key:n,onClick:r.handler?r.handler:function(){return null},onMouseEnter:r.children?function(t){return e.handleItemMouseEnter(t,r)}:e.handleOtherMouseEnter.bind(e),onMouseLeave:e.handleMouseLeave},r.name,r.children&&u.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},u.default.createElement("use",{xlinkHref:"#play"}))))}return n}();for(var r in this.props.menuItems)n(r);return u.default.createElement("div",{ref:function(){function t(t){return e.div=t}return t}(),style:{left:this.state.left,top:this.state.top},className:"ContextMenu-module_context-menu-2OwvL"},t,this.getSubmenu())}return e}()}]),t}(f.default);t.default=p},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PlotTypeChooser=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(6);n(506);var c=t.PlotTypeChooser=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.DATATYPE_TO_TRACK_TYPE=(0,u.DATATYPE_TO_TRACK_TYPE)(n.props.orientation),n.AVAILABLE_TRACK_TYPES=(0,u.AVAILABLE_TRACK_TYPES)(n.props.datatypes,n.props.orientation),n.state={selectedPlotType:n.AVAILABLE_TRACK_TYPES[0]},n}return o(t,e),a(t,[{key:"componentWillReceiveProps",value:function(){function e(e){this.AVAILABLE_TRACK_TYPES=(0,u.AVAILABLE_TRACK_TYPES)(e.datatypes,this.props.orientation),this.AVAILABLE_TRACK_TYPES&&this.AVAILABLE_TRACK_TYPES.length>0&&(this.AVAILABLE_TRACK_TYPES.includes(this.state.selectedPlotType)||this.handlePlotTypeSelected(this.AVAILABLE_TRACK_TYPES[0]))}return e}()},{key:"handlePlotTypeSelected",value:function(){function e(e){this.setState({selectedPlotType:e}),this.props.onPlotTypeSelected(e.type)}return e}()},{key:"render",value:function(){function e(){var e=this,t="No plot types available for track",n={};return u.TRACKS_INFO.forEach(function(e){n[e.type]=e}),this.AVAILABLE_TRACK_TYPES&&(t=this.AVAILABLE_TRACK_TYPES.sort(function(e,t){return e.type<t.type}).map(function(t){var r=n[t.type].thumbnail,i=e.state.selectedPlotType.type==t.type?"plot-type-selected":"unselected",o=n[t.type].thumbnail?l.default.createElement("div",{style:{display:"inline-block",marginRight:10,verticalAlign:"middle"},dangerouslySetInnerHTML:{__html:r.outerHTML}}):l.default.createElement("div",{style:{display:"inline-block",marginRight:10,verticalAlign:"middle"}},l.default.createElement("svg",{width:30,height:20}));return l.default.createElement("li",{className:i,key:t.type,onClick:function(){function n(n){e.setState({selectedPlotType:t}),e.props.onPlotTypeSelected(t.type)}return n}(),style:{listStyle:"none",paddingLeft:5,paddingBottom:0}},o,l.default.createElement("span",{style:{verticalAlign:"middle"}},t.type))})),l.default.createElement("div",null,t)}return e}()}]),t}(l.default.Component);t.default=c},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SeriesListMenu=t.ConfigureSeriesMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),u=r(l),c=n(0),f=r(c),h=n(50),d=r(h),p=n(51),v=r(p),m=n(281),g=r(m),y=n(6);n(40);var b={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}};t.ConfigureSeriesMenu=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){function e(){var e=this;return f.default.createElement("div",{onMouseLeave:this.props.handleMouseLeave,ref:function(){function t(t){return e.div=t}return t}(),style:{left:this.state.left,top:this.state.top},className:(0,u.default)("context-menu",b)})}return e}()}]),t}(d.default),t.SeriesListMenu=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getConfigureSeriesMenu",value:function(){function e(e,t,n){var r=this,i={};if(!y.TRACKS_INFO_BY_TYPE[n.type].availableOptions)return null;var o=!0,a=!1,s=void 0;try{for(var l,u=function(){function e(){var e=l.value;if(y.OPTIONS_INFO.hasOwnProperty(e)){if(i[e]={name:y.OPTIONS_INFO[e].name},y.OPTIONS_INFO[e].generateOptions){var t=y.OPTIONS_INFO[e].generateOptions(n);i[e].children||(i[e].children={});var o=!0,a=!1,s=void 0;try{for(var u,c=function(){function t(){var t=u.value,o={name:t.name,value:t.value,handler:function(){function i(){n.options[e]=t.value,r.props.onTrackOptionsChanged(n.uid,n.options),r.props.closeMenu()}return i}()};i[e].children[t.value]=o}return t}(),f=t[Symbol.iterator]();!(o=(u=f.next()).done);o=!0)c()}catch(e){a=!0,s=e}finally{try{!o&&f.return&&f.return()}finally{if(a)throw s}}}if(y.OPTIONS_INFO[e].inlineOptions){var h=function(){function t(t){var o=y.OPTIONS_INFO[e].inlineOptions[t];i[e].children||(i[e].children={});var a={name:o.name,value:o.value};o.componentPickers&&o.componentPickers[n.type]?a.handler=function(){r.props.onConfigureTrack(n,o.componentPickers[n.type]),r.props.closeMenu()}:a.handler=function(){n.options[e]=o.value,r.props.onTrackOptionsChanged(n.uid,n.options),r.props.closeMenu()},i[e].children[t]=a}return t}();for(var d in y.OPTIONS_INFO[e].inlineOptions)h(d)}else y.OPTIONS_INFO[e].componentPickers&&y.OPTIONS_INFO[e].componentPickers[n.type]&&(i[e].handler=function(){r.props.onConfigureTrack(n,y.OPTIONS_INFO[e].componentPickers[n.type]),r.props.closeMenu()})}}return e}(),c=y.TRACKS_INFO_BY_TYPE[n.type].availableOptions[Symbol.iterator]();!(o=(l=c.next()).done);o=!0)u()}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return f.default.createElement(g.default,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:i,orientation:this.state.orientation,parentBbox:t,position:e})}return e}()},{key:"getTrackTypeItems",value:function(){function e(e,t,n){for(var r=this,i=y.TRACKS_INFO_BY_TYPE[n.type].datatype[0],o=y.TRACKS_INFO_BY_TYPE[n.type].orientation,a=y.TRACKS_INFO.filter(function(e){return e.datatype}).filter(function(e){return e.orientation}).filter(function(e){return e.datatype[0]==i}).filter(function(e){return e.orientation==o}).map(function(e){return e.type}),s={},l=function(){function e(e){s[a[e]]={value:a[e],name:a[e],handler:function(){function t(){r.props.onChangeTrackType(n.uid,a[e])}return t}()}}return e}(),u=0;u<a.length;u++)l(u);return f.default.createElement(g.default,{key:"track-type-items",closeMenu:this.props.closeMenu,menuItems:s,orientation:this.state.orientation,parentBbox:t,position:e})}return e}()},{key:"getSubmenu",value:function(){function e(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,t="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top},n=this.state.submenuShown,r=n.value;return"track-type"==n.option?this.getTrackTypeItems(t,e,r):this.getConfigureSeriesMenu(t,e,r)}return f.default.createElement("div",null)}return e}()},{key:"render",value:function(){function e(){var e=this;return f.default.createElement("div",{onMouseLeave:this.props.handleMouseLeave,ref:function(){function t(t){return e.div=t}return t}(),style:{left:this.state.left,top:this.state.top},className:"ContextMenu-module_context-menu-2OwvL"},f.default.createElement(v.default,{onClick:this.props.onConfigureTrack,onMouseEnter:function(){function t(t){return e.handleItemMouseEnter(t,{option:"configure-series",value:e.props.track})}return t}(),onMouseLeave:function(){function t(t){return e.handleMouseLeave(t)}return t}()},"Configure Series",f.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},f.default.createElement("use",{xlinkHref:"#play"}))),f.default.createElement(v.default,{onClick:function(){function e(){}return e}(),onMouseEnter:function(){function t(t){return e.handleItemMouseEnter(t,{option:"track-type",value:e.props.track})}return t}(),onMouseLeave:function(){function t(t){return e.handleMouseLeave(t)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Track Type",f.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},f.default.createElement("use",{xlinkHref:"#play"})))),null,f.default.createElement(v.default,{onClick:this.props.onCloseTrack,onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Close Series")),f.default.createElement(v.default,{onClick:function(){function t(){e.props.onCloseTrack(e.props.series.uid),e.props.onAddSeries(e.props.hostTrack.uid)}return t}(),onMouseEnter:function(){function t(t){return e.handleOtherMouseEnter(t)}return t}(),className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Replace Series")),this.getSubmenu())}return e}()}]),t}(d.default)},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SquareMarkersTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),l=n(30),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(7),f=n(3),h=t.SquareMarkersTrack=function(e){function t(e,n,o,a,s,l){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,a,s,l));return u.drawnRects=new Set,u}return o(t,e),a(t,[{key:"tileToLocalId",value:function(){function e(e){return""+e.join(".")}return e}()},{key:"tileToRemoteId",value:function(){function e(e){return""+e.join(".")}return e}()},{key:"localToRemoteId",value:function(){function e(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}return e}()},{key:"calculateZoomLevel",value:function(){function e(){var e=c.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=c.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom)}return e}()},{key:"setVisibleTiles",value:function(){function e(e){var t=this;this.visibleTiles=e.map(function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}}),this.visibleTileIds=new Set(this.visibleTiles.map(function(e){return e.tileId}))}return e}()},{key:"calculateVisibleTiles",value:function(){function e(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=c.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=c.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}}return e}()},{key:"initTile",value:function(){function e(e){}return e}()},{key:"destroyTile",value:function(){function e(e,t){}return e}()},{key:"draw",value:function(){function e(){this.drawnRects.clear(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this)}return e}()},{key:"drawTile",value:function(){function e(e){if(e.graphics){var t=e.graphics;t.clear();var n=(0,f.colorToHex)("green");t.lineStyle(1,255,1),t.beginFill(n,.8),t.alpha=.5;var r=!0,i=!1,o=void 0;try{for(var a,s=e.tileData[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,u=(l.fields,this._xScale(l.xStart)),c=this._xScale(l.xEnd),h=this._yScale(l.yStart),d=this._yScale(l.yEnd),p=l.uid;if(!this.drawnRects.has(p)){this.drawnRects.add(p);var v=d-h,m=c-u,g=(u+c)/2,y=(h+d)/2;v<6&&(v=6),m<6&&(m=6),t.drawRect(g-v/2,y-m/2,v,m)}}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}}return e}()},{key:"setPosition",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}return e}()}]),t}(u.default);t.default=h},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TiledPlot=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(10),u=r(l),c=n(0),f=r(c),h=n(11),d=r(h),p=n(2),v=r(p),m=n(158),g=n(252),y=r(g),b=n(289),w=r(b),x=n(246),k=r(x),_=n(258),S=r(_),T=n(256),O=r(T),C=n(87),P=r(C),E=n(50),M=r(E),A=n(273),j=r(A),R=n(294),I=r(R),D=(n(7),n(3)),L=n(6),z=n(122),B=(r(z),n(206)),N=(r(B),t.TiledPlot=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.closing=!1,n.yPositionOffset=0;var r=n.props.tracks;return n.xScale=null,n.yScale=null,n.addUidsToTracks(r),n.trackRenderers={},n.trackToReplace=null,n.addTrackModal=null,n.configTrackMenu=null,n.state={sizeMeasured:!1,height:10,width:10,yPositionOffset:0,xPositionOffset:0,tracks:r,addTrackPosition:null,mouseOverOverlayUid:null,forceUpdate:0,rangeSelection:[null,null],chromInfo:null},n.topHeight=0,n.bottomHeight=0,n.leftWidth=0,n.rightWidth=0,n.centerHeight=0,n.centerWidth=0,n.dragTimeout=null,n.previousPropsStr="",n}return a(t,e),s(t,[{key:"waitForDOMAttachment",value:function(){function e(e){var t=this;if(this.mounted){var n=d.default.findDOMNode(this);document.body.contains(n)?e():requestAnimationFrame(function(){return t.waitForDOMAttachment(e)})}}return e}()},{key:"componentDidMount",value:function(){function e(){var e=this;this.mounted=!0,this.element=d.default.findDOMNode(this),this.waitForDOMAttachment(function(){m.ElementQueries.listen(),e.resizeSensor=new m.ResizeSensor(e.element.parentNode,e.measureSize.bind(e)),e.measureSize()})}return e}()},{key:"componentWillReceiveProps",value:function(){function e(e){this.addUidsToTracks(e.tracks),this.setState({tracks:e.tracks})}return e}()},{key:"shouldComponentUpdate",value:function(){function e(e,t){var n=this.previousPropsStr,r=this.updatablePropsToString(e),i=JSON.stringify(this.state),o=JSON.stringify(t),a=!1;return n!=r&&(a=!0),(a||i!=o)&&(a=!0),a=a||this.props.chooseTrackHandler!=e.chooseTrackHandler,a&&(this.previousPropsStr=r),a}return e}()},{key:"componentWillUpdate",value:function(){function e(){}return e}()},{key:"componentDidUpdate",value:function(){function e(e,t){t.rangeSelection!==this.state.rangeSelection&&this.props.onRangeSelection&&this.props.onRangeSelection(this.state.rangeSelection)}return e}()},{key:"componentWillUnmount",value:function(){function e(){this.closing=!0}return e}()},{key:"addUidsToTracks",value:function(){function e(e){for(var t in e)for(var n=0;n<e[t].length;n++)e[t][n].uid=e[t][n].uid?e[t][n].uid:u.default.nice()}return e}()},{key:"measureSize",value:function(){function e(){var e=this.element.clientHeight-0,t=this.element.clientWidth;t>0&&e>0&&this.setState({sizeMeasured:!0,width:t,height:e})}return e}()},{key:"handleTrackOptionsChanged",value:function(){function e(e,t){return this.props.onTrackOptionsChanged(e,t)}return e}()},{key:"handleScalesChanged",value:function(){function e(e,t){this.xScale=e,this.yScale=t,this.props.onScalesChanged(e,t)}return e}()},{key:"handleTilesetInfoReceived",value:function(){function e(e,t){var n=(0,D.getTrackByUid)(this.props.tracks,e);n.options||(n.options={}),n.name=t.name,n.maxWidth=t.max_width,n.transforms=t.transforms,n.header=t.header,n.binsPerDimension=t.bins_per_dimension,n.maxZoom=t.max_zoom,n.coordSystem=t.coordSystem}return e}()},{key:"handleOverlayMouseEnter",value:function(){function e(e){this.setState({mouseOverOverlayUid:e})}return e}()},{key:"handleOverlayMouseLeave",value:function(){function e(){this.setState({mouseOverOverlayUid:null})}return e}()},{key:"handleTrackPositionChosen",value:function(){function e(e){this.handleAddTrack(e),this.props.onTrackPositionChosen(e)}return e}()},{key:"handleNoTrackAdded",value:function(){function e(){this.trackToReplace=null,this.props.onNoTrackAdded(),this.setState({addTrackPosition:null,addTrackHost:null})}return e}()},{key:"handleDivideSeries",value:function(){function e(e){}return e}()},{key:"handleAddSeries",value:function(){function e(e){var t=(0,D.getTrackPositionByUid)(this.props.tracks,e),n=(0,D.getTrackByUid)(this.props.tracks,e);this.setState({addTrackPosition:t,addTrackHost:n})}return e}()},{key:"handleReplaceTrack",value:function(){function e(e,t){this.trackToReplace=e,this.handleAddTrack(t)}return e}()},{key:"handleAddTrack",value:function(){function e(e){this.setState({addTrackPosition:e,addTrackHost:null})}return e}()},{key:"handleResizeTrack",value:function(){function e(e,t,n){var r=this.state.tracks;for(var i in r){var o=r[i],a=o.filter(function(t){return t.uid==e});a.length>0&&(a[0].width=t,a[0].height=n)}this.setState({tracks:r,forceUpdate:Math.random()})}return e}()},{key:"handleLockValueScale",value:function(){function e(e){this.setState({closeTrackMenuId:null,configTrackMenuId:null}),this.props.onLockValueScale(e)}return e}()},{key:"handleUnlockValueScale",value:function(){function e(e){this.setState({closeTrackMenuId:null,configTrackMenuId:null}),this.props.onUnlockValueScale(e)}return e}()},{key:"handleCloseTrack",value:function(){function e(e){this.props.onCloseTrack(e),this.setState({closeTrackMenuId:null,configTrackMenuId:null})}return e}()},{key:"handleChangeTrackType",value:function(){function e(e,t){this.setState({closeTrackMenuId:null,configTrackMenuId:null}),this.props.onChangeTrackType(e,t)}return e}()},{key:"handleTracksAdded",value:function(){function e(e,t,n){return this.trackToReplace&&(this.handleCloseTrack(this.trackToReplace),this.trackToReplace=null),this.props.onTracksAdded(e,t,n),this.setState({addTrackPosition:null,addTrackHost:null}),e}return e}()},{key:"handleCloseTrackMenuOpened",value:function(){function e(e,t){this.setState({closeTrackMenuId:e,closeTrackMenuLocation:t})}return e}()},{key:"handleCloseTrackMenuClosed",value:function(){function e(){this.setState({closeTrackMenuId:null})}return e}()},{key:"handleConfigTrackMenuOpened",value:function(){function e(e,t){this.setState({configTrackMenuId:e,configTrackMenuLocation:t})}return e}()},{key:"handleConfigTrackMenuClosed",value:function(){function e(){this.setState({configTrackMenuId:null})}return e}()},{key:"handleConfigureTrack",value:function(){function e(e,t){console.log("configComponent:",t),this.setState({configTrackMenuId:null,trackOptions:{track:e,configComponent:t}})}return e}()},{key:"handleSortEnd",value:function(){function e(e){for(var t=this.state.tracks,n={},r=0;r<e.length;r++)n[e[r].uid]=r;for(var i in t){var o=t[i];if(o.length&&o[0].uid in n){for(var a=new Array(o.length),s=0;s<o.length;s++)a[n[o[s].uid]]=o[s];t[i]=a}}this.setState({tracks:t,forceUpdate:Math.random()})}return e}()},{key:"createTracksAndLocations",value:function(){function e(){var e=[],t=this.state.tracks;for(var n in t)for(var r=0;r<t[n].length;r++)e.push({track:t[n][r],location:n});return e}return e}()},{key:"calculateTrackPosition",value:function(){function e(e,t){var n=this.props.verticalMargin,r=this.props.horizontalMargin;if("top"==t){r+=this.leftWidth,n+=0;for(var i=0;i<this.state.tracks.top.length&&this.state.tracks.top[i].uid!=e.uid;i++)n+=this.state.tracks.top[i].height;return{left:r,top:n,width:this.centerWidth,height:e.height,track:e}}if("bottom"==t){r+=this.leftWidth,n+=this.topHeight+this.centerHeight;for(var o=0;o<this.state.tracks.bottom.length&&this.state.tracks.bottom[o].uid!=e.uid;o++)n+=this.state.tracks.bottom[o].height;return{left:r,top:n,width:this.centerWidth,height:e.height,track:e}}if("left"==t){n+=this.topHeight;for(var a=0;a<this.state.tracks.left.length&&this.state.tracks.left[a].uid!=e.uid;a++)r+=this.state.tracks.left[a].width;return{left:r,top:n,width:e.width,height:this.centerHeight,track:e}}if("right"==t){r+=this.leftWidth+this.centerWidth,n+=this.topHeight;for(var s=0;s<this.state.tracks.right.length&&this.state.tracks.right[s].uid!=e.uid;s++)r+=this.state.tracks.right[s].width;return{left:r,top:n,width:e.width,height:this.centerHeight,track:e}}if("center"==t)return r+=this.leftWidth,n+=this.topHeight,{left:r,top:n,width:this.centerWidth,height:this.centerHeight,track:e}}return e}()},{key:"positionedTracks",value:function(){function e(){var e=this;return this.createTracksAndLocations().map(function(t){var n=t.track,r=t.location;return e.calculateTrackPosition(n,r)})}return e}()},{key:"createTrackPositionTexts",value:function(){function e(){var e=this.positionedTracks();return this.createTracksAndLocations(),e.map(function(e){var t=e.track;return f.default.createElement("div",{key:t.uid,style:{left:e.left,top:e.top,width:e.width,height:e.height,position:"absolute"}},t.uid.slice(0,2))})}return e}()},{key:"handleExportTrackData",value:function(){function e(e,t){var n=(0,D.getTrackByUid)(this.props.tracks,t),r=null;r=this.trackRenderer.trackDefObjects[e].trackObject.createdTracks[n.uid],r.exportData()}return e}()},{key:"handleZoomToData",value:function(){function e(){var e=[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],t=[Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER];for(var n in this.trackRenderer.trackDefObjects){var r=this.trackRenderer.trackDefObjects[n],i=[r.trackObject];for(var o in r.trackObject.createdTracks){var a=r.trackObject.createdTracks[o];i.push(a)}var s=!0,l=!1,u=void 0;try{for(var c,f=i[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;if(h.tilesetInfo&&h.tilesetInfo.min_pos)for(var d=0;d<h.tilesetInfo.min_pos.length;d++)h.tilesetInfo.min_pos[d]<e[d]&&(e[d]=h.tilesetInfo.min_pos[d]),h.tilesetInfo.max_pos[d]>t[d]&&(t[d]=h.tilesetInfo.max_pos[d])}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}var p=[this.trackRenderer.currentProps.marginLeft+this.trackRenderer.currentProps.leftWidth,this.trackRenderer.currentProps.marginLeft+this.trackRenderer.currentProps.leftWidth+this.trackRenderer.currentProps.centerWidth].map(this.trackRenderer.zoomTransform.rescaleX(this.trackRenderer.xScale).invert),v=[this.trackRenderer.currentProps.marginTop+this.trackRenderer.currentProps.topHeight,this.trackRenderer.currentProps.marginTop+this.trackRenderer.currentProps.topHeight+this.trackRenderer.currentProps.centerHeight].map(this.trackRenderer.zoomTransform.rescaleY(this.trackRenderer.yScale).invert);this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),e[0]<Number.MAX_SAFE_INTEGER&&t[0]>Number.MIN_SAFE_INTEGER&&(p=[e[0],t[0]]),e[1]<Number.MAX_SAFE_INTEGER&&t[1]>Number.MIN_SAFE_INTEGER&&(v=[e[1],t[1]]),this.props.onDataDomainChanged(p,v)}return e}()},{key:"updatablePropsToString",value:function(){function e(e){return JSON.stringify({tracks:e.tracks,uid:e.uid,addTrackPosition:e.addTrackPosition,editable:e.editable,horizontalMargin:e.horizontalMargin,mouseTool:e.mouseTool,verticalTiledPlot:e.verticalMargin,initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,trackSourceServers:e.trackSourceServers,zoomable:e.zoomable})}return e}()},{key:"rangeToGenomeLoci",value:function(){function e(e,t){return t&&this.state.chromInfo?(0,D.pixelToGenomeLoci)(parseInt(t.invert(e[0]),10),parseInt(t.invert(e[1]),10),this.state.chromInfo):null}return e}()},{key:"rangeSelectionEndHandler",value:function(){function e(){this.state.rangeSelectionMaster&&this.setState({is1dRangeSelection:null,rangeSelection:[null,null],rangeSelectionMaster:null})}return e}()},{key:"rangeSelection1dHandler",value:function(){function e(e){var t=this,n="x"===e?this.xScale:this.yScale;return function(r){var i=t.state.is1dRangeSelection?[null,null]:t.state.rangeSelection.slice();i[t.state.is1dRangeSelection||"y"!==e?0:1]=t.rangeToGenomeLoci(r,n),t.setState({rangeSelection:i})}}return e}()},{key:"rangeSelection1dStartHandler",value:function(){function e(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!0,rangeSelectionMaster:!0})}return e}()},{key:"rangeSelection2dHandler",value:function(){function e(e){this.setState({rangeSelection:[this.rangeToGenomeLoci(e[0],this.xScale),this.rangeToGenomeLoci(e[1],this.yScale)]})}return e}()},{key:"rangeSelection2dStartHandler",value:function(){function e(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!1,rangeSelectionMaster:!0})}return e}()},{key:"render",value:function(){function e(){var e=this;this.topHeight=this.props.tracks.top.map(function(e){return e.height}).reduce(function(e,t){return e+t},0),this.bottomHeight=this.props.tracks.bottom.map(function(e){return e.height}).reduce(function(e,t){return e+t},0),this.leftWidth=this.props.tracks.left.map(function(e){return e.width}).reduce(function(e,t){return e+t},0),this.rightWidth=this.props.tracks.right.map(function(e){return e.width}).reduce(function(e,t){return e+t},0),this.centerHeight=this.state.height-this.topHeight-this.bottomHeight-2*this.props.verticalMargin,this.centerWidth=this.state.width-this.leftWidth-this.rightWidth-2*this.props.horizontalMargin;var t=f.default.createElement("div",{key:"topTracksDiv",style:{left:this.leftWidth+this.props.horizontalMargin,top:this.props.verticalMargin,width:this.centerWidth,height:this.topHeight,outline:"none",position:"absolute"}},f.default.createElement(j.default,{configTrackMenuId:this.state.configTrackMenuId,chromInfo:this.state.chromInfo,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===L.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelectionEndHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,resizeHandles:new Set(["bottom"]),scale:this.xScale,tracks:this.props.tracks.top,width:this.centerWidth})),n=f.default.createElement("div",{key:"leftTracksPlot",style:{left:this.props.horizontalMargin,top:this.topHeight+this.props.verticalMargin,width:this.leftWidth,height:this.centerHeight,outline:"none",position:"absolute"}},f.default.createElement(I.default,{configTrackMenuId:this.state.configTrackMenuId,chromInfo:this.state.chromInfo,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===L.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelectionEndHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,resizeHandles:new Set(["right"]),scale:this.yScale,tracks:this.props.tracks.left})),r=f.default.createElement("div",{style:{right:this.props.horizontalMargin,top:this.topHeight+this.props.verticalMargin,width:this.rightWidth,height:this.centerHeight,outline:"none",position:"absolute"}},f.default.createElement(I.default,{configTrackMenuId:this.state.configTrackMenuId,chromInfo:this.state.chromInfo,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===L.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelectionEndHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,resizeHandles:new Set(["left"]),scale:this.yScale,tracks:this.props.tracks.right,tracksControlAlignLeft:!0})),i=f.default.createElement("div",{style:{left:this.leftWidth+this.props.horizontalMargin,bottom:this.props.verticalMargin,width:this.centerWidth,height:this.bottomHeight,outline:"none",position:"absolute"}},f.default.createElement(j.default,{configTrackMenuId:this.state.configTrackMenuId,chromInfo:this.state.chromInfo,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===L.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelectionEndHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,resizeHandles:new Set(["top"]),scale:this.xScale,tracks:this.props.tracks.bottom,width:this.centerWidth})),o=f.default.createElement("div",{style:{left:this.leftWidth+this.props.horizontalMargin,top:this.props.verticalMargin+this.topHeight,width:this.centerWidth,height:this.bottomHeight,outline:"none"},className:"CenterTrack-module_center-track-container-2ELhp"});this.props.tracks.center.length&&(o=f.default.createElement("div",{style:{left:this.leftWidth+this.props.horizontalMargin,top:this.props.verticalMargin+this.topHeight,width:this.centerWidth,height:this.centerHeight,outline:"none"},className:"CenterTrack-module_center-track-container-2ELhp"},f.default.createElement(y.default,{configTrackMenuId:this.state.configTrackMenuId,chromInfo:this.state.chromInfo,editable:this.props.editable,height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===L.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelectionEnd:this.rangeSelectionEndHandler.bind(this),onRangeSelectionStart:this.rangeSelection2dStartHandler.bind(this),onRangeSelectionX:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionXY:this.rangeSelection2dHandler.bind(this),onRangeSelectionY:this.rangeSelection1dHandler("y").bind(this),rangeSelection:this.state.rangeSelection,scaleX:this.xScale,scaleY:this.yScale,tracks:this.props.tracks.center,uid:this.props.tracks.center[0].uid,width:this.centerWidth}))),this.createTrackPositionTexts();var a=this.positionedTracks(),s=null;this.state.sizeMeasured&&(s=f.default.createElement(w.default,{ref:function(){function t(t){e.trackRenderer=t}return t}(),canvasElement:this.props.canvasElement,centerHeight:this.centerHeight,centerWidth:this.centerWidth,dragging:this.props.dragging,height:this.state.height,initialXDomain:this.props.initialXDomain,initialYDomain:this.props.initialYDomain,isRangeSelection:this.props.mouseTool===L.MOUSE_TOOL_SELECT,leftWidth:this.leftWidth,marginLeft:this.props.horizontalMargin,marginTop:this.props.verticalMargin,onNewTilesLoaded:this.props.onNewTilesLoaded,onScalesChanged:this.handleScalesChanged.bind(this),onTilesetInfoReceived:this.handleTilesetInfoReceived.bind(this),onTrackOptionsChanged:this.handleTrackOptionsChanged.bind(this),onValueScaleChanged:this.props.onValueScaleChanged,pixiStage:this.props.pixiStage,positionedTracks:a,registerDraggingChangedListener:this.props.registerDraggingChangedListener,removeDraggingChangedListener:this.props.removeDraggingChangedListener,setCentersFunction:this.props.setCentersFunction,svgElement:this.props.svgElement,topHeight:this.topHeight,uid:this.props.uid,width:this.state.width,zoomable:this.props.zoomable},t,n,r,i,o));var l=null,u=null;this.state.configTrackMenuId&&(l=f.default.createElement(P.default,{onMenuClosed:this.handleConfigTrackMenuClosed.bind(this)},f.default.createElement(S.default,{closeMenu:this.handleConfigTrackMenuClosed.bind(this),onAddSeries:this.handleAddSeries.bind(this),onAddTrack:this.handleAddTrack.bind(this),onChangeTrackType:this.handleChangeTrackType.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onConfigureTrack:this.handleConfigureTrack.bind(this),onExportData:this.handleExportTrackData.bind(this),onLockValueScale:this.handleLockValueScale.bind(this),onReplaceTrack:this.handleReplaceTrack.bind(this),onTrackOptionsChanged:this.handleTrackOptionsChanged.bind(this),onUnlockValueScale:this.handleUnlockValueScale.bind(this),ref:function(){function t(t){return e.configTrackMenu=t}return t}(),position:this.state.configTrackMenuLocation,track:(0,D.getTrackByUid)(this.props.tracks,this.state.configTrackMenuId),trackOrientation:(0,D.getTrackPositionByUid)(this.props.tracks,this.state.configTrackMenuId)}))),this.state.closeTrackMenuId&&(u=f.default.createElement(P.default,{onMenuClosed:this.handleCloseTrackMenuClosed.bind(this)},f.default.createElement(M.default,{position:this.state.closeTrackMenuLocation},f.default.createElement(O.default,{onCloseTrack:this.handleCloseTrack.bind(this),track:(0,D.getTrackByUid)(this.props.tracks,this.state.closeTrackMenuId)}))));var c=null;this.props.chooseTrackHandler&&(c=a.map(function(t){var n="transparent",r="none";return e.state.mouseOverOverlayUid==t.track.uid&&(n="yellow",r="1px solid black"),f.default.createElement("div",{className:"tiled-plot-track-overlay",key:t.track.uid,onClick:function(){function n(){e.setState({mouseOverOverlayUid:null}),e.props.chooseTrackHandler(t.track.uid)}return n}(),onMouseEnter:function(){function n(){return e.handleOverlayMouseEnter(t.track.uid)}return n}(),onMouseLeave:function(){function n(){return e.handleOverlayMouseLeave(t.track.uid)}return n}(),style:{position:"absolute",left:t.left,top:t.top,width:t.width,height:t.height,background:n,opacity:.4,border:r}})}));var h=null;if(this.xScale&&this.yScale&&this.props.editable&&this.state.trackOptions){var d=this.state.trackOptions.configComponent,p=this.state.trackOptions.track;h=f.default.createElement(d,{track:p,xScale:this.xScale,yScale:this.yScale,onCancel:function(){function t(){e.setState({trackOptions:null})}return t}(),onTrackOptionsChanged:function(){function e(e){return e}return e}(),onSubmit:function(){function t(t){e.handleTrackOptionsChanged(e.state.trackOptions.track.uid,t),e.setState({trackOptions:null})}return t}()})}var v=null,m=this.state.addTrackPosition?this.state.addTrackPosition:this.props.addTrackPosition;return(this.state.addTrackPosition||this.props.addTrackPosition)&&(v=f.default.createElement(k.default,{host:this.state.addTrackHost,onCancel:this.handleNoTrackAdded.bind(this),onTracksChosen:this.handleTracksAdded.bind(this),position:m,ref:function(){function t(t){e.addTrackModal=t}return t}(),show:null!=this.state.addTrackPosition||null!=this.props.addTrackPosition,trackSourceServers:this.props.trackSourceServers})),f.default.createElement("div",{ref:function(){function t(t){e.divTiledPlot=t}return t}(),className:"TiledPlot-module_tiled-plot-uFHiB"},s,c,v,l,u,h)}return e}()}]),t}(f.default.Component));N.propTypes={addTrackPosition:v.default.string,canvasElement:v.default.object,chooseTrackHandler:v.default.func,chromInfoPath:v.default.string,dragging:v.default.bool,editable:v.default.bool,horizontalMargin:v.default.number,initialXDomain:v.default.array,initialYDomain:v.default.array,mouseTool:v.default.string,onCloseTrack:v.default.func,onDataDomainChanged:v.default.func,onLockValueScale:v.default.func,onNoTrackAdded:v.default.func,onNewTilesLoaded:v.default.func,onRangeSelection:v.default.func,onScalesChanged:v.default.func,onTracksAdded:v.default.func,onTrackOptionsChanged:v.default.func,onTrackPositionChosen:v.default.func,onValueScaleChanged:v.default.func,onUnlockValueScale:v.default.func,registerDraggingChangedListener:v.default.func,removeDraggingChangedListener:v.default.func,setCentersFunction:v.default.func,pixiStage:v.default.object,svgElement:v.default.object,trackSourceServers:v.default.array,tracks:v.default.object,"tracks.top":v.default.array,"tracks.bottom":v.default.array,"tracks.left":v.default.array,"tracks.right":v.default.array,verticalMargin:v.default.number,uid:v.default.string,zoomable:v.default.bool},t.default=N},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TilesetFinder=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(7),c=n(0),f=r(c),h=n(62),d=n(11),p=r(d),v=n(10),m=r(v),g=n(6),y=t.TilesetFinder=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.localTracks=g.TRACKS_INFO.filter(function(e){return e.local&&!e.hidden}).filter(function(e){return e.orientation==n.props.orientation}).filter(function(e){return!e.hidden}),n.localTracks.forEach(function(e){return e.uuid=m.default.nice()});var r=n.prepareNewEntries("",n.localTracks,{}),i=Object.keys(r),s=i.length?[i[0]]:null;return n.mounted=!1,n.state={selectedUuid:s,options:r,filter:""},n.requestTilesetLists(),n}return s(t,e),l(t,[{key:"serverUidKey",value:function(){function e(e,t){return e+"/"+t}return e}()},{key:"prepareNewEntries",value:function(){function e(e,t,n){var r=this,i=n;return t.map(function(t){return Object.assign({},t,{server:e,tilesetUid:t.uuid,serverUidKey:r.serverUidKey(e,t.uuid),datatype:t.datatype,name:t.name,uid:m.default.nice()})}).forEach(function(e){i[e.serverUidKey]=e}),i}return e}()},{key:"componentDidMount",value:function(){function e(){this.mounted=!0,this.requestTilesetLists();var e=[this.state.options[this.state.selectedUuid]];e&&this.props.selectedTilesetChanged(e)}return e}()},{key:"componentWillUnmount",value:function(){function e(){this.mounted=!1}return e}()},{key:"requestTilesetLists",value:function(){function e(){var e=this,t=new Set(g.TRACKS_INFO.filter(function(e){return e.datatype}).filter(function(t){return t.orientation==e.props.orientation}).map(function(e){return e.datatype})),n=[].concat(i(t)).map(function(e){return"dt="+e}).join("&");if(!this.props.trackSourceServers)return void console.warn("No track source servers specified in the viewconf");this.props.trackSourceServers.forEach(function(t){u.tileProxy.json(t+"/tilesets/?limit=10000&"+n,function(n,r){if(n)console.error("ERROR:",n);else{var i=e.prepareNewEntries(t,r.results,e.state.options),o=Object.keys(i),a=e.state.selectedUuid;if(!a){a=o.length?[o[0]]:null;var s=e.state.options[a];e.props.selectedTilesetChanged(s)}e.mounted&&e.setState({selectedUuid:a,options:i})}})})}return e}()},{key:"handleOptionDoubleClick",value:function(){function e(e,t){var n=this.state.options[e.target.value];this.props.onDoubleClick(n)}return e}()},{key:"handleSelectedOptions",value:function(){function e(e){for(var t=[],n=[],r=0;r<e.length;r++)t.push(e[r]),n.push(this.state.options[e[r]]);this.props.selectedTilesetChanged(n),this.setState({selectedUuid:t})}return e}()},{key:"handleSelect",value:function(){function e(e){for(var t=p.default.findDOMNode(this.multiSelect).selectedOptions,n=[],r=0;r<t.length;r++){var i=t[r];n.push(i.value)}this.handleSelectedOptions(n)}return e}()},{key:"handleSearchChange",value:function(){function e(){var e=p.default.findDOMNode(this.searchBox);this.setState({filter:e.value})}return e}()},{key:"render",value:function(){function e(){var e=this,t=[];for(var n in this.state.options)t.push(this.state.options[n]);var r=t.filter(function(t){return t.name.toLowerCase().includes(e.state.filter)}).map(function(t){return f.default.createElement("option",{onDoubleClick:e.handleOptionDoubleClick.bind(e),key:t.serverUidKey,value:t.serverUidKey},t.name)}),i=f.default.createElement(h.Form,{horizontal:!0},f.default.createElement(h.FormGroup,null,f.default.createElement(h.Col,{sm:3},f.default.createElement(h.ControlLabel,null,"Select tileset")),f.default.createElement(h.Col,{smOffset:5,sm:4},f.default.createElement(h.FormControl,{placeholder:"Search Term",ref:function(){function t(t){e.searchBox=t}return t}(),onChange:this.handleSearchChange.bind(this),autoFocus:!0}),f.default.createElement("div",{style:{height:10}})),f.default.createElement(h.Col,{sm:12},f.default.createElement(h.FormControl,{componentClass:"select",multiple:!0,className:"tileset-list",value:this.state.selectedUuid?this.state.selectedUuid:["x"],onChange:this.handleSelect.bind(this),ref:function(){function t(t){return e.multiSelect=t}return t}(),size:15},r))));return f.default.createElement("div",null,i)}return e}()}]),t}(f.default.Component);t.default=y},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TopAxisTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),l=n(172),u=n(53),c=function(e){return e&&e.__esModule?e:{default:e}}(u),f=t.TopAxisTrack=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.axis=(0,l.axisTop)(n._xScale),n.gAxis=n.gMain.append("g"),n.tilesetInfo=!0,n}return o(t,e),a(t,[{key:"setDimensions",value:function(){function e(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDimensions",this).call(this,e),this.axis.ticks(Math.ceil(this.dimensions[0]/150)),this.gAxis.attr("transform","translate(0,"+e[1]+")")}return e}()},{key:"draw",value:function(){function e(){return this.axis.scale(this._xScale),this.gAxis.call(this.axis),this}return e}()},{key:"zoomed",value:function(){function e(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n),this.draw()}return e}()}]),t}(c.default);t.default=f},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TrackArea=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),u=r(l),c=n(0),f=r(c),h=n(11),d=r(h),p=n(49),v=t.TrackArea=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={controlsVisible:!1},n}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){function e(){return!this.resizing}return e}()},{key:"handleMouseEnter",value:function(){function e(){this.setState({controlsVisible:!0})}return e}()},{key:"handleMouseLeave",value:function(){function e(){this.setState({controlsVisible:!1})}return e}()},{key:"handleMouseMove",value:function(){function e(){this.setState({controlsVisible:!0})}return e}()},{key:"getControls",value:function(){function e(){var e=this,t=null;return t=this.moveable?(0,p.SortableHandle)(function(){return f.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:function(){function e(){}return e}(),style:e.getMoveImgStyle(),width:"10px"},f.default.createElement("use",{xlinkHref:"#move"}))}):(0,p.SortableHandle)(function(){return f.default.createElement("div",null)}),f.default.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(255,255,255,0.7)",right:"3px",top:"3px",pointerEvents:"none",paddingLeft:"5px",paddingRight:"5px",borderRadius:"5px",border:"1px solid #dddddd"}},f.default.createElement(t,null),f.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:function(){function t(){var t=d.default.findDOMNode(e.imgConfig),n=t.getBoundingClientRect();e.props.onConfigTrackMenuOpened(e.props.uid,n)}return t}(),ref:function(){function t(t){e.imgConfig=t}return t}(),style:this.getSettingsImgStyle(),width:"10px"},f.default.createElement("use",{xlinkHref:"#cog"})),f.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:function(){function t(){return e.props.onAddSeries(e.props.uid)}return t}(),ref:function(){function t(t){e.imgAdd=t}return t}(),style:this.getAddImgStyle(),width:"10px"},f.default.createElement("use",{xlinkHref:"#plus"})),f.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:function(){function t(){var t=d.default.findDOMNode(e.imgClose),n=t.getBoundingClientRect();e.props.onCloseTrackMenuOpened(e.props.uid,n)}return t}(),ref:function(){function t(t){e.imgClose=t}return t}(),style:this.getCloseImgStyle(),width:"10px"},f.default.createElement("use",{xlinkHref:"#cross"})))}return e}()}]),t}(f.default.Component);v.propTypes={configMenuOpen:u.default.bool,onConfigTrackMenuOpened:u.default.func,onCloseTrackMenuOpened:u.default.func,onAddSeries:u.default.func,uid:u.default.string},t.default=v},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TrackRenderer=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),f=n(11),h=r(f),d=n(2),p=r(d),v=n(8),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(v),g=n(494),y=n(4),b=n(12),w=n(65),x=r(w),k=n(275),_=r(k),S=n(276),T=r(S),O=n(277),C=r(O),P=n(287),E=r(P),M=n(278),A=r(M),j=n(257),R=r(j),I=n(250),D=r(I),L=n(66),z=r(L),B=n(272),N=r(B),H=n(271),V=r(H),F=n(143),U=r(F),W=n(261),Y=r(W),G=n(251),X=r(G),Z=n(279),q=r(Z),K=n(88),J=r(K),$=n(268),Q=r($),ee=n(248),te=r(ee),ne=n(266),re=r(ne),ie=n(284),oe=r(ie),ae=n(255),se=r(ae),le=n(254),ue=r(le),ce=n(253),fe=r(ce),he=n(267),de=r(he),pe=n(269),ve=r(pe),me=n(290),ge=r(me),ye=n(291),be=r(ye),we=n(297),xe=r(we),ke=n(298),_e=r(ke),Se=n(299),Te=r(Se),Oe=n(147),Ce=r(Oe),Pe=n(280),Ee=r(Pe),Me=n(3),Ae=n(7),je=n(6);n(512);var Re=100,Ie=t.TrackRenderer=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dragging=!1,n.element=null,n.closing=!1,n.yPositionOffset=0,n.xPositionOffset=0,n.scrollTimeout=null,n.activeTransitions=0,n.zoomTransform=g.zoomIdentity,n.windowScrolledBound=n.windowScrolled.bind(n),n.zoomStartedBound=n.zoomStarted.bind(n),n.zoomedBound=n.zoomed.bind(n),n.zoomEndedBound=n.zoomEnded.bind(n),n.mounted=!1,n.emptyZoomBehavior=(0,g.zoom)(),n.currentProps=e,n.prevPropsStr="",n.zoomBehavior=(0,g.zoom)().filter(function(){return!y.event.target.classList.contains("no-zoom")&&!y.event.target.classList.contains("react-resizable-handle")}).on("start",n.zoomStartedBound).on("zoom",n.zoomedBound).on("end",n.zoomEndedBound),n.initialXDomain=[0,1],n.initialYDomain=[0,1],n.prevCenterX=n.currentProps.marginLeft+n.currentProps.leftWidth+n.currentProps.centerWidth/2,n.prevCenterY=n.currentProps.marginTop+n.currentProps.topHeight+n.currentProps.centerHeight/2,n.cumCenterXOffset=0,n.cumCenterYOffset=0,n.setUpInitialScales(n.currentProps.initialXDomain,n.currentProps.initialYDomain),n.setUpScales(),n.trackDefObjects={},n.pubSubs=[],n}return s(t,e),l(t,[{key:"componentWillMount",value:function(){function e(){this.pubSubs=[],this.pubSubs.push(Ae.pubSub.subscribe("scroll",this.windowScrolledBound))}return e}()},{key:"componentDidMount",value:function(){function e(){this.element=h.default.findDOMNode(this),this.divTrackAreaSelection=(0,y.select)(this.divTrackArea),this.svgTrackAreaSelection=(0,y.select)(this.svgTrackArea),this.pStage=new m.Graphics,this.pMask=new m.Graphics,this.pStage.addChild(this.pMask),this.currentProps.pixiStage.addChild(this.pStage),this.pStage.mask=this.pMask,this.props.isRangeSelection||this.addZoom(),this.canvasDom=h.default.findDOMNode(this.currentProps.canvasElement),this.mounted=!0,this.currentProps.svgElement&&this.currentProps.canvasElement&&(this.svgElement=this.currentProps.svgElement,this.syncTrackObjects(this.currentProps.positionedTracks),this.currentProps.setCentersFunction(this.setCenter.bind(this)),this.currentProps.registerDraggingChangedListener(this.draggingChanged.bind(this)),this.draggingChanged(!0))}return e}()},{key:"componentWillReceiveProps",value:function(){function e(e){if(e.svgElement&&e.canvasElement){var t=this.updatablePropsToString(e);if(this.currentProps=e,this.prevPropsStr!==t){for(var n in this.trackDefObjects){this.trackDefObjects[n].trackObject.delayDrawing=!0}this.prevPropsStr=t,this.setUpInitialScales(e.initialXDomain,e.initialYDomain),this.setUpScales(e.width!==this.props.width||e.height!==this.props.height),this.canvasDom=h.default.findDOMNode(e.canvasElement),this.svgElement=e.svgElement,this.syncTrackObjects(e.positionedTracks);var r=!0,i=!1,o=void 0;try{for(var a,s=e.positionedTracks[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,u=l.track.options,c=this.trackDefObjects[l.track.uid].trackObject;if(c.rerender(u),l.track.hasOwnProperty("contents")){var f={},d=!0,p=!1,v=void 0;try{for(var m,g=l.track.contents[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var y=m.value;f[y.uid]=y}}catch(e){p=!0,v=e}finally{try{!d&&g.return&&g.return()}finally{if(p)throw v}}for(var b in c.createdTracks)c.createdTracks[b].rerender(f[b].options)}}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}this.props.onNewTilesLoaded();for(var w in this.trackDefObjects){var x=this.trackDefObjects[w].trackObject;x.delayDrawing=!1,x.draw()}}}}return e}()},{key:"componentDidUpdate",value:function(){function e(e){e.isRangeSelection!==this.props.isRangeSelection&&(this.props.isRangeSelection?this.removeZoom():this.addZoom())}return e}()},{key:"componentWillUnmount",value:function(){function e(){this.mounted=!1,this.removeTracks(Object.keys(this.trackDefObjects)),this.currentProps.removeDraggingChangedListener(this.draggingChanged),this.currentProps.pixiStage.removeChild(this.pStage),this.pMask.destroy(!0),this.pStage.destroy(!0),this.pubSubs.forEach(function(e){return Ae.pubSub.unsubscribe(e)}),this.pubSubs=[]}return e}()},{key:"addZoom",value:function(){function e(){this.divTrackAreaSelection&&(this.divTrackAreaSelection.call(this.zoomBehavior),this.zoomBehavior.transform(this.divTrackAreaSelection,this.zoomTransform))}return e}()},{key:"removeZoom",value:function(){function e(){this.divTrackAreaSelection&&(this.zoomEnded(),this.divTrackAreaSelection.on(".zoom",null))}return e}()},{key:"setMask",value:function(){function e(){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pMask.endFill()}return e}()},{key:"windowScrolled",value:function(){function e(){var e=this;this.removeZoom(),this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){e.addZoom()},Re)}return e}()},{key:"setUpInitialScales",value:function(){function e(e,t){var n=e[1]-e[0],r=(t[0]+t[1])/2;t[0]=r-n/2,t[1]=r+n/2,e[0]==this.initialXDomain[0]&&e[1]==this.initialXDomain[1]&&t[0]==this.initialYDomain[0]&&t[1]==this.initialYDomain[1]||(this.initialXDomain=e,this.initialYDomain=t,this.cumCenterYOffset=0,this.cumCenterXOffset=0,this.drawableToDomainX=(0,b.scaleLinear)().domain([this.currentProps.marginLeft+this.currentProps.leftWidth,this.currentProps.marginLeft+this.currentProps.leftWidth+this.currentProps.centerWidth]).range([e[0],e[1]]),this.drawableToDomainY=(0,b.scaleLinear)().domain([this.currentProps.marginTop+this.currentProps.topHeight+this.currentProps.centerHeight/2-this.currentProps.centerWidth/2,this.currentProps.marginTop+this.currentProps.topHeight+this.currentProps.centerHeight/2+this.currentProps.centerWidth/2]).range([t[0],t[1]]),this.prevCenterX=this.currentProps.marginLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,this.prevCenterY=this.currentProps.marginTop+this.currentProps.topHeight+this.currentProps.centerHeight/2)}return e}()},{key:"updatablePropsToString",value:function(){function e(e){return JSON.stringify({positionedTracks:e.positionedTracks,initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,width:e.width,height:e.height,marginLeft:e.marginLeft,marginRight:e.marginRight,leftWidth:e.leftWidth,topHeight:e.topHeight,dragging:e.dragging})}return e}()},{key:"draggingChanged",value:function(){function e(e){this.dragging=e,this.timedUpdatePositionAndDimensions()}return e}()},{key:"setUpScales",value:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.currentProps.marginLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,n=this.currentProps.marginTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,r=(this.drawableToDomainX(t)-this.drawableToDomainX(this.prevCenterX))/this.zoomTransform.k,i=(this.drawableToDomainY(n)-this.drawableToDomainY(this.prevCenterY))/this.zoomTransform.k;this.cumCenterYOffset+=i,this.cumCenterXOffset+=r,this.prevCenterY=n,this.prevCenterX=t;var o=[this.drawableToDomainX(0)-this.cumCenterXOffset,this.drawableToDomainX(this.currentProps.width)-this.cumCenterXOffset],a=[this.drawableToDomainY(0)-this.cumCenterYOffset,this.drawableToDomainY(this.currentProps.height)-this.cumCenterYOffset];this.xScale=(0,b.scaleLinear)().domain(o).range([0,this.currentProps.width]),this.yScale=(0,b.scaleLinear)().domain(a).range([0,this.currentProps.height]);for(var s in this.trackDefObjects){this.trackDefObjects[s].trackObject.refScalesChanged(this.xScale,this.yScale)}this.applyZoomTransform(e)}return e}()},{key:"getTrackObject",value:function(){function e(e){for(var t=(0,Me.dictItems)(this.trackDefObjects),n=0;n<t.length;n++){var r=t[n][0],i=t[n][1].trackObject;if(r==e)return i;if(i.createdTracks)for(var o=(0,Me.dictItems)(i.createdTracks),a=0;a<o.length;a++){var s=o[a][0],l=o[a][1];if(s==e)return l}}}return e}()},{key:"timedUpdatePositionAndDimensions",value:function(){function e(){if(!this.closing&&this.mounted&&this.dragging){this.yPositionOffset=this.element.getBoundingClientRect().top-this.canvasDom.getBoundingClientRect().top,this.xPositionOffset=this.element.getBoundingClientRect().left-this.canvasDom.getBoundingClientRect().left,this.setMask();this.updateTrackPositions()&&this.applyZoomTransform(!0),requestAnimationFrame(this.timedUpdatePositionAndDimensions.bind(this))}}return e}()},{key:"syncTrackObjects",value:function(){function e(e){for(var t={},n=0;n<e.length;n++)t[e[n].track.uid]=e[n];var r=new Set(Object.keys(this.trackDefObjects)),o=new Set(Object.keys(t)),a=new Set([].concat(i(o)).filter(function(e){return!r.has(e)})),s=new Set([].concat(i(r)).filter(function(e){return!o.has(e)})),l=new Set([].concat(i(o)).filter(function(e){return r.has(e)}));this.updateExistingTrackDefs([].concat(i(l)).map(function(e){return t[e]})),this.addNewTracks([].concat(i(a)).map(function(e){return t[e]})),this.updateExistingTrackDefs([].concat(i(a)).map(function(e){return t[e]})),this.removeTracks([].concat(i(s)))}return e}()},{key:"addNewTracks",value:function(){function e(e){if(this.currentProps.pixiStage){for(var t=0;t<e.length;t++){var n=e[t],r=this.createTrackObject(n.track);r.refScalesChanged(this.xScale,this.yScale),this.trackDefObjects[n.track.uid]={trackDef:n,trackObject:r};var i=this.zoomTransform.rescaleX(this.xScale),o=this.zoomTransform.rescaleY(this.yScale);r.setDimensions([n.width,n.height]),r.zoomed(i,o)}this.applyZoomTransform(!1)}}return e}()},{key:"updateExistingTrackDefs",value:function(){function e(e){for(var t=0;t<e.length;t++)this.trackDefObjects[e[t].track.uid].trackDef=e[t],"combined"==e[t].track.type&&this.trackDefObjects[e[t].track.uid].trackObject.updateContents(e[t].track.contents,this.createTrackObject.bind(this)).refScalesChanged(this.xScale,this.yScale);this.updateTrackPositions()&&this.applyZoomTransform(!1)}return e}()},{key:"updateTrackPositions",value:function(){function e(){var e=!1;for(var t in this.trackDefObjects){var n=this.trackDefObjects[t].trackDef,r=this.trackDefObjects[t].trackObject,i=r.position,o=r.dimensions,a=[this.xPositionOffset+n.left,this.yPositionOffset+n.top],s=[n.width,n.height];i&&a[0]==i[0]&&a[1]==i[1]||(r.setPosition(a),e=!0),o&&s[0]==o[0]&&s[1]==o[1]||(r.setDimensions(s),e=!0);n.width,this.currentProps.width,n.height,this.currentProps.height}return e}return e}()},{key:"removeTracks",value:function(){function e(e){for(var t=0;t<e.length;t++)this.trackDefObjects[e[t]].trackObject.remove(),delete this.trackDefObjects[e[t]]}return e}()},{key:"setCenter",value:function(){function e(e,t,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:je.ZOOM_TRANSITION_DURATION,s=this.xScale.invert(1)-this.xScale.invert(0),l=s/n,u=this.currentProps.marginLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,c=this.currentProps.marginTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,f=u-this.xScale(e)*l,h=c-this.yScale(t)*l,d=void 0,p=function(){function e(){var e=g.zoomIdentity.translate(f,h).scale(l);i.zoomTransform=e,i.emptyZoomBehavior.transform(i.divTrackAreaSelection,e),d=i.applyZoomTransform(r)}return e}();if(o){var v=this.divTrackAreaSelection;this.activeTransitions+=1,document.hidden||(v=v.transition().duration(a)),v.call(this.zoomBehavior.transform,g.zoomIdentity.translate(f,h).scale(l)).on("end",function(){p(),i.activeTransitions-=1})}else p();return d}return e}()},{key:"zoomed",value:function(){function e(){this.zoomTransform=this.currentProps.zoomable?y.event.transform:g.zoomIdentity,this.applyZoomTransform(!0)}return e}()},{key:"zoomStarted",value:function(){function e(){this.zooming=!0}return e}()},{key:"zoomEnded",value:function(){function e(){this.zooming=!1}return e}()},{key:"applyZoomTransform",value:function(){function e(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.zoomTransform.rescaleX(this.xScale),n=this.zoomTransform.rescaleY(this.yScale),r=(0,b.scaleLinear)().domain([this.currentProps.marginLeft+this.currentProps.leftWidth,this.currentProps.marginLeft+this.currentProps.leftWidth+this.currentProps.centerWidth].map(t.invert)).range([0,this.currentProps.centerWidth]),i=(0,b.scaleLinear)().domain([this.currentProps.marginTop+this.currentProps.topHeight,this.currentProps.marginTop+this.currentProps.topHeight+this.currentProps.centerHeight].map(n.invert)).range([0,this.currentProps.centerHeight]);for(var o in this.trackDefObjects){this.trackDefObjects[o].trackObject.zoomed(r.copy(),i.copy(),this.zoomTransform.k,this.zoomTransform.x+this.xPositionOffset,this.zoomTransform.y+this.yPositionOffset,this.currentProps.marginLeft+this.currentProps.leftWidth,this.currentProps.marginTop+this.currentProps.topHeight)}return e&&this.currentProps.onScalesChanged(r,i),[r,i]}return e}()},{key:"createTrackObject",value:function(){function e(e){var t=this,n=function(){function n(n){t.currentProps.onTilesetInfoReceived(e.uid,n)}return n}(),r=e.data;switch(r||(r={server:e.server,tilesetUid:e.tilesetUid}),e.type){case"left-axis":return new A.default(this.svgElement);case"top-axis":return new E.default(this.svgElement);case"heatmap":return new x.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},this.svgElement,function(){return t.currentProps.onValueScaleChanged(e.uid)},function(n){return t.currentProps.onTrackOptionsChanged(e.uid,n)});case"horizontal-multivec":return new V.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},this.svgElement,function(){return t.currentProps.onValueScaleChanged(e.uid)},function(n){return t.currentProps.onTrackOptionsChanged(e.uid,n)});case"horizontal-line":return new z.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)});case"vertical-line":return new q.default(new z.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)}));case"horizontal-point":return new N.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)});case"vertical-point":return new q.default(new N.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)}));case"horizontal-bar":return new U.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)});case"horizontal-divergent-bar":return new Y.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)});case"vertical-bar":return new q.default(new U.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)}));case"horizontal-1d-tiles":return new T.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"vertical-1d-tiles":return new C.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"2d-tiles":return new _.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"top-stacked-interval":return new X.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)});case"left-stacked-interval":return new q.default(new X.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},function(){return t.currentProps.onValueScaleChanged(e.uid)}));case"viewport-projection-center":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?new xe.default(this.svgElement,e.registerViewportChanged,e.removeViewportChanged,e.setDomainsCallback,e.options):new J.default;case"viewport-projection-horizontal":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?new _e.default(this.svgElement,e.registerViewportChanged,e.removeViewportChanged,e.setDomainsCallback,e.options):new J.default;case"viewport-projection-vertical":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?new Te.default(this.svgElement,e.registerViewportChanged,e.removeViewportChanged,e.setDomainsCallback,e.options):new J.default;case"horizontal-gene-annotations":return new Q.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"vertical-gene-annotations":return new q.default(new Q.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)}));case"2d-rectangle-domains":return new te.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"vertical-2d-rectangle-domains":return new q.default(new re.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)}));case"horizontal-2d-rectangle-domains":return new re.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"arrowhead-domains":return new te.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"square-markers":return new oe.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"combined":return new R.default(e.contents,this.createTrackObject.bind(this),n,e.options);case"2d-chromosome-labels":return new se.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"2d-chromosome-grid":return new ue.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},e.chromInfoPath);case"horizontal-chromosome-labels":return new de.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},e.chromInfoPath);case"vertical-chromosome-labels":return new q.default(new de.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},e.chromInfoPath));case"horizontal-heatmap":return new ve.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},this.svgElement,function(){return t.currentProps.onValueScaleChanged(e.uid)},function(n){return t.currentProps.onTrackOptionsChanged(e.uid,n)});case"vertical-heatmap":return new q.default(new ve.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)},this.svgElement,function(){return t.currentProps.onValueScaleChanged(e.uid)},function(n){return t.currentProps.onTrackOptionsChanged(e.uid,n)}));case"2d-chromosome-annotations":return new fe.default(this.pStage,e.chromInfoPath,e.options);case"horizontal-1d-value-interval":return new be.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"vertical-1d-value-interval":return new q.default(new be.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)}));case"osm-tiles":return new Ce.default(this.pStage,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"mapbox-tiles":return new Ee.default(this.pStage,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"bedlike":return new D.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)});case"vertical-bedlike":return new q.default(new D.default(this.pStage,r,n,e.options,function(){return t.currentProps.onNewTilesLoaded(e.uid)}));default:return console.warn("WARNING: unknown track type:",e.type),new ge.default(this.pStage,{name:"Unknown Track Type"})}}return e}()},{key:"render",value:function(){function e(){var e=this;return c.default.createElement("div",{ref:function(){function t(t){return e.divTrackArea=t}return t}(),style:{height:this.currentProps.height,width:this.currentProps.width},className:"TrackRenderer-module_track-renderer-3TM7n"},this.currentProps.children)}return e}()}]),t}(c.default.Component);Ie.propTypes={canvasElement:p.default.object,centerHeight:p.default.number,centerWidth:p.default.number,children:p.default.array,height:p.default.number,initialXDomain:p.default.array,initialYDomain:p.default.array,isRangeSelection:p.default.bool,leftWidth:p.default.number,marginLeft:p.default.number,marginTop:p.default.number,onScalesChanged:p.default.func,pixiStage:p.default.object,positionedTracks:p.default.array,svgElement:p.default.object,topHeight:p.default.number,width:p.default.number},t.default=Ie},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownPixiTrack=void 0;var a=n(29),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=t.UnknownPixiTrack=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(s.default);t.default=l},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ValueIntervalTrack=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(12),c=n(66),f=r(c),h=n(64),d=r(h),p=n(3),v=t.ValueIntervalTrack=function(e){function t(e,n,r,i,s,l){o(this,t);var u=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i,s,l));return u.axis=new d.default(u),u.pBase.addChild(u.axis.pAxis),u}return s(t,e),l(t,[{key:"initTile",value:function(){function e(e){this.scale.minRawValue=this.minVisibleValue(),this.scale.maxRawValue=this.maxVisibleValue(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue,this.drawTile(e)}return e}()},{key:"drawTile",value:function(){function e(e){var t=this;if(e.graphics){var n=e.graphics;n.clear(),this.valueScale=(0,u.scaleLog)().domain([this.minValue()+.01,this.maxValue()]).range([this.dimensions[1]-3,3]);var r=(0,p.colorToHex)("black");n.lineStyle(1,r,.3),n.beginFill(r,.3),this.drawAxis(this.valueScale),e.tileData.forEach(function(e){var r=e.fields,i=+e.chrOffset,o=+r[1]+i,a=+r[2]+i,s=+r[3],l=t._xScale(o),u=t._xScale(a),c=Math.max(u-l,4),f=t.valueScale(s),h=(u+l)/2;n.drawRect(h-c/2,f-3,c,6)})}}return e}()},{key:"minVisibleValue",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds();return 0==t.length&&(t=Object.keys(this.fetchedTiles)),Math.min.apply(null,t.map(function(t){return+Math.min.apply(Math,i(e.fetchedTiles[t].tileData.filter(function(e){return!isNaN(e.fields[3])}).map(function(e){return+e.fields[3]})))}))}return e}()},{key:"maxVisibleValue",value:function(){function e(){var e=this,t=this.visibleAndFetchedIds();return 0==t.length&&(t=Object.keys(this.fetchedTiles)),Math.max.apply(null,t.map(function(t){return+Math.max.apply(Math,i(e.fetchedTiles[t].tileData.filter(function(e){return!isNaN(e.fields[3])}).map(function(e){return+e.fields[3]})))}))}return e}()}]),t}(f.default);t.default=v},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalItem=void 0;var i=n(0),o=r(i),a=n(49),s=n(295),l=r(s),u=t.VerticalItem=(0,a.SortableElement)(function(e){return o.default.createElement(l.default,{className:e.className,controlAlignLeft:e.controlAlignLeft,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})});t.default=u},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalTiled1DPixiTrack=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),l=n(150),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(7),f=t.VerticalTiled1DPixiTrack=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"calculateZoomLevel",value:function(){function e(){var e=c.tileProxy.calculateZoomLevel(this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);return Math.min(e,this.maxZoom)}return e}()},{key:"relevantScale",value:function(){function e(){return this._yScale}return e}()},{key:"zoomed",value:function(){function e(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"zoomed",this).call(this,e,n);var r=(n(1)-n(0))/(this._refYScale(1)-this._refYScale(0)),i=this.position[0],o=n(0)+this.position[1]-this._refYScale(1)*r;this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=1,this.pMain.scale.y=r}return e}()}]),t}(u.default);t.default=f},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalTiledPlot=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),u=r(l),c=n(2),f=r(c),h=n(0),d=r(h),p=n(25),v=n(4),m=n(10),g=r(m),y=n(145),b=r(y),w=n(292),x=r(w),k=n(149),_=r(k),S=n(3),T=n(6),O=n(513),C=(r(O),n(122)),P=r(C),E=n(123),M=(r(E),{styles:{"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4"}}),A=t.VerticalTiledPlot=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.brushBehavior=(0,p.brushY)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){this.props.isRangeSelectionActive&&this.addBrush()}return e}()},{key:"shouldComponentUpdate",value:function(){function e(e,t){if(this.rangeSelectionTriggered)return this.rangeSelectionTriggered=!1,this.state!==t;if(this.props.rangeSelection!==e.rangeSelection){var n=this.props.is1dRangeSelection?0:1;return this.props.chromInfo&&this.moveBrush(e.rangeSelection[n]?(0,S.genomeLociToPixels)(e.rangeSelection[n],this.props.chromInfo):null),this.state!==t}return!0}return e}()},{key:"componentDidUpdate",value:function(){function e(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}return e}()},{key:"addBrush",value:function(){function e(){this.brushEl&&this.brushElAddedBefore!==this.brushEl&&(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl)}return e}()},{key:"brushed",value:function(){function e(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,v.event.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(v.event.selection))}return e}()},{key:"brushStarted",value:function(){function e(){v.event.sourceEvent&&v.event.selection&&this.props.onRangeSelectionStart()}return e}()},{key:"brushedEnded",value:function(){function e(){!v.event.selection&&this.props.is1dRangeSelection&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionEnd())}return e}()},{key:"moveBrush",value:function(){function e(e){if(this.brushEl){var t=e?[this.props.scale(e[0]),this.props.scale(e[1])]:null;this.rangeSelectionMoved=!0,this.brushEl.call(this.brushBehavior.move,t)}}return e}()},{key:"removeBrush",value:function(){function e(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionEnd())}return e}()},{key:"render",value:function(){function e(){var e=this,t=this.props.tracks.map(function(e){return e.width}).reduce(S.sum,0),n=this.props.tracks.map(function(e){return(0,T.IS_TRACK_RANGE_SELECTABLE)(e)}).reduce(S.or,!1),r=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return d.default.createElement("div",{className:"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},n&&d.default.createElement("svg",{ref:function(){function t(t){return e.brushEl=(0,v.select)(t)}return t}(),style:{height:this.props.height,width:t},xmlns:"http://www.w3.org/2000/svg",className:(0,u.default)(r,M)}),d.default.createElement(b.default,{axis:"x",className:P.default.list+" "+P.default.stylizedList+" "+P.default.horizontalList,component:_.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:this.props.height,helperClass:P.default.stylizedHelper,itemClass:P.default.stylizedItem+" "+P.default.horizontalItem,itemControlAlignLeft:this.props.tracksControlAlignLeft,itemReactClass:x.default,items:this.props.tracks.map(function(t){return{configMenuVisible:t.uid===e.props.configTrackMenuId,uid:t.uid||g.default.nice(),height:e.props.height,width:t.width,value:t.value}}),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:t}))}return e}()}]),t}(d.default.Component);A.propTypes={configTrackMenuId:f.default.string,chromInfo:f.default.object,editable:f.default.bool,handleConfigTrack:f.default.func,handleResizeTrack:f.default.func,handleSortEnd:f.default.func,is1dRangeSelection:f.default.bool,isRangeSelectionActive:f.default.bool,height:f.default.number,onAddSeries:f.default.func,onCloseTrack:f.default.func,onCloseTrackMenuOpened:f.default.func,onConfigTrackMenuOpened:f.default.func,onRangeSelection:f.default.func,onRangeSelectionEnd:f.default.func,onRangeSelectionStart:f.default.func,rangeSelection:f.default.array,referenceAncestor:f.default.func,resizeHandles:f.default.object,scale:f.default.func,tracks:f.default.array,tracksControlAlignLeft:f.default.bool},t.default=A},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalTrack=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(146),f=r(c),h=n(89),d=r(h),p={pointerEvents:"all"},v=t.VerticalTrack=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getControls",value:function(){function e(e){return u.default.createElement(d.default,{imgStyleAdd:p,imgStyleClose:p,imgStyleMove:p,imgStyleSettings:p,isAlignLeft:this.props.controlAlignLeft,isMoveable:this.moveable,isVertical:!0,isVisible:e,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}return e}()}]),t}(f.default);t.default=v},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewHeader=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(32),u=r(l),c=n(0),f=r(c),h=n(2),d=n(87),p=n(50),v=r(p),m=n(259),g=n(247),y=n(6);n(207);var b={"../styles/ViewHeader.module.scss":{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF"}},w=t.ViewHeader=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.configImg=null,n.plusImg=null,n.state={addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null,configMenuUid:null,configMenuPosition:null,isFocused:!1,width:-1},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){function e(){this.setState({width:this.el.clientWidth})}return e}()},{key:"checkWidth",value:function(){function e(){var e=this.el.clientWidth;e!==this.state.width&&this.setState({width:e})}return e}()},{key:"handleConfigMenuOpened",value:function(){function e(e){this.setState({configMenuUid:e,configMenuPosition:this.configImg.getBoundingClientRect()})}return e}()},{key:"handleAddTrackPositionMenuOpened",value:function(){function e(e){this.setState({addTrackPositionMenuUid:e,addTrackPositionMenuPosition:this.plusImg.getBoundingClientRect()})}return e}()},{key:"handleTrackPositionChosen",value:function(){function e(e){this.props.onTrackPositionChosen(e),this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}return e}()},{key:"render",value:function(){function e(){var e=this,t=null,n=null;this.state.addTrackPositionMenuPosition&&(n=f.default.createElement(d.PopupMenu,{onMenuClosed:function(){function t(){e.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}return t}()},f.default.createElement(v.default,{orientation:"left",position:this.state.addTrackPositionMenuPosition},f.default.createElement(g.AddTrackPositionMenu,{onTrackPositionChosen:this.handleTrackPositionChosen.bind(this)})))),this.state.configMenuUid&&(t=f.default.createElement(d.PopupMenu,{onMenuClosed:function(){function t(){return e.setState({configMenuUid:null})}return t}()},f.default.createElement(v.default,{orientation:"left",position:this.state.configMenuPosition},f.default.createElement(m.ConfigViewMenu,{onExportSVG:function(){function t(){e.setState({configMenuUid:null}),e.props.onExportSVG()}return t}(),onClearView:function(){function t(){e.setState({configMenuUid:null}),e.props.onClearView()}return t}(),onExportViewAsJSON:function(){function t(){e.setState({configMenuUid:null}),e.props.onExportViewsAsJSON()}return t}(),onExportViewAsLink:function(){function t(){e.setState({configMenuUid:null}),e.props.onExportViewsAsLink()}return t}(),onLockLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onLockLocation(e.state.configMenuUid)}return t}(),onLockZoom:function(){function t(){e.setState({configMenuUid:null}),e.props.onLockZoom(e.state.configMenuUid)}return t}(),onLockZoomAndLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onLockZoomAndLocation(e.state.configMenuUid)}return t}(),onProjectViewport:function(){function t(){e.setState({configMenuUid:null}),e.props.onProjectViewport(e.state.configMenuUid)}return t}(),onTakeAndLockZoomAndLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onTakeAndLockZoomAndLocation(e.state.configMenuUid)}return t}(),onTogglePositionSearchBox:function(){function t(){e.setState({configMenuUid:null}),e.props.onTogglePositionSearchBox(e.state.configMenuUid)}return t}(),onUnlockLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onUnlockLocation(e.state.configMenuUid)}return t}(),onUnlockZoom:function(){function t(){e.setState({configMenuUid:null}),e.props.onUnlockZoom(e.state.configMenuUid)}return t}(),onUnlockZoomAndLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onUnlockZoomAndLocation(e.state.configMenuUid)}return t}(),onYankLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onYankLocation(e.state.configMenuUid)}return t}(),onYankZoom:function(){function t(){e.setState({configMenuUid:null}),e.props.onYankZoom(e.state.configMenuUid)}return t}(),onYankZoomAndLocation:function(){function t(){e.setState({configMenuUid:null}),e.props.onYankZoomAndLocation(e.state.configMenuUid)}return t}(),onZoomToData:function(){function t(){e.setState({configMenuUid:null}),e.props.onZoomToData(e.state.configMenuUid)}return t}()}))));var r=this.props.getGenomePositionSearchBox(this.state.isFocused,function(t){e.setState({isFocused:t})}),i=this.state.isFocused?"multitrack-header-focus":"multitrack-header",o=this.state.width<=y.VIEW_HEADER_MED_WIDTH_SEARCH_BAR?"multitrack-header-icon-squeazed":"multitrack-header-icon";return f.default.createElement("div",{ref:function(){function t(t){e.el=t}return t}(),className:(0,u.default)(i,b)},f.default.createElement("div",{className:"ViewHeader-module_multitrack-header-left-Qj9Sm"},f.default.createElement("div",{className:"ViewHeader-module_multitrack-header-grabber-3jrIz"},f.default.createElement("div",null),f.default.createElement("div",null),f.default.createElement("div",null)),this.state.width>y.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR&&f.default.createElement("div",{className:"ViewHeader-module_multitrack-header-search-1X_3_"},this.props.isGenomePositionSearchBoxVisible&&r)),f.default.createElement("nav",{className:"ViewHeader-module_multitrack-header-nav-list-2nvcu"},f.default.createElement("svg",{onClick:this.props.onAddView,className:(0,u.default)(o,b)},f.default.createElement("use",{xlinkHref:"#copy"})),f.default.createElement("svg",{ref:function(){function t(t){e.configImg=t}return t}(),onClick:function(){function t(){return e.handleConfigMenuOpened(e.props.viewUid)}return t}(),className:(0,u.default)(o,b)},f.default.createElement("use",{xlinkHref:"#cog"})),f.default.createElement("svg",{ref:function(){function t(t){e.plusImg=t}return t}(),onClick:function(){function t(){return e.handleAddTrackPositionMenuOpened(e.props.viewUid)}return t}(),className:(0,u.default)(o,b)},f.default.createElement("use",{xlinkHref:"#plus"})),f.default.createElement("svg",{onClick:this.props.onCloseView,className:(0,u.default)(o,b)},f.default.createElement("use",{xlinkHref:"#cross"}))),t,n)}return e}()}]),t}(f.default.Component);w.defaultProps={isGenomePositionSearchBoxVisible:!1},w.propTypes={getGenomePositionSearchBox:h.PropTypes.func.isRequired,isGenomePositionSearchBoxVisible:h.PropTypes.bool,onAddView:h.PropTypes.func.isRequired,onClearView:h.PropTypes.func.isRequired,onCloseView:h.PropTypes.func.isRequired,onExportSVG:h.PropTypes.func.isRequired,onExportViewsAsJSON:h.PropTypes.func.isRequired,onExportViewsAsLink:h.PropTypes.func.isRequired,onLockLocation:h.PropTypes.func.isRequired,onLockZoom:h.PropTypes.func.isRequired,onLockZoomAndLocation:h.PropTypes.func.isRequired,onProjectViewport:h.PropTypes.func.isRequired,onTakeAndLockZoomAndLocation:h.PropTypes.func.isRequired,onTogglePositionSearchBox:h.PropTypes.func.isRequired,onTrackPositionChosen:h.PropTypes.func.isRequired,onUnlockLocation:h.PropTypes.func.isRequired,onUnlockZoom:h.PropTypes.func.isRequired,onUnlockZoomAndLocation:h.PropTypes.func.isRequired,onYankLocation:h.PropTypes.func.isRequired,onYankZoom:h.PropTypes.func.isRequired,onYankZoomAndLocation:h.PropTypes.func.isRequired,onZoomToData:h.PropTypes.func.isRequired,viewUid:h.PropTypes.string.isRequired},t.default=w},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewportTracker2D=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),u=n(53),c=r(u),f=n(10),h=r(f),d=n(25),p=n(4),v=t.ViewportTracker2D=function(e){function t(e,n,r,a,s){i(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,!0)),u=h.default.nice();return l.uid=u,l.options=s,l.removeViewportChanged=r,l.setDomainsCallback=a,l.viewportXDomain=null,l.viewportYDomain=null,l.brush=(0,d.brush)(!0).extent([[-Number.MAX_VALUE/2,-Number.MAX_VALUE/2],[Number.MAX_VALUE/2,Number.MAX_VALUE/2]]).on("brush",l.brushed.bind(l)),l.gBrush=l.gMain.append("g").attr("id","brush-"+l.uid).call(l.brush),l.gBrush.selectAll(".overlay").style("pointer-events","none"),l.gBrush.selectAll(".handle--n").style("pointer-events","none"),l.gBrush.selectAll(".handle--s").style("pointer-events","none"),l.gBrush.selectAll(".handle--w").style("pointer-events","none"),l.gBrush.selectAll(".handle--e").style("pointer-events","none"),n(u,l.viewportChanged.bind(l)),l.draw(),l}return a(t,e),s(t,[{key:"brushed",value:function(){function e(){var e=p.event.selection;if(this._xScale&&this._yScale){var t=[this._xScale.invert(e[0][0]),this._xScale.invert(e[1][0])],n=[this._yScale.invert(e[0][1]),this._yScale.invert(e[1][1])];this.setDomainsCallback(t,n)}}return e}()},{key:"viewportChanged",value:function(){function e(e,t){var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}return e}()},{key:"remove",value:function(){function e(){this.removeViewportChanged(this.uid),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}return e}()},{key:"rerender",value:function(){function e(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}return e}()},{key:"draw",value:function(){function e(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=this._xScale(this.viewportXDomain[0]),t=this._yScale(this.viewportYDomain[0]),n=this._xScale(this.viewportXDomain[1]),r=this._yScale(this.viewportYDomain[1]),i=[[e,t],[n,r]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,i),this.brush.on("brush",this.brushed.bind(this))}}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"setPosition",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.draw()}return e}()}]),t}(c.default);t.default=v},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewportTrackerHorizontal=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),u=n(25),c=n(4),f=n(10),h=r(f),d=n(53),p=r(d),v=t.ViewportTrackerHorizontal=function(e){function t(e,n,r,a,s){i(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,!0)),c=h.default.nice();return l.uid=c,l.options=s,l.removeViewportChanged=r,l.setDomainsCallback=a,l.viewportXDomain=null,l.viewportYDomain=null,l.brush=(0,u.brush)(!0).on("brush",l.brushed.bind(l)),l.gBrush=l.gMain.append("g").attr("id","brush-"+l.uid).call(l.brush),l.gBrush.selectAll(".overlay").style("pointer-events","none"),l.gBrush.selectAll(".handle--ne").style("pointer-events","none"),l.gBrush.selectAll(".handle--nw").style("pointer-events","none"),l.gBrush.selectAll(".handle--sw").style("pointer-events","none"),l.gBrush.selectAll(".handle--se").style("pointer-events","none"),l.gBrush.selectAll(".handle--n").style("pointer-events","none"),l.gBrush.selectAll(".handle--s").style("pointer-events","none"),n(c,l.viewportChanged.bind(l)),l.draw(),l}return a(t,e),s(t,[{key:"brushed",value:function(){function e(){var e=c.event.selection;if(this._xScale&&this._yScale){var t=[this._xScale.invert(e[0][0]),this._xScale.invert(e[1][0])],n=this.viewportYDomain;this.setDomainsCallback(t,n)}}return e}()},{key:"viewportChanged",value:function(){function e(e,t){var n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],e.domain()),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}return e}()},{key:"remove",value:function(){function e(){this.removeViewportChanged(this.uid),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}return e}()},{key:"rerender",value:function(){function e(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}return e}()},{key:"draw",value:function(){function e(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=this._xScale(this.viewportXDomain[0]),t=this._xScale(this.viewportXDomain[1]),n=this.dimensions[1],r=[[e,0],[t,n]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,r),this.brush.on("brush",this.brushed.bind(this))}}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"setPosition",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.draw()}return e}()}]),t}(p.default);t.default=v},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewportTrackerVertical=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)}return e}(),u=n(53),c=r(u),f=n(10),h=r(f),d=n(25),p=n(4),v=t.ViewportTrackerVertical=function(e){function t(e,n,r,a,s){i(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,!0)),u=h.default.nice();l.uid=u,l.options=s,l.removeViewportChanged=r,l.setDomainsCallback=a,l.viewportXDomain=null,l.viewportYDomain=null;return l.brush=(0,d.brush)(!0).on("brush",l.brushed.bind(l)),l.gBrush=l.gMain.append("g").attr("id","brush-"+l.uid).call(l.brush),l.gBrush.selectAll(".overlay").style("pointer-events","none"),l.gBrush.selectAll(".handle--ne").style("pointer-events","none"),l.gBrush.selectAll(".handle--nw").style("pointer-events","none"),l.gBrush.selectAll(".handle--sw").style("pointer-events","none"),l.gBrush.selectAll(".handle--se").style("pointer-events","none"),l.gBrush.selectAll(".handle--e").style("pointer-events","none"),l.gBrush.selectAll(".handle--w").style("pointer-events","none"),n(u,l.viewportChanged.bind(l)),l.draw(),l}return a(t,e),s(t,[{key:"brushed",value:function(){function e(){var e=p.event.selection;if(this._xScale&&this._yScale){var t=this.viewportXDomain,n=[this._yScale.invert(e[0][1]),this._yScale.invert(e[1][1])];this.setDomainsCallback(t,n)}}return e}()},{key:"viewportChanged",value:function(){function e(e,t){var n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],e.domain()),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}return e}()},{key:"remove",value:function(){function e(){this.removeViewportChanged(this.uid),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}return e}()},{key:"rerender",value:function(){function e(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}return e}()},{key:"draw",value:function(){function e(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=this._yScale(this.viewportYDomain[0]),t=this.dimensions[0],n=this._yScale(this.viewportYDomain[1]),r=[[0,e],[t,n]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,r),this.brush.on("brush",this.brushed.bind(this))}}return e}()},{key:"zoomed",value:function(){function e(e,t){this.xScale(e),this.yScale(t),this.draw()}return e}()},{key:"setPosition",value:function(){function e(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPosition",this).call(this,e),this.draw()}return e}()}]),t}(c.default);t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.api=void 0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(3),o=n(6),a=n(31),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=t.api=function(){function e(e){var t=e;return{setViewConfig:function(){function e(e){var n=this,r=t.processViewConfig(e);return new Promise(function(e,i){n.requestsInFlight=0;s.default.subscribe("requestSent",function(e){n.requestsInFlight+=1}),s.default.subscribe("requestReceived",function(t){n.requestsInFlight-=1,0==n.requestsInFlight&&e()});t.setState({views:r},function(){})})}return e}(),zoomToDataExtent:function(){function e(e){t.handleZoomToData(e)}return e}(),activateTool:function(){function e(e){switch(e){case"select":t.setMouseTool(o.MOUSE_TOOL_SELECT);break;default:t.setMouseTool(o.MOUSE_TOOL_MOVE)}}return e}(),get:function(){function e(e,n){switch(e){case"location":return void 0===n?Promise.reject("Please provide the view UUID sweetheart 😙"):t.getGenomeLocation(n);case"rangeSelection":return Promise.resolve(t.rangeSelection);case"viewConfig":return Promise.resolve(t.getViewsAsString());default:return Promise.reject('Propert "'+e+'" unknown')}}return e}(),goTo:function(){function e(e,n,o,a,s,l,u){var c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:3e3;if(!t.chromInfo)return void t.setChromInfo(t.state.views[e].chromInfoPath,function(){t.api.goTo(e,n,o,a,s,l,u,c,f)});var h=(0,i.relToAbsChromPos)(n,o,a,t.chromInfo),d=r(h,2),p=d[0],v=d[1],m=(0,i.relToAbsChromPos)(s,l,u,t.chromInfo),g=r(m,2),y=g[0],b=g[1],w=(0,i.scalesCenterAndK)(t.xScales[e].copy().domain([p,v]),t.yScales[e].copy().domain([y,b])),x=r(w,3),k=x[0],_=x[1],S=x[2];t.setCenters[e](k,_,S,!1,c,f)}return e}(),off:function(){function e(e,n,r){switch(e){case"location":t.offLocationChange(r,n);break;case"rangeSelection":t.offRangeSelection(n);break;case"viewConfig":t.offViewChange(n)}}return e}(),on:function(){function e(e,n,r,i){switch(e){case"location":t.onLocationChange(r,n,i);break;case"rangeSelection":return t.onRangeSelection(n);case"viewConfig":return t.onViewChange(n)}}return e}()}}return e}();t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AVAILABLE_TRACK_TYPES=void 0;var r=n(6),i=t.AVAILABLE_TRACK_TYPES=function(){function e(e,t){var n=(0,r.DATATYPE_TO_TRACK_TYPE)(t),i=e[0],o=!0,a=!0,s=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){u.value!==i&&(o=!1)}}catch(e){s=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}return o?n[e[0]]:[]}return e}();t.default=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.HEATED_OBJECT_MAP=[[0,0,0,255],[35,0,0,255],[52,0,0,255],[60,0,0,255],[63,1,0,255],[64,2,0,255],[68,5,0,255],[69,6,0,255],[72,8,0,255],[74,10,0,255],[77,12,0,255],[78,14,0,255],[81,16,0,255],[83,17,0,255],[85,19,0,255],[86,20,0,255],[89,22,0,255],[91,24,0,255],[92,25,0,255],[94,26,0,255],[95,28,0,255],[98,30,0,255],[100,31,0,255],[102,33,0,255],[103,34,0,255],[105,35,0,255],[106,36,0,255],[108,38,0,255],[109,39,0,255],[111,40,0,255],[112,42,0,255],[114,43,0,255],[115,44,0,255],[117,45,0,255],[119,47,0,255],[119,47,0,255],[120,48,0,255],[122,49,0,255],[123,51,0,255],[125,52,0,255],[125,52,0,255],[126,53,0,255],[128,54,0,255],[129,56,0,255],[129,56,0,255],[131,57,0,255],[132,58,0,255],[134,59,0,255],[134,59,0,255],[136,61,0,255],[137,62,0,255],[137,62,0,255],[139,63,0,255],[139,63,0,255],[140,65,0,255],[142,66,0,255],[142,66,0,255],[143,67,0,255],[143,67,0,255],[145,68,0,255],[145,68,0,255],[146,70,0,255],[146,70,0,255],[148,71,0,255],[148,71,0,255],[149,72,0,255],[149,72,0,255],[151,73,0,255],[151,73,0,255],[153,75,0,255],[153,75,0,255],[154,76,0,255],[154,76,0,255],[154,76,0,255],[156,77,0,255],[156,77,0,255],[157,79,0,255],[157,79,0,255],[159,80,0,255],[159,80,0,255],[159,80,0,255],[160,81,0,255],[160,81,0,255],[162,82,0,255],[162,82,0,255],[163,84,0,255],[163,84,0,255],[165,85,0,255],[165,85,0,255],[166,86,0,255],[166,86,0,255],[166,86,0,255],[168,87,0,255],[168,87,0,255],[170,89,0,255],[170,89,0,255],[171,90,0,255],[171,90,0,255],[173,91,0,255],[173,91,0,255],[174,93,0,255],[174,93,0,255],[176,94,0,255],[176,94,0,255],[177,95,0,255],[177,95,0,255],[179,96,0,255],[179,96,0,255],[180,98,0,255],[182,99,0,255],[182,99,0,255],[183,100,0,255],[183,100,0,255],[185,102,0,255],[185,102,0,255],[187,103,0,255],[187,103,0,255],[188,104,0,255],[188,104,0,255],[190,105,0,255],[191,107,0,255],[191,107,0,255],[193,108,0,255],[193,108,0,255],[194,109,0,255],[196,110,0,255],[196,110,0,255],[197,112,0,255],[197,112,0,255],[199,113,0,255],[200,114,0,255],[200,114,0,255],[202,116,0,255],[202,116,0,255],[204,117,0,255],[205,118,0,255],[205,118,0,255],[207,119,0,255],[208,121,0,255],[208,121,0,255],[210,122,0,255],[211,123,0,255],[211,123,0,255],[213,124,0,255],[214,126,0,255],[214,126,0,255],[216,127,0,255],[217,128,0,255],[217,128,0,255],[219,130,0,255],[221,131,0,255],[221,131,0,255],[222,132,0,255],[224,133,0,255],[224,133,0,255],[225,135,0,255],[227,136,0,255],[227,136,0,255],[228,137,0,255],[230,138,0,255],[230,138,0,255],[231,140,0,255],[233,141,0,255],[233,141,0,255],[234,142,0,255],[236,144,0,255],[236,144,0,255],[238,145,0,255],[239,146,0,255],[241,147,0,255],[241,147,0,255],[242,149,0,255],[244,150,0,255],[244,150,0,255],[245,151,0,255],[247,153,0,255],[247,153,0,255],[248,154,0,255],[250,155,0,255],[251,156,0,255],[251,156,0,255],[253,158,0,255],[255,159,0,255],[255,159,0,255],[255,160,0,255],[255,161,0,255],[255,163,0,255],[255,163,0,255],[255,164,0,255],[255,165,0,255],[255,167,0,255],[255,167,0,255],[255,168,0,255],[255,169,0,255],[255,169,0,255],[255,170,0,255],[255,172,0,255],[255,173,0,255],[255,173,0,255],[255,174,0,255],[255,175,0,255],[255,177,0,255],[255,178,0,255],[255,179,0,255],[255,181,0,255],[255,181,0,255],[255,182,0,255],[255,183,0,255],[255,184,0,255],[255,187,7,255],[255,188,10,255],[255,189,14,255],[255,191,18,255],[255,192,21,255],[255,193,25,255],[255,195,29,255],[255,197,36,255],[255,198,40,255],[255,200,43,255],[255,202,51,255],[255,204,54,255],[255,206,61,255],[255,207,65,255],[255,210,72,255],[255,211,76,255],[255,214,83,255],[255,216,91,255],[255,219,98,255],[255,221,105,255],[255,223,109,255],[255,225,116,255],[255,228,123,255],[255,232,134,255],[255,234,142,255],[255,237,149,255],[255,239,156,255],[255,240,160,255],[255,243,167,255],[255,246,174,255],[255,248,182,255],[255,249,185,255],[255,252,193,255],[255,253,196,255],[255,255,204,255],[255,255,207,255],[255,255,211,255],[255,255,218,255],[255,255,222,255],[255,255,225,255],[255,255,229,255],[255,255,233,255],[255,255,236,255],[255,255,240,255],[255,255,244,255],[255,255,247,255],[255,255,255,0]]},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DATATYPE_TO_TRACK_TYPE=void 0;var r=n(6),i=t.DATATYPE_TO_TRACK_TYPE=function(){function e(e){var t={};return r.TRACKS_INFO.filter(function(t){return t.orientation==e}).forEach(function(e){var n=e.datatype;Array.isArray(e.datatype)||(n=[n]),n.forEach(function(n){n in t||(t[n]=[]),t[n].push(e)})}),t.none=[],t}return e}();t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.IS_TRACK_RANGE_SELECTABLE=void 0;var r=n(3),i=t.IS_TRACK_RANGE_SELECTABLE=function(){function e(t){switch(t.type){case"heatmap":case"horizontal-line":case"vertical-line":case"horizontal-1d-tiles":case"vertical-1d-tiles":case"2d-tiles":case"horizontal-gene-annotations":case"vertical-gene-annotations":case"horizontal-heatmap":case"vertical-heatmap":case"osm-tiles":case"mapbox-tiles":return!0;case"combined":return t.contents.map(function(t){return e(t)}).reduce(r.or,!1);default:return!1}}return e}();t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.OPTIONS_INFO=void 0;var r=n(45),i=n(265),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a={black:{name:"Black",value:"black"},blue:{name:"Blue",value:"blue"},brown:{name:"Brown",value:"brown"},cyan:{name:"Cyan",value:"cyan"},green:{name:"Green",value:"green"},grey:{name:"Grey",value:"grey"},orange:{name:"Orange",value:"orange"},purple:{name:"Purple",value:"purple"},turquoise:{name:"Turquoise",value:"turquoise"},red:{name:"Red",value:"red"},white:{name:"White",value:"white"}},s={1:{name:"1",value:1},2:{name:"2",value:2},3:{name:"3",value:3},5:{name:"5",value:5},8:{name:"8",value:8},13:{name:"13",value:13},21:{name:"21",value:21}},l=Object.assign(s,{none:{name:"none",value:"none"}}),u={0:{name:"0%",value:0},.2:{name:"20%",value:.2},.4:{name:"40%",value:.4},.6:{name:"60%",value:.6},.8:{name:"80%",value:.8},"1.0":{name:"100%",value:1}},c=t.OPTIONS_INFO={heatmapValueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},valueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},lineStrokeWidth:{name:"Stroke Width",inlineOptions:s},strokeWidth:{name:"Stroke Width",inlineOptions:s},trackBorderWidth:{name:"Track Border Width",inlineOptions:s},minSquareSize:{name:"Minimum size",inlineOptions:l},pointSize:{name:"Point Size",inlineOptions:s},pointColor:{name:"Point Color",inlineOptions:a},trackBorderColor:{name:"Track Border Color",inlineOptions:a},minusStrandColor:{name:"- Strand Color",inlineOptions:a},plusStrandColor:{name:"+ Strand Color",inlineOptions:a},lineStrokeColor:{name:"Stroke color",inlineOptions:a},projectionStrokeColor:{name:"Stroke color",inlineOptions:a},projectionFillColor:{name:"Fill color",inlineOptions:a},strokeColor:{name:"Stroke color",inlineOptions:a},fillColor:{name:"Fill color",inlineOptions:a},barFillColor:{name:"Fill color",inlineOptions:a},barFillColorTop:{name:"Top Fill color",inlineOptions:a},barFillColorBottom:{name:"Bottom Fill color",inlineOptions:a},barOpacity:{name:"Bar opacity",inlineOptions:u},rectangleDomainStrokeColor:{name:"Stroke color",inlineOptions:a},rectangleDomainFillColor:{name:"Fill color",inlineOptions:a},rectangleDomainOpacity:{name:"Opacity",inlineOptions:u},mapboxStyle:{name:"Map style",inlineOptions:{streets:{name:"streets",value:"mapbox.streets"},light:{name:"light",value:"mapbox.light"},dark:{name:"dark",value:"mapbox.dark"},satellite:{name:"satellite",value:"mapbox.satellite"},"streets-satellite":{name:"streets-satellite",value:"mapbox.streets-satellite"},wheatpaste:{name:"wheatpaste",value:"mapbox.wheatpaste"},"streets-basic":{name:"streets-basic",value:"mapbox.streets-basic"},comic:{name:"comic",value:"mapbox.comic"},outdoors:{name:"outdoors",value:"mapbox.outdoors"},"run-bike-hike":{name:"run-bike-hike",value:"mapbox.run-bike-hike"},pencil:{name:"pencil",value:"mapbox.pencil"},pirates:{name:"pirates",value:"mapbox.pirates"},emerald:{name:"emerald",value:"mapbox.emerald"},"high-contrast":{name:"high-contrast",value:"mapbox.high-contrast"}}},oneDHeatmapFlipped:{name:"Flip Heatmap",inlineOptions:{yes:{name:"Yes",value:"yes"},no:{name:"No",value:null}}},axisPositionHorizontal:{name:"Axis Position",inlineOptions:{left:{name:"Left",value:"left"},outsideLeft:{name:"Outside left",value:"outsideLeft"},right:{name:"Right",value:"right"},outsideRight:{name:"Outside right",value:"outsideRight"},hidden:{name:"Hidden",value:null}}},axisPositionVertical:{name:"Axis Position",inlineOptions:{top:{name:"Top",value:"top"},outsideTop:{name:"Outside top",value:"outsideTop"},bottom:{name:"Bottom",value:"bottom"},outsideBottom:{name:"Outside bottom",value:"outsideBottom"},hidden:{name:"Hidden",value:null}}},colorbarPosition:{name:"Colorbar Position",inlineOptions:{topLeft:{name:"Top Left",value:"topLeft"},topRight:{name:"Top Right",value:"topRight"},bottomLeft:{name:"Bottom Left",value:"bottomLeft"},bottomRight:{name:"Bottom Right",value:"bottomRight"},hidden:{name:"Hidden",value:null}}},colorbarLabelsPosition:{name:"Colorbar Labels Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},labelColor:{name:"Label Color",inlineOptions:a},labelPosition:{name:"Label Position",inlineOptions:{ol:{name:"Outer left",value:"outerLeft"},or:{name:"Outer right",value:"outerRight"},ot:{name:"Outer top",value:"outerTop"},ob:{name:"Outer bottom",value:"outerBottom"},tl:{name:"Top left",value:"topLeft"},tr:{name:"Top right",value:"topRight"},bl:{name:"Bottom left",value:"bottomLeft"},br:{name:"Bottom right",value:"bottomRight"},hidden:{name:"Hidden",value:"hidden"}}},labelTextOpacity:{name:"Label Text Opacity",inlineOptions:u},labelBackgroundOpacity:{name:"Label Background Opacity",inlineOptions:u},colorRange:{name:"Color map",inlineOptions:{afmhot:{name:"afmhot",value:["rgba(0,0,0,1.0)","rgba(128,0,0,1.0)","rgba(256,129,1,1.0)","rgba(256,256,129,1.0)","rgba(256,256,256,1.0)"]},fall:{name:"fall",value:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"]},hot:{name:"hot",value:["rgba(10,0,0,1.0)","rgba(179,0,0,1.0)","rgba(256,91,0,1.0)","rgba(256,256,6,1.0)","rgba(256,256,256,1.0)"]},jet:{name:"jet",value:["rgba(0,0,128,1.0)","rgba(0,129,256,1.0)","rgba(125,256,122,1.0)","rgba(256,148,0,1.0)","rgba(128,0,0,1.0)"]},bwr:{name:"bwr",value:["rgba(0,0,256,1.0)","rgba(128,128,256,1.0)","rgba(256,254,254,1.0)","rgba(256,126,126,1.0)","rgba(256,0,0,1.0)"]},cubehelix:{name:"cubehelix",value:["rgba(0,0,0,1.0)","rgba(21,83,76,1.0)","rgba(162,121,74,1.0)","rgba(199,180,238,1.0)","rgba(256,256,256,1.0)"]},rainbow:{name:"rainbow",value:["rgba(128,0,256,1.0)","rgba(0,181,236,1.0)","rgba(129,255,180,1.0)","rgba(256,179,96,1.0)","rgba(256,0,0,1.0)"]},gray:{name:"greys",value:["rgba(255,255,255,1)","rgba(0,0,0,1)"]},red:{name:"White to red",value:["rgba(255,255,255,1)","rgba(255,0,0,1)"]},green:{name:"White to green",value:["rgba(255,255,255,1)","rgba(0,255,0,1)"]},blue:{name:"White to blue",value:["rgba(255,255,255,1)","rgba(0,0,255,1)"]},custard:{name:"custard",value:["#FFFFFF","#F8E71C","rgba(245,166,35,1)","rgba(0,0,0,1)"]},custom:{name:"Custom...",componentPickers:{heatmap:o.default,"horizontal-heatmap":o.default}}}},dataTransform:{name:"Transforms",inlineOptions:{default:{name:"Default",value:"default"},None:{name:"None",value:"None"}},generateOptions:function(){function e(e){var t=[];if(e.transforms){var n=!0,r=!1,i=void 0;try{for(var o,a=e.transforms[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.push({name:s.name,value:s.value})}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}return t}return e}()},maxZoom:{name:"Zoom limit",inlineOptions:{none:{name:"None",value:null}},generateOptions:function(){function e(e){if(e.maxZoom){for(var t=[],n=0;n<=e.maxZoom;n++){var i=e.maxWidth,o=e.binsPerDimension,a=e.maxZoom,s=e.maxWidth/(Math.pow(2,n)*e.binsPerDimension),l=i/(Math.pow(2,a)*o),u=(0,r.precisionPrefix)(l,s),c=(0,r.formatPrefix)("."+u,s),f=c(s);t.push({name:f,value:n.toString()})}return t}return[]}return e}()},valueColumn:{name:"Value column",inlineOptions:{none:{name:"None",value:null}},generateOptions:function(){function e(e){if(!e.header)return[];for(var t=e.header.split("\t"),n=[],r=0;r<t.length;r++)n.push({name:t[r],value:r+1});return n}return e}()}};t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TRACKS_INFO_BY_TYPE=void 0;var r=n(6),i=t.TRACKS_INFO_BY_TYPE=r.TRACKS_INFO.reduce(function(e,t){return e[t.type]=t,e},{});t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TRACKS_INFO=void 0;var r=n(151),i=t.TRACKS_INFO=[{type:"left-axis",datatype:["axis"],local:!0,orientation:"1d-vertical",name:"Left Axis",thumbnail:r.svgVertical1DAxisIcon,minWidth:100},{type:"top-axis",datatype:["axis"],local:!0,orientation:"1d-horizontal",name:"Top Axis",thumbnail:r.svg1DAxisIcon,defaultOptions:{}},{type:"heatmap",datatype:["matrix"],local:!1,minHeight:100,minWidth:100,orientation:"2d",thumbnail:r.svg2DHeatmapIcon,defaultOptions:{labelPosition:"bottomRight",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,colorbarPosition:"topRight",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log"},availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","dataTransform","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"horizontal-heatmap",datatype:["matrix"],local:!1,minHeight:40,minWidth:100,orientation:"1d-horizontal",thumbnail:r.svg2DHeatmapIcon,defaultOptions:{labelPosition:"bottomRight",labelColor:"black",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,trackBorderWidth:0,trackBorderColor:"black"},availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","dataTransform","oneDHeatmapFlipped","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"vertical-heatmap",datatype:["matrix"],local:!1,minWidth:50,minHeight:100,orientation:"1d-vertical",thumbnail:r.svg2DHeatmapIcon,defaultOptions:{labelPosition:"bottomRight",labelColor:"black",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,colorbarPosition:"topRight",trackBorderWidth:0,trackBorderColor:"black"},availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","dataTransform","oneDHeatmapFlipped","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"horizontal-line",datatype:["vector"],local:!1,orientation:"1d-horizontal",thumbnail:r.svgHorizontalLineIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","lineStrokeWidth","lineStrokeColor","valueScaling","trackBorderWidth","trackBorderColor","trackType"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",axisPositionHorizontal:"right",lineStrokeColor:"blue",lineStrokeWidth:1,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"horizontal-multivec",datatype:["multivec"],local:!1,orientation:"1d-horizontal",thumbnail:null,availableOptions:["labelPosition","labelColor","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType"],defaultOptions:{labelPosition:"topLeft",labelColor:"black",labelTextOpacity:.4,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black"}},{type:"vertical-line",datatype:["vector"],local:!1,orientation:"1d-vertical",thumbnail:r.svgVerticalLineIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionVertical","lineStrokeWidth","lineStrokeColor","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",axisPositionVertical:"top",lineStrokeWidth:1,lineStrokeColor:"blue",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"horizontal-point",datatype:["vector"],local:!1,orientation:"1d-horizontal",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","pointColor","pointSize","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",axisPositionHorizontal:"right",pointColor:"red",pointSize:3,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"horizontal-divergent-bar",datatype:["vector"],local:!1,orientation:"1d-horizontal",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","barFillColorTop","barFillColorBottom","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",axisPositionHorizontal:"right",barFillColorBottom:"red",barFillColorTop:"green",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"horizontal-bar",datatype:["vector"],local:!1,orientation:"1d-horizontal",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","barFillColor","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",axisPositionHorizontal:"right",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"vertical-bar",datatype:["vector"],local:!1,orientation:"1d-vertical",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","barFillColor","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",axisPositionHorizontal:"right",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"vertical-point",datatype:["vector"],local:!1,orientation:"1d-vertical",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","lineStrokeWidth","lineStrokeColor","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",axisPositionHorizontal:"right",lineStrokeColor:"red",lineStrokeWidth:1,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"2d-tiles",datatype:["matrix"],local:!1,orientation:"2d",name:"2D Tile Outlines",thumbnail:r.svg2DTilesIcon},{type:"horizontal-1d-value-interval",datatype:["bed-value"],local:!1,orientation:["1d-horizontal"],name:"1D Rectangles",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",axisPositionHorizontal:"left",lineStrokeColor:"blue",valueScaling:"linear"}},{type:"vertical-1d-value-interval",datatype:["bed-value"],local:!1,orientation:["1d-vertical"],name:"1D Rectangles",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionVertical"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",axisPositionVertical:"top",lineStrokeColor:"blue",valueScaling:"linear"}},{type:"top-stacked-interval",datatype:["stacked-interval"],local:!1,orientation:"1d-horizontal",thumbnail:"horizontal-stacked-interval.png",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity"]},{type:"left-stacked-interval",datatype:["stacked-interval"],local:!1,orientation:"1d-vertical",thumbnail:"vertical-stacked-interval.png",availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity"]},{type:"viewport-projection-vertical",datatype:["1d-projection"],local:!0,hidden:!0,orientation:"1d-vertical",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-horizontal",datatype:["1d-projection"],local:!0,hidden:!0,orientation:"1d-horizontal",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-center",datatype:["2d-projection"],local:!0,hidden:!0,orientation:"2d",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"horizontal-gene-annotations",datatype:["gene-annotation"],local:!1,minHeight:55,orientation:"1d-horizontal",name:"Gene Annotations",thumbnail:r.svgGeneAnnotationsIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","plusStrandColor","minusStrandColor","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",plusStrandColor:"blue",minusStrandColor:"red",trackBorderWidth:0,trackBorderColor:"black"}},{type:"vertical-gene-annotations",datatype:["gene-annotation"],local:!1,minWidth:55,orientation:"1d-vertical",name:"Gene Annotations",thumbnail:r.svgVerticalGeneAnnotationsIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","plusStrandColor","minusStrandColor","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",plusStrandColor:"blue",minusStrandColor:"red",trackBorderWidth:0,trackBorderColor:"black"}},{type:"arrowhead-domains",datatype:["arrowhead-domains"],local:!1,orientation:"2d",name:"Arrowhead Domains",thumbnail:r.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",trackBorderWidth:0,trackBorderColor:"black"}},{type:"vertical-2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"1d-vertical",name:"Vertical 2D Rectangle Domains",thumbnail:r.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",trackBorderWidth:0,trackBorderColor:"black"}},{type:"horizontal-2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"1d-horizontal",name:"Horizontal 2D Rectangle Domains",thumbnail:r.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"2d",name:"2D Rectangle Domains",thumbnail:r.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{labelColor:"black",labelPosition:"hidden",trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"square-markers",datatype:["bedpe"],local:!1,orientation:"2d",name:"Square Markers",thumbnail:r.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",trackBorderWidth:0,trackBorderColor:"black"}},{type:"combined",datatype:"any",local:!0,orientation:"any"},{type:"2d-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"2d",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey"}},{type:"2d-chromosome-annotations",local:!0,orientation:"2d",name:"2D Chromosome Annotations",thumbnail:null,hidden:!0},{type:"2d-chromosome-labels",datatype:["chromsizes"],local:!0,orientation:"2d",name:"Pairwise Chromosome Labels",thumbnail:null},{type:"horizontal-chromosome-labels",datatype:["chromsizes"],orientation:"1d-horizontal",minHeight:30,name:"Chromosome Axis",thumbnail:null},{type:"vertical-chromosome-labels",datatype:["chromsizes"],orientation:"1d-vertical",minWidth:20,minHeight:30,name:"Chromosome Axis",thumbnail:null},{type:"vertical-1d-tiles",datatype:["1d-tiles"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Tile Outlines",thumbnail:r.svgVertical1DTilesIcon},{type:"horizontal-1d-tiles",datatype:["vector","stacked-interval","gene-annotation"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Tile Outlines",thumbnail:r.svg1DTilesIcon},{type:"osm-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"OSM Tiles",thumbnail:null,defaultOptions:{minPos:0,maxPos:312e7}},{type:"mapbox-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Mapbox Tiles",thumbnail:null,availableOptions:["mapboxStyle"],defaultOptions:{mapboxStyle:"mapbox.streets"}},{type:"bedlike",datatype:["bedlike"],local:!1,minHeight:55,orientation:"1d-horizontal",name:"BED-like track",thumbnail:null,availableOptions:["fillColor","labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","valueColumn"],defaultOptions:{fillColor:"blue",axisPositionHorizontal:"right",labelColor:"black",labelPosition:"hidden",trackBorderWidth:0,trackBorderColor:"black",valueColumn:null}},{type:"vertical-bedlike",datatype:["bedlike"],local:!1,minWidth:55,orientation:"1d-vertical",name:"BED-like track",thumbnail:null,availableOptions:["fillColor","labelPosition","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","valueColumn"],defaultOptions:{axisPositionHorizontal:"right",fillColor:"blue",labelColor:"black",labelPosition:"hidden",trackBorderWidth:0,trackBorderColor:"black",valueColumn:null}}];t.default=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.USED_SERVER="52.45.229.11"},function(e,t){function n(){this.root=null}function r(e,t,n){var r=new u(n[0],n[1]);if(r.max=n[1],r.parentNode=e,e[t]=r,e.max<n[1])for(;r;)r.max<n[1]&&(r.max=n[1]),r=r.parentNode}function i(e,t){e.interval[0]>t[0]?e.left?i(e.left,t):r(e,"left",t):e.right?i(e.right,t):r(e,"right",t)}function o(e,t){if(!t)return!1;if(t.interval[0]<=e&&t.interval[1]>=e)return!0;var n=!1,r=void 0;return["left","right"].forEach(function(i){(r=t[i])&&r.max>e&&(n=n||o(e,r))}),n}function a(e,t){return e[0]<=t[0]&&e[1]>=t[0]||e[0]<=t[1]&&e[1]>=t[1]||t[0]<=e[0]&&t[1]>=e[0]||t[0]<=e[1]&&t[1]>=e[1]}function s(e,t){if(!t)return!1;if(a(t.interval,e))return!0;var n=!1,r=void 0;return["left","right"].forEach(function(i){(r=t[i])&&r.max>=e[0]&&(n=n||s(e,r))}),n}function l(e){return e?1+Math.max(l(e.left),l(e.right)):0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var u=function(){function e(e,t,n,r){this.interval=[e,t],this.max=-1/0,this.parentNode=null,this.left=n,this.right=r}return e}();n.prototype.add=function(e){if(!this.root)return this.root=new u(e[0],e[1]),void(this.root.max=e[1]);i(this.root,e)},n.prototype.contains=function(e){return o(e,this.root)},n.prototype.intersects=function(e){return s(e,this.root)},n.prototype.height=function(){return l(this.root)},n.prototype.findMax=function(e){for(var t=[e],n=void 0,r=-1/0,i=void 0;t.length;)n=t.pop(),n.left&&t.push(n.left),n.right&&t.push(n.right),n.interval[1]>r&&(r=n.interval[1],i=n);return i},n.prototype._removeHelper=function(e,t){if(t)if(t.interval[0]===e[0]&&t.interval[1]===e[1]){if(t.left&&t.right){for(var n=t.left;n.left;)n=n.left;var r=n.interval;n.interval=t.interval,t.interval=r,this._removeHelper(n.interval,t)}else{var i="left";t.right&&(i="right");var o=t.parentNode;o?(o.left===t?o.left=t[i]:o.right=t[i],t[i]&&(t[i].parentNode=o)):(this.root=t[i],this.root&&(this.root.parentNode=null))}var a=t.parentNode;if(a)for(var s=this.findMax(a),l=s.interval[1];s;)s.max===t.interval[1]?(s.max=l,s=s.parentNode):s=!1}else this._removeHelper(e,t.left),this._removeHelper(e,t.right)},n.prototype.remove=function(e){return this._removeHelper(e,this.root)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),i={},o=function(){function e(e,t){return i[e]?Promise.resolve(i[e]):t(e)}return e}(),a=function(){function e(e){for(var t=(0,r.tsvParseRows)(e),n=[],i={},o={},a=0,s=0;s<t.length;s++){var l=Number(t[s][1]);a+=l;var u={id:s,chr:t[s][0],pos:a-l};n.push(u),o[u.chr]=u,i[t[s][0]]=l}return{cumPositions:n,chrPositions:o,totalLength:a,chromLengths:i}}return e}(),s=function(){function e(e){return fetch(e).then(function(e){return e.text()}).then(function(e){return a(e)}).catch(function(e){console.error("Could not retrieve or parse chrom info.",e)})}return e}(),l=function(){function e(e,t,n){return t(e,n).then(function(t){return i[e]=t,i[e]})}return e}(),u=function(){function e(e){return l(e,o,s)}return e}(),c={get:u};t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o={},a=function(){function e(e){return o[e]?o[e]:function(t){return i.default.publish(e,t)}}return e}(),s={},l=function(){function e(e,t){(s[e]||s[e]===t)&&(s[e].removeEventListener(e,a(e)),s[e]=void 0,delete s[e])}return e}(),u=function(){function e(e,t){t&&s[e]!==t&&(s[e]&&l(s[e]),s[e]=t,s[e].addEventListener(e,a(e)))}return e}(),c={register:u,unregister:l};t.default=c},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,n){t.requestsInFlight=v+=1,h.default.publish("requestSent",e),(0,s.text)(e,function(r,i){n(r,i),h.default.publish("requestReceived",e),t.requestsInFlight=v-=1})}function o(e,n){t.requestsInFlight=v+=1,h.default.publish("requestSent",e),(0,s.json)(e,function(r,i){h.default.publish("requestReceived",e),n(r,i),t.requestsInFlight=v-=1})}Object.defineProperty(t,"__esModule",{value:!0}),t.tileDataToPixData=t.trackInfo=t.calculateTilesFromResolution=t.calculateTiles=t.calculateZoomLevel=t.calculateZoomLevelFromResolutions=t.fetchTiles=t.fetchTilesDebounced=t.requestsInFlight=void 0;var a=n(9),s=n(37),l=n(10),u=r(l),c=n(63),f=n(31),h=r(f),d=n(6),p=u.default.nice(),v=t.requestsInFlight=0,m=function(){function e(e,t){var n=void 0,r=[],i={},o=function(){function e(e){var t=i[e.id];t&&r[t]?r[t].ids=r[t].ids.concat(e.ids):(i[e.id]=r.length,r.push(e))}return e}(),a=function(){function e(){n=null,r=[],i={}}return e}(),s=function(){function i(i){o(i);var s=function(){function t(){e({sessionId:p,requests:r}),a()}return t}();clearTimeout(n),n=setTimeout(s,t)}return i}();return s.cancel=function(){clearTimeout(n),a()},s.immediate=function(){e({sessionId:p,requests:r})},s}return e}(),g=m(c.workerFetchMultiRequestTiles,d.TILE_FETCH_DEBOUNCE),y=t.fetchTilesDebounced=function(){function e(e){return g(e)}return e}(),b=t.fetchTiles=function(){function e(e,t,n){return(0,c.workerFetchTiles)(e,t,(void 0).sessionId,function(e){n(e)})}return e}(),w=t.calculateZoomLevelFromResolutions=function(){function e(e,t,n,r){var i=e.map(function(e){return+e}).sort(function(e,t){return t-e}),o=t.range()[1]-t.range()[0],a=i.map(function(e){return(t.domain()[1]-t.domain()[0])/e}),s=a.map(function(e){return e/o}),l=s.filter(function(e){return e<1});return 0==l.length?0:s.indexOf(l[l.length-1])}return e}(),x=t.calculateZoomLevel=function(){function e(e,t,n){var r=e.range()[1]-e.range()[0],i=Math.max((n-t)/(e.domain()[1]-e.domain()[0]),1),o=Math.max(0,Math.ceil(Math.log(r/384)/Math.LN2));return Math.round(Math.log(i)/Math.LN2)+o}return e}(),k=t.calculateTiles=function(){function e(e,t,n,r,i,o){var s=e>i?i:e,l=o/Math.pow(2,s);return(0,a.range)(Math.max(0,Math.floor((t.domain()[0]-n)/l)),Math.min(Math.pow(2,s),Math.ceil((t.domain()[1]-n-1e-7)/l)))}return e}(),_=t.calculateTilesFromResolution=function(){function e(e,t,n,r,i){var o=i||256,s=e*o;r||(r=Number.MAX_VALUE);var l=(0,a.range)(Math.max(0,Math.floor((t.domain()[0]-n)/s)),Math.ceil(Math.min(r,t.domain()[1]-n-1e-7)/s));return l.length>20&&(console.warn("Too many visible tiles: "+l.length+" truncating to 20"),l=l.slice(0,20)),l}return e}(),S=t.trackInfo=function(){function e(e,t,n){var r=e+"/tileset_info/?d="+t+"&s="+p;(0,c.workerGetTilesetInfo)(r,n)}return e}(),T=t.tileDataToPixData=function(){function e(e,t,n,r,i){var o=e.tileData;if(o.dense){var a=new Float32Array(o.dense.length);a.set(o.dense);i((0,c.workerSetPix)(a.length,a,t,n,r))}}return e}(),O={calculateTiles:k,calculateTilesFromResolution:_,calculateZoomLevel:x,calculateZoomLevelFromResolutions:w,fetchTiles:b,fetchTilesDebounced:y,json:o,text:i,tileDataToPixData:T,trackInfo:S};t.default=O},function(e,t){function n(e,t,n,r){var i=e.append("symbol").attr("id",t).attr("viewBox",r);n.forEach(function(e){return i.append("path").attr("d",e).attr("fill","currentColor")})}Object.defineProperty(t,"__esModule",{value:!0}),t.createSymbolIcon=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e,t){var n=(0,r.chromInfoBisector)(t.cumPositions,e),i=t.cumPositions[t.cumPositions.length-1].chr,o=t.chromLengths[i];n-=n>0&&1;var a=Math.floor(e-t.cumPositions[n].pos),s=0;return a<0&&(s=a-1,a=1),n==t.cumPositions.length-1&&a>o&&(s=a-o,a=o),[t.cumPositions[n].chr,a,s,n]}return e}();t.default=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n){return n.chrPositions[e].pos+t}return e}();t.default=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=(0,r.bisector)(function(e){return e.pos}).left;t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(9),o=n(14),a=function(){function e(e){var t=e.map(function(t,n){return n*(255/(e.length-1))}),n=(0,r.scaleLinear)().domain(t).range(e),a=(0,i.range)(254,-1,-1).map(n).map(function(e){var t=(0,o.rgb)(e);return[t.r,t.g,t.b,255]});return a.push([255,255,255,0]),a}return e}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),i=n(8),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),a=function(){function e(e){var t=(0,r.color)(e);return o.utils.rgb2hex([t.r/255,t.g/255,t.b/255])}return e}();t.default=a},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.debounce=function(){function e(t,n,r){var i=void 0,o=function(){function e(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];var s=function(){function e(){i=null,r||t.apply(void 0,o)}return e}(),l=r&&!i;clearTimeout(i),i=setTimeout(s,n),l&&t.apply(void 0,o)}return e}();return e.cancel=function(){clearTimeout(i),i=null},o}return e}();t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t={};return e.forEach(function(e){t[e[0]]=e[1]}),t}return e}();t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push([n,e[n]]);return t}return e}();t.default=n},function(e,t){function n(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){function n(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){function n(e,t){var n=new Blob([t],{type:"text/csv"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(n,e);else{var r=window.document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.download=n,t.default=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e,t){return[(0,r.chrToAbs)(e[0],e[1],t),(0,r.chrToAbs)(e[2],e[3],t)]}return e}();t.default=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n in e){var r=e[n];if(r.filter){var i=r.filter(function(e){return e.uid==t});if(i.length)return i[0];var o=r.filter(function(e){return"combined"==e.type});if(o.length)for(var a=0;a<o.length;a++){var s=o[a],l=s.contents.filter(function(e){return e.uid==t});if(l.length)return l[0]}}}return null}return e}();t.default=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(153),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(){function e(e,t){return(0,i.default)(e).filter(function(e){return e.uid==t})[0].position}return e}();t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(3),o=function(){function e(e){return(0,i.objVals)(e).map(function(e){return e.chromInfoPath}).forEach(function(e){return r.chromInfo.get(e)})}return e}();t.default=o},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){return function(t){return Array.prototype.map.call(t,e)}}return e}();t.default=n},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e){return(0,r.map)(function(t){return e[t]})(Object.keys(e))}return e}();t.default=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){return e||t}return e}();t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.pixiTextToSvg=function(){function e(e){var t=document.createElement("g"),n=document.createElement("text");return n.setAttribute("text-anchor","middle"),n.setAttribute("font-family",e.style.fontFamily),n.setAttribute("font-size",e.style.fontSize),t.setAttribute("transform","scale("+e.scale.x+",1)"),n.setAttribute("fill",e.style.fill),n.innerHTML=e.text,t.appendChild(n),t.setAttribute("transform","translate("+e.x+","+e.y+")scale("+e.scale.x+",1)"),t}return e}();t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,r){return[r.chrPositions[e].pos+ +t,r.chrPositions[e].pos+ +n]}return e}();t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){return[e.invert((e.range()[0]+e.range()[1])/2),t.invert((t.range()[0]+t.range()[1])/2),e.invert(1)-e.invert(0)]}return e}();t.default=n},function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.scalesToGenomeLoci=void 0;var i=n(152),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=t.scalesToGenomeLoci=function(){function e(e,t,n){if(null!==n&&e&&t){var i=e.domain()[0],a=e.domain()[1],s=t.domain()[0],l=t.domain()[1];return[].concat(r((0,o.default)(i,a,n)),r((0,o.default)(s,l,n)))}}return e}();t.default=a},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){return e+t}return e}();t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.svgLine=function(){function e(e,t,n,r,i,o){var a=document.createElement("line");return a.setAttribute("x1",e),a.setAttribute("x2",n),a.setAttribute("y1",t),a.setAttribute("y2",r),i&&a.setAttribute("stroke-width",i),o&&a.setAttribute("stroke",o),a}return e}();t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){if(!e.tracks)return 0;var t=0;return e.tracks.top&&(t+=e.tracks.top.map(function(e){return e.height}).reduce(function(e,t){return e+t},0)),e.tracks.center&&(t+=e.tracks.center.map(function(e){return e.height}).reduce(function(e,t){return e+t},0)),e.tracks.bottom&&(t+=e.tracks.bottom.map(function(e){return e.height}).reduce(function(e,t){return e+t},0)),t}return e}();t.default=n},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function o(e){var t,n,i,o,a,s=e.length;o=r(e),a=new f(3*s/4-o),n=o>0?s-4:s;var l=0;for(t=0;t<n;t+=4)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=255&i;return 2===o?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,a[l++]=255&i):1===o&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,a[l++]=i>>8&255,a[l++]=255&i),a}function a(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function s(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(a(r));return i.join("")}function l(e){for(var t,n=e.length,r=n%3,i="",o=[],a=0,l=n-r;a<l;a+=16383)o.push(s(e,a,a+16383>l?l:a+16383));return 1===r?(t=e[n-1],i+=u[t>>2],i+=u[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=u[t>>10],i+=u[t>>4&63],i+=u[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=i,t.toByteArray=o,t.fromByteArray=l;for(var u=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=h.length;d<p;++d)u[d]=h[d],c[h.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t,n){"use strict";function r(e,t,n){var r="bruteForce"+(e?"Red":"Blue")+(t?"Flip":"")+(n?"Full":""),i=["function ",r,"(",k.join(),"){","var ",u,"=2*",o,";"],l="for(var i="+c+","+p+"="+u+"*"+c+";i<"+f+";++i,"+p+"+="+u+"){var x0="+h+"["+a+"+"+p+"],x1="+h+"["+a+"+"+p+"+"+o+"],xi="+d+"[i];",_="for(var j="+v+","+b+"="+u+"*"+v+";j<"+m+";++j,"+b+"+="+u+"){var y0="+g+"["+a+"+"+b+"],"+(n?"y1="+g+"["+a+"+"+b+"+"+o+"],":"")+"yi="+y+"[j];";return e?i.push(l,x,":",_):i.push(_,x,":",l),n?i.push("if(y1<x0||x1<y0)continue;"):t?i.push("if(y0<=x0||x1<y0)continue;"):i.push("if(y0<x0||x1<y0)continue;"),i.push("for(var k="+a+"+1;k<"+o+";++k){var r0="+h+"[k+"+p+"],r1="+h+"[k+"+o+"+"+p+"],b0="+g+"[k+"+b+"],b1="+g+"[k+"+o+"+"+b+"];if(r1<b0||b1<r0)continue "+x+";}var "+w+"="+s+"("),t?i.push("yi,xi"):i.push("xi,yi"),i.push(");if("+w+"!==void 0)return "+w+";}}}"),{name:r,code:i.join("")}}function i(e){function t(t,n){var o=r(t,n,e);i.push(o.code),a.push("return "+o.name+"("+k.join()+");")}var n="bruteForce"+(e?"Full":"Partial"),i=[],o=k.slice();e||o.splice(3,0,l);var a=["function "+n+"("+o.join()+"){"];a.push("if("+f+"-"+c+">"+m+"-"+v+"){"),e?(t(!0,!1),a.push("}else{"),t(!1,!1)):(a.push("if("+l+"){"),t(!0,!0),a.push("}else{"),t(!0,!1),a.push("}}else{if("+l+"){"),t(!1,!0),a.push("}else{"),t(!1,!1),a.push("}")),a.push("}}return "+n);var s=i.join("")+a.join("");return new Function(s)()}var o="d",a="ax",s="vv",l="fp",u="es",c="rs",f="re",h="rb",d="ri",p="rp",v="bs",m="be",g="bb",y="bi",b="bp",w="rv",x="Q",k=[o,a,s,c,f,h,d,v,m,g,y];t.partial=i(!1),t.full=i(!0)},function(e,t,n){"use strict";function r(e,t){var n=8*u.log2(t+1)*(e+1)|0,r=u.nextPow2(T*n);C.length<r&&(l.free(C),C=l.mallocInt32(r));var i=u.nextPow2(O*n);P<i&&(l.free(P),P=l.mallocDouble(i))}function i(e,t,n,r,i,o,a,s,l){var u=T*e;C[u]=t,C[u+1]=n,C[u+2]=r,C[u+3]=i,C[u+4]=o,C[u+5]=a;var c=O*e;P[c]=s,P[c+1]=l}function o(e,t,n,r,i,o,a,s,l,u,c){var f=2*e,h=l*f,d=u[h+t];e:for(var p=i,v=i*f;p<o;++p,v+=f){var m=a[v+t],g=a[v+t+e];if(!(d<m||g<d)&&(!r||d!==m)){for(var y=s[p],b=t+1;b<e;++b){var m=a[v+b],g=a[v+b+e],w=u[h+b],x=u[h+b+e];if(g<w||x<m)continue e}var k;if(void 0!==(k=r?n(c,y):n(y,c)))return k}}}function a(e,t,n,r,i,o,a,s,l,u){var c=2*e,f=s*c,h=l[f+t];e:for(var d=r,p=r*c;d<i;++d,p+=c){var v=a[d];if(v!==u){var m=o[p+t],g=o[p+t+e];if(!(h<m||g<h)){for(var y=t+1;y<e;++y){var m=o[p+y],g=o[p+y+e],b=l[f+y],w=l[f+y+e];if(g<b||w<m)continue e}var x=n(v,u);if(void 0!==x)return x}}}}function s(e,t,n,s,l,u,c,v,E){r(e,s+c);var M,A=0,j=2*e;for(i(A++,0,0,s,0,c,n?16:0,-1/0,1/0),n||i(A++,0,0,c,0,s,1,-1/0,1/0);A>0;){A-=1;var R=A*T,I=C[R],D=C[R+1],L=C[R+2],z=C[R+3],B=C[R+4],N=C[R+5],H=A*O,V=P[H],F=P[H+1],U=1&N,W=!!(16&N),Y=l,G=u,X=v,Z=E;if(U&&(Y=v,G=E,X=l,Z=u),!(2&N&&(L=x(e,I,D,L,Y,G,F),D>=L)||4&N&&(D=k(e,I,D,L,Y,G,V))>=L)){var q=L-D,K=B-z;if(W){if(e*q*(q+K)<y){if(void 0!==(M=d.scanComplete(e,I,t,D,L,Y,G,z,B,X,Z)))return M;continue}}else{if(e*Math.min(q,K)<m){if(void 0!==(M=f(e,I,t,U,D,L,Y,G,z,B,X,Z)))return M;continue}if(e*q*K<g){if(void 0!==(M=d.scanBipartite(e,I,t,U,D,L,Y,G,z,B,X,Z)))return M;continue}}var J=b(e,I,D,L,Y,G,V,F);if(D<J)if(e*(J-D)<m){if(void 0!==(M=h(e,I+1,t,D,J,Y,G,z,B,X,Z)))return M}else if(I===e-2){if(void 0!==(M=U?d.sweepBipartite(e,t,z,B,X,Z,D,J,Y,G):d.sweepBipartite(e,t,D,J,Y,G,z,B,X,Z)))return M}else i(A++,I+1,D,J,z,B,U,-1/0,1/0),i(A++,I+1,z,B,D,J,1^U,-1/0,1/0);if(J<L){var $=p(e,I,z,B,X,Z),Q=X[j*$+I],ee=w(e,I,$,B,X,Z,Q);if(ee<B&&i(A++,I,J,L,ee,B,(4|U)+(W?16:0),Q,F),z<$&&i(A++,I,J,L,z,$,(2|U)+(W?16:0),V,Q),$+1===ee){if(void 0!==(M=W?a(e,I,t,J,L,Y,G,$,X,Z[$]):o(e,I,t,U,J,L,Y,G,$,X,Z[$])))return M}else if($<ee){var te;if(W){if(te=_(e,I,J,L,Y,G,Q),J<te){var ne=w(e,I,J,te,Y,G,Q);if(I===e-2){if(J<ne&&void 0!==(M=d.sweepComplete(e,t,J,ne,Y,G,$,ee,X,Z)))return M;if(ne<te&&void 0!==(M=d.sweepBipartite(e,t,ne,te,Y,G,$,ee,X,Z)))return M}else J<ne&&i(A++,I+1,J,ne,$,ee,16,-1/0,1/0),ne<te&&(i(A++,I+1,ne,te,$,ee,0,-1/0,1/0),i(A++,I+1,$,ee,ne,te,1,-1/0,1/0))}}else te=U?S(e,I,J,L,Y,G,Q):_(e,I,J,L,Y,G,Q),J<te&&(I===e-2?M=U?d.sweepBipartite(e,t,$,ee,X,Z,J,te,Y,G):d.sweepBipartite(e,t,J,te,Y,G,$,ee,X,Z):(i(A++,I+1,J,te,$,ee,U,-1/0,1/0),i(A++,I+1,$,ee,J,te,1^U,-1/0,1/0)))}}}}}e.exports=s;var l=n(142),u=n(90),c=n(340),f=c.partial,h=c.full,d=n(155),p=n(342),v=n(154),m=128,g=1<<22,y=1<<22,b=v("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),w=v("lo===p0",["p0"]),x=v("lo<p0",["p0"]),k=v("hi<=p0",["p0"]),_=v("lo<=p0&&p0<=hi",["p0"]),S=v("lo<p0&&p0<=hi",["p0"]),T=6,O=2,C=l.mallocInt32(1024),P=l.mallocDouble(1024)},function(e,t,n){"use strict";function r(e,t,n,r,i,o){for(var a=2*e,s=a*(n+1)+t,l=n+1;l<r;++l,s+=a)for(var u=i[s],c=l,f=a*(l-1);c>n&&i[f+t]>u;--c,f-=a){for(var h=f,d=f+a,p=0;p<a;++p,++h,++d){var v=i[h];i[h]=i[d],i[d]=v}var m=o[c];o[c]=o[c-1],o[c-1]=m}}function i(e,t,n,i,o,l){if(i<=n+1)return n;for(var u=n,c=i,f=i+n>>>1,h=2*e,d=f,p=o[h*f+t];u<c;){if(c-u<s){r(e,t,u,c,o,l),p=o[h*f+t];break}var v=c-u,m=Math.random()*v+u|0,g=o[h*m+t],y=Math.random()*v+u|0,b=o[h*y+t],w=Math.random()*v+u|0,x=o[h*w+t];g<=b?x>=b?(d=y,p=b):g>=x?(d=m,p=g):(d=w,p=x):b>=x?(d=y,p=b):x>=g?(d=m,p=g):(d=w,p=x);for(var k=h*(c-1),_=h*d,S=0;S<h;++S,++k,++_){var T=o[k];o[k]=o[_],o[_]=T}var O=l[c-1];l[c-1]=l[d],l[d]=O,d=a(e,t,u,c-1,o,l,p);for(var k=h*(c-1),_=h*d,S=0;S<h;++S,++k,++_){var T=o[k];o[k]=o[_],o[_]=T}var O=l[c-1];if(l[c-1]=l[d],l[d]=O,f<d){for(c=d-1;u<c&&o[h*(c-1)+t]===p;)c-=1;c+=1}else{if(!(d<f))break;for(u=d+1;u<c&&o[h*u+t]===p;)u+=1}}return a(e,t,n,f,o,l,o[h*f+t])}e.exports=i;var o=n(154),a=o("lo<p0",["p0"]),s=8},function(e,t,n){"use strict";function r(e,t){t<=4*h?i(0,t-1,e):f(0,t-1,e)}function i(e,t,n){for(var r=2*(e+1),i=e+1;i<=t;++i){for(var o=n[r++],a=n[r++],s=i,l=r-2;s-- >e;){var u=n[l-2],c=n[l-1];if(u<o)break;if(u===o&&c<a)break;n[l]=u,n[l+1]=c,l-=2}n[l]=o,n[l+1]=a}}function o(e,t,n){e*=2,t*=2;var r=n[e],i=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=r,n[t+1]=i}function a(e,t,n){e*=2,t*=2,n[e]=n[t],n[e+1]=n[t+1]}function s(e,t,n,r){e*=2,t*=2,n*=2;var i=r[e],o=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=r[n],r[t+1]=r[n+1],r[n]=i,r[n+1]=o}function l(e,t,n,r,i){e*=2,t*=2,i[e]=i[t],i[t]=n,i[e+1]=i[t+1],i[t+1]=r}function u(e,t,n){e*=2,t*=2;var r=n[e],i=n[t];return!(r<i)&&(r!==i||n[e+1]>n[t+1])}function c(e,t,n,r){e*=2;var i=r[e];return i<t||i===t&&r[e+1]<n}function f(e,t,n){var r=(t-e+1)/6|0,d=e+r,p=t-r,v=e+t>>1,m=v-r,g=v+r,y=d,b=m,w=v,x=g,k=p,_=e+1,S=t-1,T=0;u(y,b,n)&&(T=y,y=b,b=T),u(x,k,n)&&(T=x,x=k,k=T),u(y,w,n)&&(T=y,y=w,w=T),u(b,w,n)&&(T=b,b=w,w=T),u(y,x,n)&&(T=y,y=x,x=T),u(w,x,n)&&(T=w,w=x,x=T),u(b,k,n)&&(T=b,b=k,k=T),u(b,w,n)&&(T=b,b=w,w=T),u(x,k,n)&&(T=x,x=k,k=T);for(var O=n[2*b],C=n[2*b+1],P=n[2*x],E=n[2*x+1],M=2*y,A=2*w,j=2*k,R=2*d,I=2*v,D=2*p,L=0;L<2;++L){var z=n[M+L],B=n[A+L],N=n[j+L];n[R+L]=z,n[I+L]=B,n[D+L]=N}a(m,e,n),a(g,t,n);for(var H=_;H<=S;++H)if(c(H,O,C,n))H!==_&&o(H,_,n),++_;else if(!c(H,P,E,n))for(;;){if(c(S,P,E,n)){c(S,O,C,n)?(s(H,_,S,n),++_,--S):(o(H,S,n),--S);break}if(--S<H)break}l(e,_-1,O,C,n),l(t,S+1,P,E,n),_-2-e<=h?i(e,_-2,n):f(e,_-2,n),t-(S+2)<=h?i(S+2,t,n):f(S+2,t,n),S-_<=h?i(_,S,n):f(_,S,n)}e.exports=r;var h=32},function(e,t,n){"use strict";var r,i,o;!function(a,s){i=[n(159)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}("undefined"!=typeof window&&window,function(e){var t=function(){function t(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function n(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function r(e,n){var r=n.split(/\d/),i=r[r.length-1];switch(n=parseFloat(n),i){case"px":return n;case"em":return n*t(e);case"rem":return n*t();case"vw":return n*document.documentElement.clientWidth/100;case"vh":return n*document.documentElement.clientHeight/100;case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,a=document.documentElement.clientHeight/100;return n*(0,Math["vmin"===i?"min":"max"])(o,a);default:return n}}function i(e,t){this.element=e;var i,o,a,s,l,u,c,f,h=["min-width","min-height","max-width","max-height"];this.call=function(){a=n(this.element),u={};for(i in p[t])p[t].hasOwnProperty(i)&&(o=p[t][i],s=r(this.element,o.value),l="width"===o.property?a.width:a.height,f=o.mode+"-"+o.property,c="","min"===o.mode&&l>=s&&(c+=o.value),"max"===o.mode&&l<=s&&(c+=o.value),u[f]||(u[f]=""),c&&-1===(" "+u[f]+" ").indexOf(" "+c+" ")&&(u[f]+=" "+c));for(var e in h)h.hasOwnProperty(e)&&(u[h[e]]?this.element.setAttribute(h[e],u[h[e]].substr(1)):this.element.removeAttribute(h[e]))}}function o(t,n){t.elementQueriesSetupInformation||(t.elementQueriesSetupInformation=new i(t,n)),t.elementQueriesSensor||(t.elementQueriesSensor=new e(t,function(){t.elementQueriesSetupInformation.call()})),t.elementQueriesSetupInformation.call()}function a(e,t,n,r){if(void 0===p[e]){p[e]=[];var i=v.length;d.innerHTML+="\n"+e+" {animation: 0.1s element-queries;}",d.innerHTML+="\n"+e+" > .resize-sensor {min-width: "+i+"px;}",v.push(e)}p[e].push({mode:t,property:n,value:r})}function s(e){var t;if(document.querySelectorAll&&(t=e?e.querySelectorAll.bind(e):document.querySelectorAll.bind(document)),t||"undefined"==typeof $$||(t=$$),t||"undefined"==typeof jQuery||(t=jQuery),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function l(e){var t=s(e);for(var n in p)if(p.hasOwnProperty(n))for(var r=t(n,e),i=0,a=r.length;i<a;i++)o(r[i],n)}function u(t){function n(){var e,n=!1;for(e in r)r.hasOwnProperty(e)&&i[e].minWidth&&t.offsetWidth>i[e].minWidth&&(n=e);if(n||(n=a),s!==n)if(l[n])r[s].style.display="none",r[n].style.display="block",s=n;else{var u=new Image;u.onload=function(){r[n].src=o[n],r[s].style.display="none",r[n].style.display="block",l[n]=!0,s=n},u.src=o[n]}else r[n].src=o[n]}var r=[],i=[],o=[],a=0,s=-1,l=[];for(var u in t.children)if(t.children.hasOwnProperty(u)&&t.children[u].tagName&&"img"===t.children[u].tagName.toLowerCase()){r.push(t.children[u]);var c=t.children[u].getAttribute("min-width")||t.children[u].getAttribute("data-min-width"),f=t.children[u].getAttribute("data-src")||t.children[u].getAttribute("url");o.push(f);var h={minWidth:c};i.push(h),c?t.children[u].style.display="none":(a=r.length-1,t.children[u].style.display="block")}s=a,t.resizeSensor=new e(t,n),n()}function c(){for(var e=s(),t=e("[data-responsive-image],[responsive-image]"),n=0,r=t.length;n<r;n++)u(t[n])}function f(e){var t,n,r,i;for(e=e.replace(/'/g,'"');null!==(t=m.exec(e));)for(n=t[1]+t[3],r=t[2];null!==(i=g.exec(r));)a(n,i[1],i[2],i[3])}function h(e){var t="";if(e)if("string"==typeof e)e=e.toLowerCase(),-1===e.indexOf("min-width")&&-1===e.indexOf("max-width")||f(e);else for(var n=0,r=e.length;n<r;n++)1===e[n].type?(t=e[n].selectorText||e[n].cssText,-1!==t.indexOf("min-height")||-1!==t.indexOf("max-height")?f(t):-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")||f(t)):4===e[n].type?h(e[n].cssRules||e[n].rules):3===e[n].type&&e[n].styleSheet.hasOwnProperty("cssRules")&&h(e[n].styleSheet.cssRules)}var d,p={},v=[],m=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,g=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim,y=!1;this.init=function(){var t="animationstart";void 0!==document.documentElement.style.webkitAnimationName?t="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?t="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(t="oanimationstart"),document.body.addEventListener(t,function(t){var n=t.target;if(-1!==window.getComputedStyle(n,null).getPropertyValue("animation-name").indexOf("element-queries")){n.elementQueriesSensor=new e(n,function(){n.elementQueriesSetupInformation&&n.elementQueriesSetupInformation.call()});var r=window.getComputedStyle(n.resizeSensor,null),i=r.getPropertyValue("min-width");i=parseInt(i.replace("px","")),o(t.target,v[i])}}),y||(d=document.createElement("style"),d.type="text/css",d.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",d.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(d),y=!0);for(var n=0,r=document.styleSheets.length;n<r;n++)try{document.styleSheets[n].href&&0===document.styleSheets[n].href.indexOf("file://")&&console.log("CssElementQueries: unable to parse local css files, "+document.styleSheets[n].href),h(document.styleSheets[n].cssRules||document.styleSheets[n].rules||document.styleSheets[n].cssText)}catch(e){}c()},this.findElementQueriesElements=function(e){l(e)},this.update=function(){this.init()}};t.update=function(){t.instance.update()},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensor&&(e.resizeSensor.detach(),delete e.resizeSensor)},t.init=function(){t.instance||(t.instance=new t),t.instance.init()};var n=function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))},10);else window.onload=e};return t.findElementQueriesElements=function(e){t.instance.findElementQueriesElements(e)},t.listen=function(){n(t.init)},t})},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var r=n(166);t.a=function(e,t,n){var i,o,a,s,l=e.length,u=t.length,c=new Array(l*u);for(null==n&&(n=r.b),i=a=0;i<l;++i)for(s=e[i],o=0;o<u;++o,++a)c[a]=n(s,t[o]);return c}},function(e,t,n){"use strict";t.a=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}},function(e,t,n){"use strict";var r=n(160),i=n(161),o=n(345),a=n(164),s=n(349),l=n(167),u=n(169),c=n(168);t.a=function(){function e(e){var r,o,a=e.length,s=new Array(a);for(r=0;r<a;++r)s[r]=t(e[r],r,e);var c=f(s),d=c[0],p=c[1],v=h(s,d,p);Array.isArray(v)||(v=n.i(u.c)(d,p,v),v=n.i(l.a)(Math.ceil(d/v)*v,Math.floor(p/v)*v,v));for(var m=v.length;v[0]<=d;)v.shift(),--m;for(;v[m-1]>p;)v.pop(),--m;var g,y=new Array(m+1);for(r=0;r<=m;++r)g=y[r]=[],g.x0=r>0?v[r-1]:d,g.x1=r<m?v[r]:p;for(r=0;r<a;++r)o=s[r],d<=o&&o<=p&&y[n.i(i.a)(v,o,0,m)].push(e[r]);return y}var t=s.a,f=a.a,h=c.a;return e.value=function(r){return arguments.length?(t="function"==typeof r?r:n.i(o.a)(r),e):t},e.domain=function(t){return arguments.length?(f="function"==typeof t?t:n.i(o.a)([t[0],t[1]]),e):f},e.thresholds=function(t){return arguments.length?(h="function"==typeof t?t:Array.isArray(t)?n.i(o.a)(r.b.call(t)):n.i(o.a)(t),e):h},e}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r}},function(e,t,n){"use strict";var r=n(54);t.a=function(e,t){var i,o=e.length,a=o,s=-1,l=0;if(null==t)for(;++s<o;)isNaN(i=n.i(r.a)(e[s]))?--a:l+=i;else for(;++s<o;)isNaN(i=n.i(r.a)(t(e[s],s,e)))?--a:l+=i;if(a)return l/a}},function(e,t,n){"use strict";var r=n(44),i=n(54),o=n(91);t.a=function(e,t){var a,s=e.length,l=-1,u=[];if(null==t)for(;++l<s;)isNaN(a=n.i(i.a)(e[l]))||u.push(a);else for(;++l<s;)isNaN(a=n.i(i.a)(t(e[l],l,e)))||u.push(a);return n.i(o.a)(u.sort(r.a),.5)}},function(e,t,n){"use strict";t.a=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r}},function(e,t,n){"use strict";var r=n(44);t.a=function(e,t){if(n=e.length){var n,i,o=0,a=0,s=e[a];for(null==t&&(t=r.a);++o<n;)(t(i=e[o],s)<0||0!==t(s,s))&&(s=i,a=o);return 0===t(s,s)?a:void 0}}},function(e,t,n){"use strict";t.a=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e}},function(e,t,n){"use strict";t.a=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o}},function(e,t,n){"use strict";var r=n(160),i=n(44),o=n(54),a=n(91);t.a=function(e,t,s){return e=r.a.call(e,o.a).sort(i.a),Math.ceil((s-t)/(2*(n.i(a.a)(e,.75)-n.i(a.a)(e,.25))*Math.pow(e.length,-1/3)))}},function(e,t,n){"use strict";var r=n(163);t.a=function(e,t,i){return Math.ceil((i-t)/(3.5*n.i(r.a)(e)*Math.pow(e.length,-1/3)))}},function(e,t,n){"use strict";var r=n(170);t.a=function(){return n.i(r.a)(arguments)}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=Array.prototype.slice},function(e,t,n){"use strict";function r(e){return"translate("+(e+.5)+",0)"}function i(e){return"translate(0,"+(e+.5)+")"}function o(e){return function(t){return+e(t)}}function a(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function s(){return!this.__axis}function l(e,t){function n(n){var r=null==u?t.ticks?t.ticks.apply(t,l):t.domain():u,i=null==c?t.tickFormat?t.tickFormat.apply(t,l):p.a:c,d=Math.max(f,0)+w,S=t.range(),T=+S[0]+.5,O=+S[S.length-1]+.5,C=(t.bandwidth?a:o)(t.copy()),P=n.selection?n.selection():n,E=P.selectAll(".domain").data([null]),M=P.selectAll(".tick").data(r,t).order(),A=M.exit(),j=M.enter().append("g").attr("class","tick"),R=M.select("line"),I=M.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),M=M.merge(j),R=R.merge(j.append("line").attr("stroke","#000").attr(k+"2",x*f)),I=I.merge(j.append("text").attr("fill","#000").attr(k,x*d).attr("dy",e===v?"0em":e===g?"0.71em":"0.32em")),n!==P&&(E=E.transition(n),M=M.transition(n),R=R.transition(n),I=I.transition(n),A=A.transition(n).attr("opacity",b).attr("transform",function(e){return isFinite(e=C(e))?_(e):this.getAttribute("transform")}),j.attr("opacity",b).attr("transform",function(e){var t=this.parentNode.__axis;return _(t&&isFinite(t=t(e))?t:C(e))})),A.remove(),E.attr("d",e===y||e==m?"M"+x*h+","+T+"H0.5V"+O+"H"+x*h:"M"+T+","+x*h+"V0.5H"+O+"V"+x*h),M.attr("opacity",1).attr("transform",function(e){return _(C(e))}),R.attr(k+"2",x*f),I.attr(k,x*d).text(i),P.filter(s).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===m?"start":e===y?"end":"middle"),P.each(function(){this.__axis=C})}var l=[],u=null,c=null,f=6,h=6,w=3,x=e===v||e===y?-1:1,k=e===y||e===m?"x":"y",_=e===v||e===g?r:i;return n.scale=function(e){return arguments.length?(t=e,n):t},n.ticks=function(){return l=d.a.call(arguments),n},n.tickArguments=function(e){return arguments.length?(l=null==e?[]:d.a.call(e),n):l.slice()},n.tickValues=function(e){return arguments.length?(u=null==e?null:d.a.call(e),n):u&&u.slice()},n.tickFormat=function(e){return arguments.length?(c=e,n):c},n.tickSize=function(e){return arguments.length?(f=h=+e,n):f},n.tickSizeInner=function(e){return arguments.length?(f=+e,n):f},n.tickSizeOuter=function(e){return arguments.length?(h=+e,n):h},n.tickPadding=function(e){return arguments.length?(w=+e,n):w},n}function u(e){return l(v,e)}function c(e){return l(m,e)}function f(e){return l(g,e)}function h(e){return l(y,e)}t.a=u,t.b=c,t.c=f,t.d=h;var d=n(361),p=n(363),v=1,m=2,g=3,y=4,b=1e-6},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";function r(e){return{type:e}}function i(){return!v.event.button}function o(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function a(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function s(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function l(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function u(e,t,n){return f(S,e,t,n)}function c(e,t,n){return f(T,e,t,n)}function f(e,t,l,u){function c(t){var i=t.property("__brush",I).selectAll(".overlay").data([r("overlay")]);i.enter().append("rect").attr("class","overlay").attr("pointer-events",u?"auto":"all").attr("cursor",l?"default":C.overlay).merge(i).each(function(){var e=a(this).extent;n.i(v.select)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])}),t.selectAll(".selection").data([r("selection")]).enter().append("rect").attr("class","selection").attr("cursor",C.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var o=t.selectAll(".handle").data(e.handles,function(e){return e.type});o.exit().remove(),o.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return C[e.type]}),t.each(f).attr("fill","none").attr("pointer-events",u?"auto":"all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)"),l?t.on("mousedown.brush touchstart.brush",function(){"overlay"!==v.event.target.__data__.type&&R.apply(this,arguments)}):t.on("mousedown.brush touchstart.brush",R)}function f(){var e=n.i(v.select)(this),t=a(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?t[1][0]-N/2:t[0][0]-N/2}).attr("y",function(e){return"s"===e.type[0]?t[1][1]-N/2:t[0][1]-N/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+N:N}).attr("height",function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+N:N})):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function O(e,t){return e.__brush.emitter||new j(e,t)}function j(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function R(){function r(){var e=n.i(v.mouse)(F);!ee||H||V||(Math.abs(e[0]-ne[0])>Math.abs(e[1]-ne[1])?V=!0:H=!0),ne=e,N=!0,n.i(b.a)(),i()}function i(){var e;switch(L=ne[0]-te[0],B=ne[1]-te[1],W){case x:case w:Y&&(L=Math.max(K-c,Math.min($-y,L)),h=c+L,j=y+L),G&&(B=Math.max(J-p,Math.min(Q-R,B)),g=p+B,I=R+B);break;case k:Y<0?(L=Math.max(K-c,Math.min($-c,L)),h=c+L,j=y):Y>0&&(L=Math.max(K-y,Math.min($-y,L)),h=c,j=y+L),G<0?(B=Math.max(J-p,Math.min(Q-p,B)),g=p+B,I=R):G>0&&(B=Math.max(J-R,Math.min(Q-R,B)),g=p,I=R+B);break;case _:Y&&(h=Math.max(K,Math.min($,c-L*Y)),j=Math.max(K,Math.min($,y+L*Y))),G&&(g=Math.max(J,Math.min(Q,p-B*G)),I=Math.max(J,Math.min(Q,R+B*G)))}j<h&&(Y*=-1,e=c,c=y,y=e,e=h,h=j,j=e,U in P&&oe.attr("cursor",C[U=P[U]])),I<g&&(G*=-1,e=p,p=R,R=e,e=g,g=I,I=e,U in E&&oe.attr("cursor",C[U=E[U]])),X.selection&&(q=X.selection),H&&(h=q[0][0],j=q[1][0]),V&&(g=q[0][1],I=q[1][1]),q[0][0]===h&&q[0][1]===g&&q[1][0]===j&&q[1][1]===I||(X.selection=[[h,g],[j,I]],f.call(F),re.brush())}function o(){if(n.i(b.b)(),v.event.touches){if(v.event.touches.length)return;D&&clearTimeout(D),D=setTimeout(function(){D=null},500),ie.on("touchmove.brush touchend.brush touchcancel.brush",null)}else n.i(d.dragEnable)(v.event.view,N),ae.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ie.attr("pointer-events","all"),oe.attr("cursor",C.overlay),X.selection&&(q=X.selection),s(q)&&(X.selection=null,f.call(F)),re.end()}function l(){switch(v.event.keyCode){case 16:ee=Y&&G;break;case 18:W===k&&(Y&&(y=j-L*Y,c=h+L*Y),G&&(R=I-B*G,p=g+B*G),W=_,i());break;case 32:W!==k&&W!==_||(Y<0?y=j-L:Y>0&&(c=h-L),G<0?R=I-B:G>0&&(p=g-B),W=x,oe.attr("cursor",C.selection),i());break;default:return}n.i(b.a)()}function u(){switch(v.event.keyCode){case 16:ee&&(H=V=ee=!1,i());break;case 18:W===_&&(Y<0?y=j:Y>0&&(c=h),G<0?R=I:G>0&&(p=g),W=k,i());break;case 32:W===x&&(v.event.altKey?(Y&&(y=j-L*Y,c=h+L*Y),G&&(R=I-B*G,p=g+B*G),W=_):(Y<0?y=j:Y>0&&(c=h),G<0?R=I:G>0&&(p=g),W=k),oe.attr("cursor",C[U]),i());break;default:return}n.i(b.a)()}if(v.event.touches){if(v.event.changedTouches.length<v.event.touches.length)return n.i(b.a)()}else if(D)return;if(z.apply(this,arguments)){var c,h,p,g,y,j,R,I,L,B,N,H,V,F=this,U=v.event.target.__data__.type,W="selection"===(v.event.metaKey&&!t?U="overlay":U)?w:v.event.altKey&&!t?_:k,Y=e===T?null:M[U],G=e===S?null:A[U],X=a(F),Z=X.extent,q=X.selection,K=Z[0][0],J=Z[0][1],$=Z[1][0],Q=Z[1][1],ee=Y&&G&&v.event.shiftKey,te=n.i(v.mouse)(F),ne=te,re=O(F,arguments).beforestart();"overlay"===U?X.selection=q=[[c=e===T?K:te[0],p=e===S?J:te[1]],[y=e===T?$:c,R=e===S?Q:p]]:(c=q[0][0],p=q[0][1],y=q[1][0],R=q[1][1]),h=c,g=p,j=y,I=R;var ie=n.i(v.select)(F).attr("pointer-events","none"),oe=ie.selectAll(".overlay").attr("cursor",C[U]);if(v.event.touches)ie.on("touchmove.brush",r,!0).on("touchend.brush touchcancel.brush",o,!0);else{var ae=n.i(v.select)(v.event.view).on("mousemove.brush",r,!0).on("mouseup.brush",o,!0);t||ae.on("keydown.brush",l,!0).on("keyup.brush",u,!0),n.i(d.dragDisable)(v.event.view)}n.i(b.b)(),n.i(m.a)(F),f.call(F),re.start()}}function I(){var t=this.__brush||{selection:null};return t.extent=L.apply(this,arguments),t.dim=e,t}var D,L=o,z=i,B=n.i(h.a)(c,"start","brush","end"),N=6;return c.move=function(t,r){t.selection?t.on("start.brush",function(){O(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){O(this,arguments).end()}).tween("brush",function(){function t(e){o.selection=1===e&&s(u)?null:c(e),f.call(i),a.brush()}var i=this,o=i.__brush,a=O(i,arguments),l=o.selection,u=e.input("function"==typeof r?r.apply(this,arguments):r,o.extent),c=n.i(p.b)(l,u);return l&&u?t:t(1)}):t.each(function(){var t=this,i=arguments,o=t.__brush,a=e.input("function"==typeof r?r.apply(t,i):r,o.extent),l=O(t,i).beforestart();n.i(m.a)(t),o.selection=null==a||s(a)?null:a,f.call(t),l.start().brush().end()})},j.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){n.i(v.customEvent)(new y.a(c,t,e.output(this.state.selection)),B.apply,B,[t,this.that,this.args])}},c.extent=function(e){return arguments.length?(L="function"==typeof e?e:n.i(g.a)([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),c):L},c.filter=function(e){return arguments.length?(z="function"==typeof e?e:n.i(g.a)(!!e),c):z},c.handleSize=function(e){return arguments.length?(N=+e,c):N},c.on=function(){var e=B.on.apply(B,arguments);return e===B?c:e},c}t.d=l,t.b=u,t.c=c;var h=n(34),d=n(100),p=n(20),v=n(4),m=n(201),g=n(365),y=n(366),b=n(367),w={name:"drag"},x={name:"space"},k={name:"handle"},_={name:"center"},S={name:"x",handles:["e","w"].map(r),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},T={name:"y",handles:["n","s"].map(r),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},O={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(r),input:function(e){return e},output:function(e){return e}},C={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},P={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},E={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},M={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},A={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};t.a=function(e,t,n){return f(O,e,t,n)}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";t.a=function(e,t,n){this.target=e,this.type=t,this.selection=n}},function(e,t,n){"use strict";function r(){i.event.stopImmediatePropagation()}t.b=r;var i=n(4);t.a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},function(e,t,n){"use strict";function r(e){if(e instanceof o)return new o(e.h,e.s,e.l,e.opacity);e instanceof s.d||(e=n.i(s.e)(e));var t=e.r/255,r=e.g/255,i=e.b/255,a=(m*i+p*t-v*r)/(m+p-v),u=i-a,c=(d*(r-a)-f*u)/h,g=Math.sqrt(c*c+u*u)/(d*a*(1-a)),y=g?Math.atan2(c,u)*l.a-120:NaN;return new o(y<0?y+360:y,g,a,e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new o(e,t,n,null==i?1:i)}function o(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}t.a=i;var a=n(98),s=n(97),l=n(173),u=-.14861,c=1.78277,f=-.29227,h=-.90649,d=1.97294,p=d*h,v=d*c,m=c*f-h*u;n.i(a.a)(o,i,n.i(a.b)(s.f,{brighter:function(e){return e=null==e?s.g:Math.pow(s.g,e),new o(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?s.h:Math.pow(s.h,e),new o(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*l.b,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new s.d(255*(t+n*(u*r+c*i)),255*(t+n*(f*r+h*i)),255*(t+n*(d*r)),this.opacity)}}))},function(e,t,n){"use strict";function r(e){if(e instanceof o)return new o(e.l,e.a,e.b,e.opacity);if(e instanceof h){var t=e.h*v.b;return new o(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof p.d||(e=n.i(p.e)(e));var r=u(e.r),i=u(e.g),s=u(e.b),l=a((.4124564*r+.3575761*i+.1804375*s)/m),c=a((.2126729*r+.7151522*i+.072175*s)/g);return new o(116*c-16,500*(l-c),200*(c-a((.0193339*r+.119192*i+.9503041*s)/y)),e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new o(e,t,n,null==i?1:i)}function o(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function a(e){return e>k?Math.pow(e,1/3):e/x+b}function s(e){return e>w?e*e*e:x*(e-b)}function l(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function u(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function c(e){if(e instanceof h)return new h(e.h,e.c,e.l,e.opacity);e instanceof o||(e=r(e));var t=Math.atan2(e.b,e.a)*v.a;return new h(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function f(e,t,n,r){return 1===arguments.length?c(e):new h(e,t,n,null==r?1:r)}function h(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}t.a=i,t.b=f;var d=n(98),p=n(97),v=n(173),m=.95047,g=1,y=1.08883,b=4/29,w=6/29,x=3*w*w,k=w*w*w;n.i(d.a)(o,i,n.i(d.b)(p.f,{brighter:function(e){return new o(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new o(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=g*s(e),t=m*s(t),n=y*s(n),new p.d(l(3.2404542*t-1.5371385*e-.4985314*n),l(-.969266*t+1.8760108*e+.041556*n),l(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),n.i(d.a)(h,f,n.i(d.b)(p.f,{brighter:function(e){return new h(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new h(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return r(this).rgb()}}))},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(){return!l.event.button}function i(){return this.parentNode}function o(e){return null==e?{x:l.event.x,y:l.event.y}:e}function a(){return"ontouchstart"in this}var s=n(34),l=n(4),u=n(174),c=n(175),f=n(370),h=n(372);t.a=function(){function e(e){e.on("mousedown.drag",t).filter(O).on("touchstart.drag",v).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function t(){if(!k&&_.apply(this,arguments)){var e=y("mouse",S.apply(this,arguments),l.mouse,this,arguments);e&&(n.i(l.select)(l.event.view).on("mousemove.drag",d,!0).on("mouseup.drag",p,!0),n.i(u.a)(l.event.view),n.i(c.b)(),x=!1,b=l.event.clientX,w=l.event.clientY,e("start"))}}function d(){if(n.i(c.a)(),!x){var e=l.event.clientX-b,t=l.event.clientY-w;x=e*e+t*t>M}C.mouse("drag")}function p(){n.i(l.select)(l.event.view).on("mousemove.drag mouseup.drag",null),n.i(u.b)(l.event.view,x),n.i(c.a)(),C.mouse("end")}function v(){if(_.apply(this,arguments)){var e,t,r=l.event.changedTouches,i=S.apply(this,arguments),o=r.length;for(e=0;e<o;++e)(t=y(r[e].identifier,i,l.touch,this,arguments))&&(n.i(c.b)(),t("start"))}}function m(){var e,t,r=l.event.changedTouches,i=r.length;for(e=0;e<i;++e)(t=C[r[e].identifier])&&(n.i(c.a)(),t("drag"))}function g(){var e,t,r=l.event.changedTouches,i=r.length;for(k&&clearTimeout(k),k=setTimeout(function(){k=null},500),e=0;e<i;++e)(t=C[r[e].identifier])&&(n.i(c.b)(),t("end"))}function y(t,r,i,o,a){var s,u,c,f=i(r,t),d=P.copy();if(n.i(l.customEvent)(new h.a(e,"beforestart",s,t,E,f[0],f[1],0,0,d),function(){return null!=(l.event.subject=s=T.apply(o,a))&&(u=s.x-f[0]||0,c=s.y-f[1]||0,!0)}))return function p(v){var m,g=f;switch(v){case"start":C[t]=p,m=E++;break;case"end":delete C[t],--E;case"drag":f=i(r,t),m=E}n.i(l.customEvent)(new h.a(e,v,s,t,m,f[0]+u,f[1]+c,f[0]-g[0],f[1]-g[1],d),d.apply,d,[v,o,a])}}var b,w,x,k,_=r,S=i,T=o,O=a,C={},P=n.i(s.a)("start","drag","end"),E=0,M=0;return e.filter=function(t){return arguments.length?(_="function"==typeof t?t:n.i(f.a)(!!t),e):_},e.container=function(t){return arguments.length?(S="function"==typeof t?t:n.i(f.a)(t),e):S},e.subject=function(t){return arguments.length?(T="function"==typeof t?t:n.i(f.a)(t),e):T},e.touchable=function(t){return arguments.length?(O="function"==typeof t?t:n.i(f.a)(!!t),e):O},e.on=function(){var t=P.on.apply(P,arguments);return t===P?e:t},e.clickDistance=function(t){return arguments.length?(M=(t=+t)*t,e):Math.sqrt(M)},e}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s,l,u){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=u}t.a=r,r.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}},function(e,t,n){"use strict";var r=(n(380),n(382),n(377));n.d(t,"a",function(){return r.a});n(381),n(383),n(379),n(376),n(375),n(374),n(378)},function(e,t,n){"use strict";(function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n})(1.70158),function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158)},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}t.a=r},function(e,t,n){"use strict";var r=2*Math.PI;(function e(t,n){function i(e){return t*Math.pow(2,10*--e)*Math.sin((o-e)/n)}var o=Math.asin(1/(t=Math.max(1,t)))*(n/=r);return i.amplitude=function(t){return e(t,n*r)},i.period=function(n){return e(t,n)},i})(1,.3),function e(t,n){function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+o)/n)}var o=Math.asin(1/(t=Math.max(1,t)))*(n/=r);return i.amplitude=function(t){return e(t,n*r)},i.period=function(n){return e(t,n)},i}(1,.3),function e(t,n){function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((o-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((o+e)/n))/2}var o=Math.asin(1/(t=Math.max(1,t)))*(n/=r);return i.amplitude=function(t){return e(t,n*r)},i.period=function(n){return e(t,n)},i}(1,.3)},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";(function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n})(3),function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3)},function(e,t,n){"use strict"},function(e,t,n){"use strict";Math.PI},function(e,t,n){"use strict";function r(e){return i=n.i(s.a)(e),o=i.format,a=i.formatPrefix,i}n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),t.a=r;var i,o,a,s=n(179);r({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},function(e,t,n){"use strict";t.a=function(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,o=-1;i<r;++i)switch(e[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e}},function(e,t,n){"use strict";t.a=function(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}},function(e,t,n){"use strict";var r=n(103);t.a=function(e,t){var i=n.i(r.a)(e,t);if(!i)return e+"";var o=i[0],a=i[1];return a<0?"0."+new Array(-a).join("0")+o:o.length>a+1?o.slice(0,a+1)+"."+o.slice(a+1):o+new Array(a-o.length+2).join("0")}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";var r=n(70);t.a=function(e){return Math.max(0,-n.i(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";var r=n(70);t.a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n.i(r.a)(t)/3)))-n.i(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";var r=n(70);t.a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,n.i(r.a)(t)-n.i(r.a)(e))+1}},function(e,t,n){"use strict";function r(e){return function t(r){function a(t,a){var s=e((t=n.i(i.cubehelix)(t)).h,(a=n.i(i.cubehelix)(a)).h),l=n.i(o.a)(t.s,a.s),u=n.i(o.a)(t.l,a.l),c=n.i(o.a)(t.opacity,a.opacity);return function(e){return t.h=s(e),t.s=l(e),t.l=u(Math.pow(e,r)),t.opacity=c(e),t+""}}return r=+r,a.gamma=t,a}(1)}n.d(t,"a",function(){return a});var i=n(14),o=n(55),a=(r(o.b),r(o.a))},function(e,t,n){"use strict";function r(e){return function(t,r){var a=e((t=n.i(i.hcl)(t)).h,(r=n.i(i.hcl)(r)).h),s=n.i(o.a)(t.c,r.c),l=n.i(o.a)(t.l,r.l),u=n.i(o.a)(t.opacity,r.opacity);return function(e){return t.h=a(e),t.c=s(e),t.l=l(e),t.opacity=u(e),t+""}}}var i=n(14),o=n(55);r(o.b),r(o.a)},function(e,t,n){"use strict";function r(e){return function(t,r){var a=e((t=n.i(i.hsl)(t)).h,(r=n.i(i.hsl)(r)).h),s=n.i(o.a)(t.s,r.s),l=n.i(o.a)(t.l,r.l),u=n.i(o.a)(t.opacity,r.opacity);return function(e){return t.h=a(e),t.s=s(e),t.l=l(e),t.opacity=u(e),t+""}}}var i=n(14),o=n(55);r(o.b),r(o.a)},function(e,t,n){"use strict";n(14),n(55)},function(e,t,n){"use strict"},function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};t.b=function(e,t,n,i,o,a){var s,l,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*i)&&(n-=e*u,i-=t*u),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,u/=l),e*i<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*r,skewX:Math.atan(u)*r,scaleX:s,scaleY:l}}},function(e,t,n){"use strict";function r(e,t,r,o){function a(e){return e.length?e.pop()+" ":""}function s(e,o,a,s,l,u){if(e!==a||o!==s){var c=l.push("translate(",null,t,null,r);u.push({i:c-4,x:n.i(i.a)(e,a)},{i:c-2,x:n.i(i.a)(o,s)})}else(a||s)&&l.push("translate("+a+t+s+r)}function l(e,t,r,s){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),s.push({i:r.push(a(r)+"rotate(",null,o)-2,x:n.i(i.a)(e,t)})):t&&r.push(a(r)+"rotate("+t+o)}function u(e,t,r,s){e!==t?s.push({i:r.push(a(r)+"skewX(",null,o)-2,x:n.i(i.a)(e,t)}):t&&r.push(a(r)+"skewX("+t+o)}function c(e,t,r,o,s,l){if(e!==r||t!==o){var u=s.push(a(s)+"scale(",null,",",null,")");l.push({i:u-4,x:n.i(i.a)(e,r)},{i:u-2,x:n.i(i.a)(t,o)})}else 1===r&&1===o||s.push(a(s)+"scale("+r+","+o+")")}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),s(t.translateX,t.translateY,n.translateX,n.translateY,r,i),l(t.rotate,n.rotate,r,i),u(t.skewX,n.skewX,r,i),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t,n=-1,o=i.length;++n<o;)r[(t=i[n]).i]=t.x(e);return r.join("")}}}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var i=n(71),o=n(401),a=r(o.a,"px, ","px)","deg)"),s=r(o.b,", ",")",")")},function(e,t,n){"use strict";function r(e){return"none"===e?u.a:(o||(o=document.createElement("DIV"),a=document.documentElement,s=document.defaultView),o.style.transform=e,e=s.getComputedStyle(a.appendChild(o),null).getPropertyValue("transform"),a.removeChild(o),e=e.slice(7,-1).split(","),n.i(u.b)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function i(e){return null==e?u.a:(l||(l=document.createElementNS("http://www.w3.org/2000/svg","g")),l.setAttribute("transform",e),(e=l.transform.baseVal.consolidate())?(e=e.matrix,n.i(u.b)(e.a,e.b,e.c,e.d,e.e,e.f)):u.a)}t.a=r,t.b=i;var o,a,s,l,u=n(399)},function(e,t,n){"use strict";function r(e){return((e=Math.exp(e))+1/e)/2}function i(e){return((e=Math.exp(e))-1/e)/2}function o(e){return((e=Math.exp(2*e))-1)/(e+1)}var a=Math.SQRT2;t.a=function(e,t){var n,s,l=e[0],u=e[1],c=e[2],f=t[0],h=t[1],d=t[2],p=f-l,v=h-u,m=p*p+v*v;if(m<1e-12)s=Math.log(d/c)/a,n=function(e){return[l+e*p,u+e*v,c*Math.exp(a*e*s)]};else{var g=Math.sqrt(m),y=(d*d-c*c+4*m)/(2*c*2*g),b=(d*d-c*c-4*m)/(2*d*2*g),w=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(b*b+1)-b);s=(x-w)/a,n=function(e){var t=e*s,n=r(w),f=c/(2*g)*(n*o(a*t+w)-i(w));return[l+f*p,u+f*v,c*n/r(a*t+w)]}}return n.duration=1e3*s,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(405);n.d(t,"queue",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=[].slice},function(e,t,n){"use strict";function r(e){this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function i(e){if(!e._start)try{o(e)}catch(t){if(e._tasks[e._ended+e._active-1])s(e,t);else if(!e._data)throw t}}function o(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,n=e._tasks[t],r=n.length-1,i=n[r];n[r]=a(e,t),--e._waiting,++e._active,n=i.apply(null,n),e._tasks[t]&&(e._tasks[t]=n||f)}}function a(e,t){return function(n,r){e._tasks[t]&&(--e._active,++e._ended,e._tasks[t]=null,null==e._error&&(null!=n?s(e,n):(e._data[t]=r,e._waiting?i(e):l(e))))}}function s(e,t){var n,r=e._tasks.length;for(e._error=t,e._data=void 0,e._waiting=NaN;--r>=0;)if((n=e._tasks[r])&&(e._tasks[r]=null,n.abort))try{n.abort()}catch(t){}e._active=NaN,l(e)}function l(e){if(!e._active&&e._call){var t=e._data;e._data=void 0,e._call(e._error,t)}}function u(e){if(null==e)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new r(e)}t.a=u;var c=n(404),f={};r.prototype=u.prototype={constructor:r,defer:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var t=c.a.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),i(this),this},abort:function(){return null==this._error&&s(this,new Error("abort")),this},await:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,n){e.apply(null,[t].concat(n))},l(this),this},awaitAll:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=e,l(this),this}}},function(e,t,n){"use strict";function r(){function e(){var e=l().length,r=c[1]<c[0],o=c[r-0],s=c[1-r];t=(s-o)/Math.max(1,e-h+2*d),f&&(t=Math.floor(t)),o+=(s-o-t*(e-h))*p,i=t*(1-h),f&&(o=Math.round(o),i=Math.round(i));var v=n.i(a.range)(e).map(function(e){return o+t*e});return u(r?v.reverse():v)}var t,i,o=n.i(s.a)().unknown(void 0),l=o.domain,u=o.range,c=[0,1],f=!1,h=0,d=0,p=.5;return delete o.unknown,o.domain=function(t){return arguments.length?(l(t),e()):l()},o.range=function(t){return arguments.length?(c=[+t[0],+t[1]],e()):c.slice()},o.rangeRound=function(t){return c=[+t[0],+t[1]],f=!0,e()},o.bandwidth=function(){return i},o.step=function(){return t},o.round=function(t){return arguments.length?(f=!!t,e()):f},o.padding=function(t){return arguments.length?(h=d=Math.max(0,Math.min(1,t)),e()):h},o.paddingInner=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},o.paddingOuter=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},o.align=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),e()):p},o.copy=function(){return r().domain(l()).range(c).round(f).paddingInner(h).paddingOuter(d).align(p)},e()}function i(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return i(t())},e}function o(){return i(r().paddingInner(1))}t.a=r,t.b=o;var a=n(9),s=n(189)},function(e,t,n){"use strict";var r=n(57);t.a=n.i(r.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(e,t,n){"use strict";var r=n(57);t.a=n.i(r.a)("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")},function(e,t,n){"use strict";var r=n(57);t.a=n.i(r.a)("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")},function(e,t,n){"use strict";var r=n(57);t.a=n.i(r.a)("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")},function(e,t,n){"use strict";var r=n(14),i=n(20);t.a=n.i(i.d)(n.i(r.cubehelix)(300,.5,0),n.i(r.cubehelix)(-240,.5,1))},function(e,t,n){"use strict";function r(){function e(e){return+e}var t=[0,1];return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=i.a.call(n,a.a),e):t.slice()},e.copy=function(){return r().domain(t)},n.i(o.b)(e)}t.a=r;var i=n(39),o=n(58),a=n(188)},function(e,t,n){"use strict";function r(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:n.i(h.a)(t)}function i(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function o(e){return isFinite(e)?+("1e"+e):e<0?0:e}function a(e){return 10===e?o:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function s(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function l(e){return function(t){return-e(-t)}}function u(){function e(){return v=s(h),m=a(h),o()[0]<0&&(v=l(v),m=l(m)),t}var t=n.i(p.a)(r,i).domain([1,10]),o=t.domain,h=10,v=s(10),m=a(10);return t.base=function(t){return arguments.length?(h=+t,e()):h},t.domain=function(t){return arguments.length?(o(t),e()):o()},t.ticks=function(e){var t,r=o(),i=r[0],a=r[r.length-1];(t=a<i)&&(f=i,i=a,a=f);var s,l,u,f=v(i),d=v(a),p=null==e?10:+e,g=[];if(!(h%1)&&d-f<p){if(f=Math.round(f)-1,d=Math.round(d)+1,i>0){for(;f<d;++f)for(l=1,s=m(f);l<h;++l)if(!((u=s*l)<i)){if(u>a)break;g.push(u)}}else for(;f<d;++f)for(l=h-1,s=m(f);l>=1;--l)if(!((u=s*l)<i)){if(u>a)break;g.push(u)}}else g=n.i(c.ticks)(f,d,Math.min(d-f,p)).map(m);return t?g.reverse():g},t.tickFormat=function(e,r){if(null==r&&(r=10===h?".0e":","),"function"!=typeof r&&(r=n.i(f.format)(r)),e===1/0)return r;null==e&&(e=10);var i=Math.max(1,h*e/t.ticks().length);return function(e){var t=e/m(Math.round(v(e)));return t*h<h-.5&&(t*=h),t<=i?r(e):""}},t.nice=function(){return o(n.i(d.a)(o(),{floor:function(e){return m(Math.floor(v(e)))},ceil:function(e){return m(Math.ceil(v(e)))}}))},t.copy=function(){return n.i(p.c)(t,u().base(h))},t}t.a=u;var c=n(9),f=n(45),h=n(112),d=n(187),p=n(72)},function(e,t,n){"use strict";function r(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function i(){function e(e,t){return(t=r(t,o)-(e=r(e,o)))?function(n){return(r(n,o)-e)/t}:n.i(a.a)(t)}function t(e,t){return t=r(t,o)-(e=r(e,o)),function(n){return r(e+t*n,1/o)}}var o=1,u=n.i(l.a)(e,t),c=u.domain;return u.exponent=function(e){return arguments.length?(o=+e,c(c())):o},u.copy=function(){return n.i(l.c)(u,i().exponent(o))},n.i(s.b)(u)}function o(){return i().exponent(.5)}t.a=i,t.b=o;var a=n(112),s=n(58),l=n(72)},function(e,t,n){"use strict";function r(){function e(){var e=0,r=Math.max(1,s.length);for(l=new Array(r-1);++e<r;)l[e-1]=n.i(i.quantile)(a,e/r);return t}function t(e){if(!isNaN(e=+e))return s[n.i(i.bisect)(l,e)]}var a=[],s=[],l=[];return t.invertExtent=function(e){var t=s.indexOf(e);return t<0?[NaN,NaN]:[t>0?l[t-1]:a[0],t<l.length?l[t]:a[a.length-1]]},t.domain=function(t){if(!arguments.length)return a.slice();a=[];for(var n,r=0,o=t.length;r<o;++r)null==(n=t[r])||isNaN(n=+n)||a.push(n);return a.sort(i.ascending),e()},t.range=function(t){return arguments.length?(s=o.b.call(t),e()):s.slice()},t.quantiles=function(){return l.slice()},t.copy=function(){return r().domain(a).range(s)},t}t.a=r;var i=n(9),o=n(39)},function(e,t,n){"use strict";function r(){function e(e){if(e<=e)return f[n.i(i.bisect)(c,e,0,u)]}function t(){var t=-1;for(c=new Array(u);++t<u;)c[t]=((t+1)*l-(t-u)*s)/(u+1);return e}var s=0,l=1,u=1,c=[.5],f=[0,1];return e.domain=function(e){return arguments.length?(s=+e[0],l=+e[1],t()):[s,l]},e.range=function(e){return arguments.length?(u=(f=o.b.call(e)).length-1,t()):f.slice()},e.invertExtent=function(e){var t=f.indexOf(e);return t<0?[NaN,NaN]:t<1?[s,c[0]]:t>=u?[c[u-1],l]:[c[t-1],c[t]]},e.copy=function(){return r().domain([s,l]).range(f)},n.i(a.b)(e)}t.a=r;var i=n(9),o=n(39),a=n(58)},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});var r=n(14),i=n(20),o=n.i(i.d)(n.i(r.cubehelix)(-100,.75,.35),n.i(r.cubehelix)(80,1.5,.8)),a=n.i(i.d)(n.i(r.cubehelix)(260,.75,.35),n.i(r.cubehelix)(80,1.5,.8)),s=n.i(r.cubehelix)();t.a=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return s.h=360*e-100,s.s=1.5-1.5*t,s.l=.8-.9*t,s+""}},function(e,t,n){"use strict";function r(e){function t(t){var n=(t-o)/(a-o);return e(s?Math.max(0,Math.min(1,n)):n)}var o=0,a=1,s=!1;return t.domain=function(e){return arguments.length?(o=+e[0],a=+e[1],t):[o,a]},t.clamp=function(e){return arguments.length?(s=!!e,t):s},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return r(e).domain([o,a]).clamp(s)},n.i(i.b)(t)}t.a=r;var i=n(58)},function(e,t,n){"use strict";function r(){function e(e){if(e<=e)return a[n.i(i.bisect)(t,e,0,s)]}var t=[.5],a=[0,1],s=1;return e.domain=function(n){return arguments.length?(t=o.b.call(n),s=Math.min(t.length,a.length-1),e):t.slice()},e.range=function(n){return arguments.length?(a=o.b.call(n),s=Math.min(t.length,a.length-1),e):a.slice()},e.invertExtent=function(e){var n=a.indexOf(e);return[t[n-1],t[n]]},e.copy=function(){return r().domain(t).range(a)},e}t.a=r;var i=n(9),o=n(39)},function(e,t,n){"use strict";var r=n(9),i=n(45);t.a=function(e,t,o){var a,s=e[0],l=e[e.length-1],u=n.i(r.tickStep)(s,l,null==t?10:t);switch(o=n.i(i.formatSpecifier)(null==o?",f":o),o.type){case"s":var c=Math.max(Math.abs(s),Math.abs(l));return null!=o.precision||isNaN(a=n.i(i.precisionPrefix)(u,c))||(o.precision=a),n.i(i.formatPrefix)(o,c);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(a=n.i(i.precisionRound)(u,Math.max(Math.abs(s),Math.abs(l))))||(o.precision=a-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(a=n.i(i.precisionFixed)(u))||(o.precision=a-2*("%"===o.type))}return n.i(i.format)(o)}},function(e,t,n){"use strict";var r=n(190),i=n(197),o=n(120);t.a=function(){return n.i(r.b)(o.a,o.b,o.c,o.d,o.e,o.f,o.g,o.h,i.a).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}},function(e,t,n){"use strict";function r(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s});var i=n(57);t.a=r(n.i(i.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var o=r(n.i(i.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),a=r(n.i(i.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),s=r(n.i(i.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var r=n(73),i=n(192);t.a=function(e){return n.i(i.a)(n.i(r.a)(e).call(document.documentElement))}},function(e,t,n){"use strict";function r(){return new i}function i(){this._="@"+(++o).toString(36)}t.a=r;var o=0;i.prototype=r.prototype={constructor:i,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}},function(e,t,n){"use strict";var r=n(117),i=n(74);t.a=function(e){var t=n.i(r.a)();return t.changedTouches&&(t=t.changedTouches[0]),n.i(i.a)(e,t)}},function(e,t,n){"use strict";var r=n(16);t.a=function(e){return"string"==typeof e?new r.b([document.querySelectorAll(e)],[document.documentElement]):new r.b([null==e?[]:e],r.c)}},function(e,t,n){"use strict";var r=n(73);t.a=function(e){var t="function"==typeof e?e:n.i(r.a)(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}},function(e,t,n){"use strict";function r(e){return function(){this.removeAttribute(e)}}function i(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t){return function(){this.setAttribute(e,t)}}function a(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function s(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function l(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var u=n(113);t.a=function(e,t){var c=n.i(u.a)(e);if(arguments.length<2){var f=this.node();return c.local?f.getAttributeNS(c.space,c.local):f.getAttribute(c)}return this.each((null==t?c.local?i:r:"function"==typeof t?c.local?l:s:c.local?a:o)(c,t))}},function(e,t,n){"use strict";t.a=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}},function(e,t,n){"use strict";function r(e){return e.trim().split(/^|\s+/)}function i(e){return e.classList||new o(e)}function o(e){this._node=e,this._names=r(e.getAttribute("class")||"")}function a(e,t){for(var n=i(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function s(e,t){for(var n=i(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function l(e){return function(){a(this,e)}}function u(e){return function(){s(this,e)}}function c(e,t){return function(){(t.apply(this,arguments)?a:s)(this,e)}}o.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}},t.a=function(e,t){var n=r(e+"");if(arguments.length<2){for(var o=i(this.node()),a=-1,s=n.length;++a<s;)if(!o.contains(n[a]))return!1;return!0}return this.each(("function"==typeof t?c:t?l:u)(n,t))}},function(e,t,n){"use strict";function r(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function i(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}t.a=function(e){return this.select(e?i:r)}},function(e,t,n){"use strict";function r(e,t,n,r,i,o){for(var s,l=0,u=t.length,c=o.length;l<c;++l)(s=t[l])?(s.__data__=o[l],r[l]=s):n[l]=new a.b(e,o[l]);for(;l<u;++l)(s=t[l])&&(i[l]=s)}function i(e,t,n,r,i,o,s){var u,c,f,h={},d=t.length,p=o.length,v=new Array(d);for(u=0;u<d;++u)(c=t[u])&&(v[u]=f=l+s.call(c,c.__data__,u,t),f in h?i[u]=c:h[f]=c);for(u=0;u<p;++u)f=l+s.call(e,o[u],u,o),(c=h[f])?(r[u]=c,c.__data__=o[u],h[f]=null):n[u]=new a.b(e,o[u]);for(u=0;u<d;++u)(c=t[u])&&h[v[u]]===c&&(i[u]=c)}var o=n(16),a=n(193),s=n(423),l="$";t.a=function(e,t){if(!e)return y=new Array(this.size()),p=-1,this.each(function(e){y[++p]=e}),y;var a=t?i:r,l=this._parents,u=this._groups;"function"!=typeof e&&(e=n.i(s.a)(e));for(var c=u.length,f=new Array(c),h=new Array(c),d=new Array(c),p=0;p<c;++p){var v=l[p],m=u[p],g=m.length,y=e.call(v,v&&v.__data__,p,l),b=y.length,w=h[p]=new Array(b),x=f[p]=new Array(b);a(v,m,w,x,d[p]=new Array(g),y,t);for(var k,_,S=0,T=0;S<b;++S)if(k=w[S]){for(S>=T&&(T=S+1);!(_=x[T])&&++T<b;);k._next=_||null}}return f=new o.b(f,l),f._enter=h,f._exit=d,f}},function(e,t,n){"use strict";t.a=function(e){return arguments.length?this.property("__data__",e):this.node().__data__}},function(e,t,n){"use strict";function r(e,t,r){var i=n.i(a.a)(e),o=i.CustomEvent;"function"==typeof o?o=new o(t,r):(o=i.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function i(e,t){return function(){return r(this,e,t)}}function o(e,t){return function(){return r(this,e,t.apply(this,arguments))}}var a=n(118);t.a=function(e,t){return this.each(("function"==typeof t?o:i)(e,t))}},function(e,t,n){"use strict";t.a=function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this}},function(e,t,n){"use strict";t.a=function(){return!this.node()}},function(e,t,n){"use strict";var r=n(194),i=n(16);t.a=function(){return new i.b(this._exit||this._groups.map(r.a),this._parents)}},function(e,t,n){"use strict";var r=n(16),i=n(191);t.a=function(e){"function"!=typeof e&&(e=n.i(i.a)(e));for(var t=this._groups,o=t.length,a=new Array(o),s=0;s<o;++s)for(var l,u=t[s],c=u.length,f=a[s]=[],h=0;h<c;++h)(l=u[h])&&e.call(l,l.__data__,h,u)&&f.push(l);return new r.b(a,this._parents)}},function(e,t,n){"use strict";function r(){this.innerHTML=""}function i(e){return function(){this.innerHTML=e}}function o(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}t.a=function(e){return arguments.length?this.each(null==e?r:("function"==typeof e?o:i)(e)):this.node().innerHTML}},function(e,t,n){"use strict";function r(){return null}var i=n(73),o=n(116);t.a=function(e,t){var a="function"==typeof e?e:n.i(i.a)(e),s=null==t?r:"function"==typeof t?t:n.i(o.a)(t);return this.select(function(){return this.insertBefore(a.apply(this,arguments),s.apply(this,arguments)||null)})}},function(e,t,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}t.a=function(){return this.each(r)}},function(e,t,n){"use strict";var r=n(16);t.a=function(e){for(var t=this._groups,n=e._groups,i=t.length,o=n.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u,c=t[l],f=n[l],h=c.length,d=s[l]=new Array(h),p=0;p<h;++p)(u=c[p]||f[p])&&(d[p]=u);for(;l<i;++l)s[l]=t[l];return new r.b(s,this._parents)}},function(e,t,n){"use strict";t.a=function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}},function(e,t,n){"use strict";t.a=function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}},function(e,t,n){"use strict";t.a=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}},function(e,t,n){"use strict";function r(e){return function(){delete this[e]}}function i(e,t){return function(){this[e]=t}}function o(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}t.a=function(e,t){return arguments.length>1?this.each((null==t?r:"function"==typeof t?o:i)(e,t)):this.node()[e]}},function(e,t,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}t.a=function(){return this.each(r)}},function(e,t,n){"use strict";function r(){var e=this.parentNode;e&&e.removeChild(this)}t.a=function(){return this.each(r)}},function(e,t,n){"use strict";var r=n(16),i=n(116);t.a=function(e){"function"!=typeof e&&(e=n.i(i.a)(e));for(var t=this._groups,o=t.length,a=new Array(o),s=0;s<o;++s)for(var l,u,c=t[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(l=c[d])&&(u=e.call(l,l.__data__,d,c))&&("__data__"in l&&(u.__data__=l.__data__),h[d]=u);return new r.b(a,this._parents)}},function(e,t,n){"use strict";var r=n(16),i=n(196);t.a=function(e){"function"!=typeof e&&(e=n.i(i.a)(e));for(var t=this._groups,o=t.length,a=[],s=[],l=0;l<o;++l)for(var u,c=t[l],f=c.length,h=0;h<f;++h)(u=c[h])&&(a.push(e.call(u,u.__data__,h,c)),s.push(u));return new r.b(a,s)}},function(e,t,n){"use strict";t.a=function(){var e=0;return this.each(function(){++e}),e}},function(e,t,n){"use strict";function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var i=n(16);t.a=function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=r);for(var n=this._groups,o=n.length,a=new Array(o),s=0;s<o;++s){for(var l,u=n[s],c=u.length,f=a[s]=new Array(c),h=0;h<c;++h)(l=u[h])&&(f[h]=l);f.sort(t)}return new i.b(a,this._parents).order()}},function(e,t,n){"use strict";function r(){this.textContent=""}function i(e){return function(){this.textContent=e}}function o(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}t.a=function(e){return arguments.length?this.each(null==e?r:("function"==typeof e?o:i)(e)):this.node().textContent}},function(e,t,n){"use strict";var r=n(117),i=n(74);t.a=function(e,t,o){arguments.length<3&&(o=t,t=n.i(r.a)().changedTouches);for(var a,s=0,l=t?t.length:0;s<l;++s)if((a=t[s]).identifier===o)return n.i(i.a)(e,a);return null}},function(e,t,n){"use strict";var r=n(117),i=n(74);t.a=function(e,t){null==t&&(t=n.i(r.a)().touches);for(var o=0,a=t?t.length:0,s=new Array(a);o<a;++o)s[o]=n.i(i.a)(e,t[o]);return s}},function(e,t,n){"use strict";function r(e){var t=new Date(e);return isNaN(t)?null:t}var i=n(198),o=n(119);+new Date("2000-01-01T00:00:00.000Z")||n.i(o.b)(i.a)},function(e,t,n){"use strict";var r=n(13),i=n(23),o=n.i(r.a)(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.d)/i.b},function(e){return e.getDate()-1});t.a=o;o.range},function(e,t,n){"use strict";var r=n(13),i=n(23),o=n.i(r.a)(function(e){var t=e.getTimezoneOffset()*i.d%i.c;t<0&&(t+=i.c),e.setTime(Math.floor((+e-t)/i.c)*i.c+t)},function(e,t){e.setTime(+e+t*i.c)},function(e,t){return(t-e)/i.c},function(e){return e.getHours()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(13),i=n.i(r.a)(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?n.i(r.a)(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):i:null},t.a=i;i.range},function(e,t,n){"use strict";var r=n(13),i=n(23),o=n.i(r.a)(function(e){e.setTime(Math.floor(e/i.d)*i.d)},function(e,t){e.setTime(+e+t*i.d)},function(e,t){return(t-e)/i.d},function(e){return e.getMinutes()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(13),i=n.i(r.a)(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});t.a=i;i.range},function(e,t,n){"use strict";var r=n(13),i=n(23),o=n.i(r.a)(function(e){e.setTime(Math.floor(e/i.e)*i.e)},function(e,t){e.setTime(+e+t*i.e)},function(e,t){return(t-e)/i.e},function(e){return e.getUTCSeconds()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(13),i=n(23),o=n.i(r.a)(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/i.b},function(e){return e.getUTCDate()-1});t.a=o;o.range},function(e,t,n){"use strict";var r=n(13),i=n(23),o=n.i(r.a)(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*i.c)},function(e,t){return(t-e)/i.c},function(e){return e.getUTCHours()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(13),i=n(23),o=n.i(r.a)(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*i.d)},function(e,t){return(t-e)/i.d},function(e){return e.getUTCMinutes()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(13),i=n.i(r.a)(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});t.a=i;i.range},function(e,t,n){"use strict";function r(e){return n.i(i.a)(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/o.a})}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var i=n(13),o=n(23),a=r(0),s=r(1),l=r(2),u=r(3),c=r(4),f=r(5),h=r(6);a.range,s.range,l.range,u.range,c.range,f.range,h.range},function(e,t,n){"use strict";var r=n(13),i=n.i(r.a)(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?n.i(r.a)(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null},t.a=i;i.range},function(e,t,n){"use strict";function r(e){return n.i(i.a)(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*o.d)/o.a})}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var i=n(13),o=n(23),a=r(0),s=r(1),l=r(2),u=r(3),c=r(4),f=r(5),h=r(6);a.range,s.range,l.range,u.range,c.range,f.range,h.range},function(e,t,n){"use strict";var r=n(13),i=n.i(r.a)(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?n.i(r.a)(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null},t.a=i;i.range},function(e,t,n){"use strict";n(121)},function(e,t,n){"use strict";var r=n(121);t.a=function(e,t,n){var i=new r.b;return t=null==t?0:+t,i.restart(function(n){i.stop(),e(n+t)},t,n),i}},function(e,t,n){"use strict";n(26),n(17)},function(e,t,n){"use strict";var r=n(4),i=n(476),o=n(477);r.selection.prototype.interrupt=i.a,r.selection.prototype.transition=o.a},function(e,t,n){"use strict";var r=n(202);t.a=function(e){return this.each(function(){n.i(r.a)(this,e)})}},function(e,t,n){"use strict";function r(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))return l.time=n.i(s.c)(),l;return r}var i=n(26),o=n(17),a=n(373),s=n(200),l={time:null,delay:0,duration:250,ease:a.a};t.a=function(e){var t,a;e instanceof i.a?(t=e._id,e=e._name):(t=n.i(i.b)(),(a=l).time=n.i(s.c)(),e=null==e?null:e+"");for(var u=this._groups,c=u.length,f=0;f<c;++f)for(var h,d=u[f],p=d.length,v=0;v<p;++v)(h=d[v])&&n.i(o.h)(h,e,t,v,d,a||r(h,t));return new i.a(u,this._parents,e,t)}},function(e,t,n){"use strict";function r(e){return function(){this.removeAttribute(e)}}function i(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t,n){var r,i;return function(){var o=this.getAttribute(e);return o===n?null:o===r?i:i=t(r=o,n)}}function a(e,t,n){var r,i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===n?null:o===r?i:i=t(r=o,n)}}function s(e,t,n){var r,i,o;return function(){var a,s=n(this);return null==s?void this.removeAttribute(e):(a=this.getAttribute(e),a===s?null:a===r&&s===i?o:o=t(r=a,i=s))}}function l(e,t,n){var r,i,o;return function(){var a,s=n(this);return null==s?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),a===s?null:a===r&&s===i?o:o=t(r=a,i=s))}}var u=n(20),c=n(4),f=n(75),h=n(203);t.a=function(e,t){var d=n.i(c.namespace)(e),p="transform"===d?u.h:h.a;return this.attrTween(e,"function"==typeof t?(d.local?l:s)(d,p,n.i(f.b)(this,"attr."+e,t)):null==t?(d.local?i:r)(d):(d.local?a:o)(d,p,t+""))}},function(e,t,n){"use strict";function r(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttributeNS(e.space,e.local,r(t))}}return n._value=t,n}function i(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttribute(e,r(t))}}return n._value=t,n}var o=n(4);t.a=function(e,t){var a="attr."+e;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==t)return this.tween(a,null);if("function"!=typeof t)throw new Error;var s=n.i(o.namespace)(e);return this.tween(a,(s.local?r:i)(s,t))}},function(e,t,n){"use strict";function r(e,t){return function(){n.i(o.g)(this,e).delay=+t.apply(this,arguments)}}function i(e,t){return t=+t,function(){n.i(o.g)(this,e).delay=t}}var o=n(17);t.a=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?r:i)(t,e)):n.i(o.f)(this.node(),t).delay}},function(e,t,n){"use strict";function r(e,t){return function(){n.i(o.e)(this,e).duration=+t.apply(this,arguments)}}function i(e,t){return t=+t,function(){n.i(o.e)(this,e).duration=t}}var o=n(17);t.a=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?r:i)(t,e)):n.i(o.f)(this.node(),t).duration}},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t)throw new Error;return function(){n.i(i.e)(this,e).ease=t}}var i=n(17);t.a=function(e){var t=this._id;return arguments.length?this.each(r(t,e)):n.i(i.f)(this.node(),t).ease}},function(e,t,n){"use strict";var r=n(4),i=n(26);t.a=function(e){"function"!=typeof e&&(e=n.i(r.matcher)(e));for(var t=this._groups,o=t.length,a=new Array(o),s=0;s<o;++s)for(var l,u=t[s],c=u.length,f=a[s]=[],h=0;h<c;++h)(l=u[h])&&e.call(l,l.__data__,h,u)&&f.push(l);return new i.a(a,this._parents,this._name,this._id)}},function(e,t,n){"use strict";var r=n(26);t.a=function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u,c=t[l],f=n[l],h=c.length,d=s[l]=new Array(h),p=0;p<h;++p)(u=c[p]||f[p])&&(d[p]=u);for(;l<i;++l)s[l]=t[l];return new r.a(s,this._parents,this._name,this._id)}},function(e,t,n){"use strict";function r(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}function i(e,t,n){var i,a,s=r(t)?o.g:o.e;return function(){var r=s(this,e),o=r.on;o!==i&&(a=(i=o).copy()).on(t,n),r.on=a}}var o=n(17);t.a=function(e,t){var r=this._id;return arguments.length<2?n.i(o.f)(this.node(),r).on.on(e):this.each(i(r,e,t))}},function(e,t,n){"use strict";function r(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}t.a=function(){return this.on("end.remove",r(this._id))}},function(e,t,n){"use strict";var r=n(4),i=n(26),o=n(17);t.a=function(e){var t=this._name,a=this._id;"function"!=typeof e&&(e=n.i(r.selector)(e));for(var s=this._groups,l=s.length,u=new Array(l),c=0;c<l;++c)for(var f,h,d=s[c],p=d.length,v=u[c]=new Array(p),m=0;m<p;++m)(f=d[m])&&(h=e.call(f,f.__data__,m,d))&&("__data__"in f&&(h.__data__=f.__data__),v[m]=h,n.i(o.h)(v[m],t,a,m,v,n.i(o.f)(f,a)));return new i.a(u,this._parents,t,a)}},function(e,t,n){"use strict";var r=n(4),i=n(26),o=n(17);t.a=function(e){var t=this._name,a=this._id;"function"!=typeof e&&(e=n.i(r.selectorAll)(e));for(var s=this._groups,l=s.length,u=[],c=[],f=0;f<l;++f)for(var h,d=s[f],p=d.length,v=0;v<p;++v)if(h=d[v]){for(var m,g=e.call(h,h.__data__,v,d),y=n.i(o.f)(h,a),b=0,w=g.length;b<w;++b)(m=g[b])&&n.i(o.h)(m,t,a,b,g,y);u.push(g),c.push(h)}return new i.a(u,c,t,a)}},function(e,t,n){"use strict";var r=n(4),i=r.selection.prototype.constructor;t.a=function(){return new i(this._groups,this._parents)}},function(e,t,n){"use strict";function r(e,t){var r,i,o;return function(){var a=n.i(l.style)(this,e),s=(this.style.removeProperty(e),n.i(l.style)(this,e));return a===s?null:a===r&&s===i?o:o=t(r=a,i=s)}}function i(e){return function(){this.style.removeProperty(e)}}function o(e,t,r){var i,o;return function(){var a=n.i(l.style)(this,e);return a===r?null:a===i?o:o=t(i=a,r)}}function a(e,t,r){var i,o,a;return function(){var s=n.i(l.style)(this,e),u=r(this);return null==u&&(this.style.removeProperty(e),u=n.i(l.style)(this,e)),s===u?null:s===i&&u===o?a:a=t(i=s,o=u)}}var s=n(20),l=n(4),u=n(75),c=n(203);t.a=function(e,t,l){var f="transform"==(e+="")?s.e:c.a;return null==t?this.styleTween(e,r(e,f)).on("end.style."+e,i(e)):this.styleTween(e,"function"==typeof t?a(e,f,n.i(u.b)(this,"style."+e,t)):o(e,f,t+""),l)}},function(e,t,n){"use strict";function r(e,t,n){function r(){var r=this,i=t.apply(r,arguments);return i&&function(t){r.style.setProperty(e,i(t),n)}}return r._value=t,r}t.a=function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,r(e,t,null==n?"":n))}},function(e,t,n){"use strict";function r(e){return function(){this.textContent=e}}function i(e){return function(){var t=e(this);this.textContent=null==t?"":t}}var o=n(75);t.a=function(e){return this.tween("text","function"==typeof e?i(n.i(o.b)(this,"text",e)):r(null==e?"":e+""))}},function(e,t,n){"use strict";var r=n(26),i=n(17);t.a=function(){for(var e=this._name,t=this._id,o=n.i(r.b)(),a=this._groups,s=a.length,l=0;l<s;++l)for(var u,c=a[l],f=c.length,h=0;h<f;++h)if(u=c[h]){var d=n.i(i.f)(u,t);n.i(i.h)(u,e,o,h,c,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new r.a(a,this._parents,e,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(498);n.d(t,"zoom",function(){return r.a});var i=n(204);n.d(t,"zoomTransform",function(){return i.a}),n.d(t,"zoomIdentity",function(){return i.b})},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(e,t,n){this.target=e,this.type=t,this.transform=n}t.a=r},function(e,t,n){"use strict";function r(){i.event.stopImmediatePropagation()}t.b=r;var i=n(4);t.a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},function(e,t,n){"use strict";function r(){return!h.event.button}function i(){var e,t,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,e=n.width.baseVal.value,t=n.height.baseVal.value):(e=n.clientWidth,t=n.clientHeight),[[0,0],[e,t]]}function o(){return this.__zoom||m.b}function a(){return-h.event.deltaY*(h.event.deltaMode?120:1)/500}function s(){return"ontouchstart"in this}function l(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var u=n(34),c=n(100),f=n(20),h=n(4),d=n(201),p=n(495),v=n(496),m=n(204),g=n(497);t.a=function(){function e(e){e.property("__zoom",o).on("wheel.zoom",_).on("mousedown.zoom",S).on("dblclick.zoom",T).filter(D).on("touchstart.zoom",O).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function t(e,t){return t=Math.max(L[0],Math.min(L[1],t)),t===e.k?e:new m.c(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new m.c(e.k,r,i)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n){e.on("start.zoom",function(){x(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).end()}).tween("zoom",function(){var e=this,r=arguments,i=x(e,r),o=j.apply(e,r),a=n||b(o),s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),l=e.__zoom,u="function"==typeof t?t.apply(e,r):t,c=N(l.invert(a).concat(s/l.k),u.invert(a).concat(s/u.k));return function(e){if(1===e)e=u;else{var t=c(e),n=s/t[2];e=new m.c(n,a[0]-t[0]*n,a[1]-t[1]*n)}i.zoom(null,e)}})}function x(e,t){for(var n,r=0,i=H.length;r<i;++r)if((n=H[r]).that===e)return n;return new k(e,t)}function k(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=j.apply(e,t)}function _(){function e(){r.wheel=null,r.end()}if(A.apply(this,arguments)){var r=x(this,arguments),i=this.__zoom,o=Math.max(L[0],Math.min(L[1],i.k*Math.pow(2,I.apply(this,arguments)))),a=n.i(h.mouse)(this);if(r.wheel)r.mouse[0][0]===a[0]&&r.mouse[0][1]===a[1]||(r.mouse[1]=i.invert(r.mouse[0]=a)),clearTimeout(r.wheel);else{if(i.k===o)return;r.mouse=[a,i.invert(a)],n.i(d.a)(this),r.start()}n.i(g.a)(),r.wheel=setTimeout(e,U),r.zoom("mouse",R(y(t(i,o),r.mouse[0],r.mouse[1]),r.extent,z))}}function S(){function e(){if(n.i(g.a)(),!r.moved){var e=h.event.clientX-a,t=h.event.clientY-s;r.moved=e*e+t*t>W}r.zoom("mouse",R(y(r.that.__zoom,r.mouse[0]=n.i(h.mouse)(r.that),r.mouse[1]),r.extent,z))}function t(){i.on("mousemove.zoom mouseup.zoom",null),n.i(c.dragEnable)(h.event.view,r.moved),n.i(g.a)(),r.end()}if(!M&&A.apply(this,arguments)){var r=x(this,arguments),i=n.i(h.select)(h.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",t,!0),o=n.i(h.mouse)(this),a=h.event.clientX,s=h.event.clientY;n.i(c.dragDisable)(h.event.view),n.i(g.b)(),r.mouse=[o,this.__zoom.invert(o)],n.i(d.a)(this),r.start()}}function T(){if(A.apply(this,arguments)){var r=this.__zoom,i=n.i(h.mouse)(this),o=r.invert(i),a=r.k*(h.event.shiftKey?.5:2),s=R(y(t(r,a),i,o),j.apply(this,arguments),z);n.i(g.a)(),B>0?n.i(h.select)(this).transition().duration(B).call(w,s,i):n.i(h.select)(this).call(e.transform,s)}}function O(){if(A.apply(this,arguments)){var e,t,r,i,o=x(this,arguments),a=h.event.changedTouches,s=a.length;for(n.i(g.b)(),t=0;t<s;++t)r=a[t],i=n.i(h.touch)(this,a,r.identifier),i=[i,this.__zoom.invert(i),r.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,e=!0);if(E&&(E=clearTimeout(E),!o.touch1))return o.end(),void((i=n.i(h.select)(this).on("dblclick.zoom"))&&i.apply(this,arguments));e&&(E=setTimeout(function(){E=null},F),n.i(d.a)(this),o.start())}}function C(){var e,r,i,o,a=x(this,arguments),s=h.event.changedTouches,l=s.length;for(n.i(g.a)(),E&&(E=clearTimeout(E)),e=0;e<l;++e)r=s[e],i=n.i(h.touch)(this,s,r.identifier),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var u=a.touch0[0],c=a.touch0[1],f=a.touch1[0],d=a.touch1[1],p=(p=f[0]-u[0])*p+(p=f[1]-u[1])*p,v=(v=d[0]-c[0])*v+(v=d[1]-c[1])*v;r=t(r,Math.sqrt(p/v)),i=[(u[0]+f[0])/2,(u[1]+f[1])/2],o=[(c[0]+d[0])/2,(c[1]+d[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],o=a.touch0[1]}a.zoom("touch",R(y(r,i,o),a.extent,z))}function P(){var e,t,r=x(this,arguments),i=h.event.changedTouches,o=i.length;for(n.i(g.b)(),M&&clearTimeout(M),M=setTimeout(function(){M=null},F),e=0;e<o;++e)t=i[e],r.touch0&&r.touch0[2]===t.identifier?delete r.touch0:r.touch1&&r.touch1[2]===t.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}var E,M,A=r,j=i,R=l,I=a,D=s,L=[0,1/0],z=[[-1/0,-1/0],[1/0,1/0]],B=250,N=f.i,H=[],V=n.i(u.a)("start","zoom","end"),F=500,U=150,W=0;return e.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",o),e!==n?w(e,t):n.interrupt().each(function(){x(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},e.scaleTo=function(n,r){e.transform(n,function(){var e=j.apply(this,arguments),n=this.__zoom,i=b(e),o=n.invert(i),a="function"==typeof r?r.apply(this,arguments):r;return R(y(t(n,a),i,o),e,z)})},e.translateBy=function(t,n,r){e.transform(t,function(){return R(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof r?r.apply(this,arguments):r),j.apply(this,arguments),z)})},e.translateTo=function(t,n,r){e.transform(t,function(){var e=j.apply(this,arguments),t=this.__zoom,i=b(e);return R(m.b.translate(i[0],i[1]).scale(t.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof r?-r.apply(this,arguments):-r),e,z)})},k.prototype={start:function(){return 1==++this.active&&(this.index=H.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(H.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){n.i(h.customEvent)(new v.a(e,t,this.that.__zoom),V.apply,V,[t,this.that,this.args])}},e.wheelDelta=function(t){return arguments.length?(I="function"==typeof t?t:n.i(p.a)(+t),e):I},e.filter=function(t){return arguments.length?(A="function"==typeof t?t:n.i(p.a)(!!t),e):A},e.touchable=function(t){return arguments.length?(D="function"==typeof t?t:n.i(p.a)(!!t),e):D},e.extent=function(t){return arguments.length?(j="function"==typeof t?t:n.i(p.a)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):j},e.scaleExtent=function(t){return arguments.length?(L[0]=+t[0],L[1]=+t[1],e):[L[0],L[1]]},e.translateExtent=function(t){return arguments.length?(z[0][0]=+t[0][0],z[1][0]=+t[1][0],z[0][1]=+t[0][1],z[1][1]=+t[1][1],e):[[z[0][0],z[0][1]],[z[1][0],z[1][1]]]},e.constrain=function(t){return arguments.length?(R=t,e):R},e.duration=function(t){return arguments.length?(B=+t,e):B},e.interpolate=function(t){return arguments.length?(N=t,e):N},e.on=function(){var t=V.on.apply(V,arguments);return t===V?e:t},e.clickDistance=function(t){return arguments.length?(W=(t=+t)*t,e):Math.sqrt(W)},e}},function(e,t,n){e.exports=n(500)},function(e,t,n){function r(e,t,n){n=n||{},9===t.nodeType&&(t=i.getWindow(t));var r=n.allowHorizontalScroll,o=n.onlyScrollIfNeeded,a=n.alignWithTop,s=n.alignWithLeft;r=void 0===r||r;var l,u,c,f,h,d,p,v,m,g,y=i.isWindow(t),b=i.offset(e),w=i.outerHeight(e),x=i.outerWidth(e);y?(p=t,g=i.height(p),m=i.width(p),v={left:i.scrollLeft(p),top:i.scrollTop(p)},h={left:b.left-v.left,top:b.top-v.top},d={left:b.left+x-(v.left+m),top:b.top+w-(v.top+g)},f=v):(l=i.offset(t),u=t.clientHeight,c=t.clientWidth,f={left:t.scrollLeft,top:t.scrollTop},h={left:b.left-(l.left+(parseFloat(i.css(t,"borderLeftWidth"))||0)),top:b.top-(l.top+(parseFloat(i.css(t,"borderTopWidth"))||0))},d={left:b.left+x-(l.left+c+(parseFloat(i.css(t,"borderRightWidth"))||0)),top:b.top+w-(l.top+u+(parseFloat(i.css(t,"borderBottomWidth"))||0))}),h.top<0||d.top>0?!0===a?i.scrollTop(t,f.top+h.top):!1===a?i.scrollTop(t,f.top+d.top):h.top<0?i.scrollTop(t,f.top+h.top):i.scrollTop(t,f.top+d.top):o||(a=void 0===a||!!a,a?i.scrollTop(t,f.top+h.top):i.scrollTop(t,f.top+d.top)),r&&(h.left<0||d.left>0?!0===s?i.scrollLeft(t,f.left+h.left):!1===s?i.scrollLeft(t,f.left+d.left):h.left<0?i.scrollLeft(t,f.left+h.left):i.scrollLeft(t,f.left+d.left):o||(s=void 0===s||!!s,s?i.scrollLeft(t,f.left+h.left):i.scrollLeft(t,f.left+d.left)))}var i=n(501);e.exports=r},function(e,t){function n(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),n=t.left,r=t.top,n-=a.clientLeft||o.clientLeft||0,r-=a.clientTop||o.clientTop||0,{left:n,top:r}}function r(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var i=e.document;n=i.documentElement[r],"number"!=typeof n&&(n=i.body[r])}return n}function i(e){return r(e)}function o(e){return r(e,!0)}function a(e){var t=n(e),r=e.ownerDocument,a=r.defaultView||r.parentWindow;return t.left+=i(a),t.top+=o(a),t}function s(e,t,n){var r="",i=e.ownerDocument;return(n=n||i.defaultView.getComputedStyle(e,null))&&(r=n.getPropertyValue(t)||n[t]),r}function l(e,t){var n=e[_]&&e[_][t];if(x.test(n)&&!k.test(t)){var r=e.style,i=r[T],o=e[S][T];e[S][T]=e[_][T],r[T]="fontSize"===t?"1em":n||0,n=r.pixelLeft+O,r[T]=i,e[S][T]=o}return""===n?"auto":n}function u(e,t){"static"===g(e,"position")&&(e.style.position="relative");var n,r,i=a(e),o={};for(r in t)n=parseFloat(g(e,r))||0,o[r]=n+t[r]-i[r];g(e,o)}function c(e,t){for(var n=0;n<e.length;n++)t(e[n])}function f(e){return"border-box"===b(e,"boxSizing")}function h(e,t,n){var r,i={},o=e.style;for(r in t)i[r]=o[r],o[r]=t[r];n.call(e);for(r in t)o[r]=i[r]}function d(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i])for(o=0;o<n.length;o++){var s;s="border"===r?r+n[o]+"Width":r+n[o],a+=parseFloat(b(e,s))||0}return a}function p(e){return null!=e&&e==e.window}function v(e,t,n){if(p(e))return"width"===t?A.viewportWidth(e):A.viewportHeight(e);if(9===e.nodeType)return"width"===t?A.docWidth(e):A.docHeight(e);var r="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.offsetWidth:e.offsetHeight,o=b(e),a=f(e,o),s=0;(null==i||i<=0)&&(i=void 0,s=b(e,t),(null==s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===n&&(n=a?M:P);var l=void 0!==i||a,u=i||s;return n===P?l?u-d(e,["border","padding"],r,o):s:l?u+(n===M?0:n===E?-d(e,["border"],r,o):d(e,["margin"],r,o)):s+d(e,C.slice(n),r,o)}function m(e){var t,n=arguments;return 0!==e.offsetWidth?t=v.apply(void 0,n):h(e,j,function(){t=v.apply(void 0,n)}),t}function g(e,t,n){if("object"!=typeof t){if(void 0===n)return b(e,t);"number"==typeof n&&(n+="px"),e.style[t]=n}else for(var r in t)g(e,r,t[r])}function y(e,t){for(var n in t)e[n]=t[n];return e}var b,w=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,x=new RegExp("^("+w+")(?!px)[a-z%]+$","i"),k=/^(top|right|bottom|left)$/,_="currentStyle",S="runtimeStyle",T="left",O="px";"undefined"!=typeof window&&(b=window.getComputedStyle?s:l);var C=["margin","border","padding"],P=-1,E=2,M=1,A={};c(["Width","Height"],function(e){A["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],A["viewport"+e](n))},A["viewport"+e]=function(t){var n="client"+e,r=t.document,i=r.body,o=r.documentElement,a=o[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}});var j={position:"absolute",visibility:"hidden",display:"block"};c(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);A["outer"+t]=function(t,n){return t&&m(t,e,n?0:M)};var n="width"===e?["Left","Right"]:["Top","Bottom"];A[e]=function(t,r){if(void 0===r)return t&&m(t,e,P);if(t){var i=b(t);return f(t)&&(r+=d(t,["padding","border"],n,i)),g(t,e,r)}}});var R=e.exports={getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return a(e);u(e,t)},isWindow:p,each:c,css:g,clone:function(e){var t={};for(var n in e)t[n]=e[n];if(e.overflow)for(n in e)t.overflow[n]=e.overflow[n];return t},mix:y,scrollLeft:function(e,t){if(p(e)){if(void 0===t)return i(e);window.scrollTo(t,o(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(p(e)){if(void 0===t)return o(e);window.scrollTo(i(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},merge:function(){for(var e={},t=0;t<arguments.length;t++)R.mix(e,arguments[t]);return e},viewportWidth:0,viewportHeight:0};y(R,A)},function(e,t,n){"use strict";function r(e,t,n){var i=0|e[n];if(i<=0)return[];var o,a=new Array(i);if(n===e.length-1)for(o=0;o<i;++o)a[o]=t;else for(o=0;o<i;++o)a[o]=r(e,t,n+1);return a}function i(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function o(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return i(0|e,t);break;case"object":if("number"==typeof e.length)return r(e,t,0)}return[]}e.exports=o},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports={"add-track-position-table":"AddTrackPositionMenu-module_add-track-position-table-RHODc","add-track-position-other":"AddTrackPositionMenu-module_add-track-position-other-lIGbb","add-track-position-top-center":"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e","add-track-position-middle-left":"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN","add-track-position-middle-right":"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn","add-track-position-middle-middle":"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd","add-track-position-bottom-middle":"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE","add-track-position-span":"AddTrackPositionMenu-module_add-track-position-span-2hbwE"}},function(e,t){e.exports={"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU","genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},function(e,t){e.exports={higlass:"HiGlass-module_higlass-1NHR2","higlass-canvas":"HiGlass-module_higlass-canvas-_mP9r","higlass-drawing-surface":"HiGlass-module_higlass-drawing-surface-3aQQo","higlass-svg":"HiGlass-module_higlass-svg-JJZbf","tiled-area":"HiGlass-module_tiled-area-22H1L"}},function(e,t){e.exports={"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"}},function(e,t){e.exports={"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb","track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},function(e,t){e.exports={"track-renderer":"TrackRenderer-module_track-renderer-3TM7n"}},function(e,t){e.exports={"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,l){if(i(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,l],f=0;u=new Error(t.replace(/%s/g,function(){return c[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(e){};e.exports=r},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+f>=1?h/l:h*Math.pow(2,1-f),t*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(42),i=n(18),o=r(i,"DataView");e.exports=o},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(576),o=n(577),a=n(578),s=n(579),l=n(580);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,e.exports=r},function(e,t,n){var r=n(42),i=n(18),o=r(i,"Promise");e.exports=o},function(e,t,n){var r=n(42),i=n(18),o=r(i,"Set");e.exports=o},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}var i=n(127),o=n(604),a=n(605);r.prototype.add=r.prototype.push=o,r.prototype.has=a,e.exports=r},function(e,t,n){var r=n(42),i=n(18),o=r(i,"WeakMap");e.exports=o},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){function r(e,t){return e&&i(t,o(t),e)}var i=n(80),o=n(48);e.exports=r},function(e,t,n){function r(e,t){return e&&i(t,o(t),e)}var i=n(80),o=n(233);e.exports=r},function(e,t,n){function r(e,t,n,R,I,D){var L,z=t&T,B=t&O,N=t&C;if(n&&(L=I?n(e,R,I,D):n(e)),void 0!==L)return L;if(!k(e))return e;var H=b(e);if(H){if(L=m(e),!z)return c(e,L)}else{var V=v(e),F=V==E||V==M;if(w(e))return u(e,z);if(V==A||V==P||F&&!I){if(L=B||F?{}:y(e),!z)return B?h(e,l(L,e)):f(e,s(L,e))}else{if(!j[V])return I?e:{};L=g(e,V,z)}}D||(D=new i);var U=D.get(e);if(U)return U;if(D.set(e,L),_(e))return e.forEach(function(i){L.add(r(i,t,n,i,e,D))}),L;if(x(e))return e.forEach(function(i,o){L.set(o,r(i,t,n,o,e,D))}),L;var W=N?B?p:d:B?keysIn:S,Y=H?void 0:W(e);return o(Y||e,function(i,o){Y&&(o=i,i=e[o]),a(L,o,r(i,t,n,o,e,D))}),L}var i=n(128),o=n(209),a=n(211),s=n(527),l=n(528),u=n(555),c=n(562),f=n(563),h=n(564),d=n(224),p=n(571),v=n(82),m=n(581),g=n(582),y=n(583),b=n(15),w=n(140),x=n(623),k=n(21),_=n(625),S=n(48),T=1,O=2,C=4,P="[object Arguments]",E="[object Function]",M="[object GeneratorFunction]",A="[object Object]",j={};j[P]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[A]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[E]=j["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){var r=n(21),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t){function n(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}e.exports=n},function(e,t,n){function r(e,t,n,a,s){var l=-1,u=e.length;for(n||(n=o),s||(s=[]);++l<u;){var c=e[l];t>0&&n(c)?t>1?r(c,t-1,n,a,s):i(s,c):a||(s[s.length]=c)}return s}var i=n(130),o=n(584);e.exports=r},function(e,t,n){var r=n(567),i=r();e.exports=i},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(41),o=n(24),a="[object Arguments]";e.exports=r},function(e,t,n){function r(e,t,n,r,m,y){var b=u(e),w=u(t),x=b?p:l(e),k=w?p:l(t);x=x==d?v:x,k=k==d?v:k;var _=x==v,S=k==v,T=x==k;if(T&&c(e)){if(!c(t))return!1;b=!0,_=!1}if(T&&!_)return y||(y=new i),b||f(e)?o(e,t,n,r,m,y):a(e,t,x,n,r,m,y);if(!(n&h)){var O=_&&g.call(e,"__wrapped__"),C=S&&g.call(t,"__wrapped__");if(O||C){var P=O?e.value():e,E=C?t.value():t;return y||(y=new i),m(P,E,n,r,y)}}return!!T&&(y||(y=new i),s(e,t,n,r,m,y))}var i=n(128),o=n(222),a=n(569),s=n(570),l=n(82),u=n(15),c=n(140),f=n(232),h=1,d="[object Arguments]",p="[object Array]",v="[object Object]",m=Object.prototype,g=m.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(82),o=n(24),a="[object Map]";e.exports=r},function(e,t,n){function r(e,t,n,r){var l=n.length,u=l,c=!r;if(null==e)return!u;for(e=Object(e);l--;){var f=n[l];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++l<u;){f=n[l];var h=f[0],d=e[h],p=f[1];if(c&&f[2]){if(void 0===d&&!(h in e))return!1}else{var v=new i;if(r)var m=r(d,p,h,e,t,v);if(!(void 0===m?o(p,d,a|s,r,v):m))return!1}}return!0}var i=n(128),o=n(217),a=1,s=2;e.exports=r},function(e,t,n){function r(e){return!(!a(e)||o(e))&&(i(e)?p:u).test(s(e))}var i=n(231),o=n(587),a=n(21),s=n(229),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,h=c.toString,d=f.hasOwnProperty,p=RegExp("^"+h.call(d).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(82),o=n(24),a="[object Set]";e.exports=r},function(e,t,n){function r(e){return a(e)&&o(e.length)&&!!s[i(e)]}var i=n(41),o=n(141),a=n(24),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){function r(e){if(!i(e))return o(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var i=n(136),o=n(600),a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){if(!i(e))return a(e);var t=o(e),n=[];for(var r in e)("constructor"!=r||!t&&l.call(e,r))&&n.push(r);return n}var i=n(21),o=n(136),a=n(601),s=Object.prototype,l=s.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}var i=n(538),o=n(572),a=n(227);e.exports=r},function(e,t,n){function r(e,t){return s(e)&&l(t)?u(c(e),t):function(n){var r=o(n,e);return void 0===r&&r===t?a(n,e):i(t,r,f|h)}}var i=n(217),o=n(621),a=n(622),s=n(135),l=n(226),u=n(227),c=n(84),f=1,h=2;e.exports=r},function(e,t,n){function r(e,t,n){var r=-1;t=i(t.length?t:[c],l(o));var f=a(e,function(e,n,o){return{criteria:i(t,function(t){return t(e)}),index:++r,value:e}});return s(f,function(e,t){return u(e,t,n)})}var i=n(129),o=n(78),a=n(218),s=n(551),l=n(79),u=n(561),c=n(59);e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function r(e){return function(t){return i(t,e)}}var i=n(215);e.exports=r},function(e,t,n){function r(e,t){return a(o(e,t,i),e+"")}var i=n(59),o=n(603),a=n(607);e.exports=r},function(e,t,n){var r=n(616),i=n(221),o=n(59),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){function n(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){function r(e){if("string"==typeof e)return e;if(a(e))return o(e,r)+"";if(s(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}var i=n(46),o=n(129),a=n(15),s=n(60),l=1/0,u=i?i.prototype:void 0,c=u?u.toString:void 0;e.exports=r},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}var i=n(18),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,l=s?i.Buffer:void 0,u=l?l.allocUnsafe:void 0;e.exports=r}).call(t,n(86)(e))},function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var i=n(131);e.exports=r},function(e,t){function n(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}var r=/\w*$/;e.exports=n},function(e,t,n){function r(e){return a?Object(a.call(e)):{}}var i=n(46),o=i?i.prototype:void 0,a=o?o.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var i=n(131);e.exports=r},function(e,t,n){function r(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e===e,a=i(e),s=void 0!==t,l=null===t,u=t===t,c=i(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!o)return 1;if(!r&&!a&&!c&&e<t||c&&n&&o&&!r&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}var i=n(60);e.exports=r},function(e,t,n){function r(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++r<s;){var u=i(o[r],a[r]);if(u){if(r>=l)return u;return u*("desc"==n[r]?-1:1)}}return e.index-t.index}var i=n(560);e.exports=r},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){function r(e,t){return i(e,o(e),t)}var i=n(80),o=n(133);e.exports=r},function(e,t,n){function r(e,t){return i(e,o(e),t)}var i=n(80),o=n(225);e.exports=r},function(e,t,n){var r=n(18),i=r["__core-js_shared__"];e.exports=i},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==r(s[a],a,s););return n}}var i=n(47);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}e.exports=n},function(e,t,n){function r(e){return function(t,n,r){var s=Object(t);if(!o(t)){var l=i(n,3);t=a(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,r);return u>-1?s[l?t[u]:u]:void 0}}var i=n(78),o=n(47),a=n(48);e.exports=r},function(e,t,n){function r(e,t,n,r,i,_,T){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!_(new o(e),new o(t)));case h:case d:case m:return a(+e,+t);case p:return e.name==t.name&&e.message==t.message;case g:case b:return e==t+"";case v:var O=l;case y:var C=r&c;if(O||(O=u),e.size!=t.size&&!C)return!1;var P=T.get(e);if(P)return P==t;r|=f,T.set(e,t);var E=s(O(e),O(t),r,i,_,T);return T.delete(e),E;case w:if(S)return S.call(e)==S.call(t)}return!1}var i=n(46),o=n(208),a=n(85),s=n(222),l=n(598),u=n(606),c=1,f=2,h="[object Boolean]",d="[object Date]",p="[object Error]",v="[object Map]",m="[object Number]",g="[object RegExp]",y="[object Set]",b="[object String]",w="[object Symbol]",x="[object ArrayBuffer]",k="[object DataView]",_=i?i.prototype:void 0,S=_?_.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t,n,r,a,l){var u=n&o,c=i(e),f=c.length;if(f!=i(t).length&&!u)return!1;for(var h=f;h--;){var d=c[h];if(!(u?d in t:s.call(t,d)))return!1}var p=l.get(e);if(p&&l.get(t))return p==t;var v=!0;l.set(e,t),l.set(t,e);for(var m=u;++h<f;){d=c[h];var g=e[d],y=t[d];if(r)var b=u?r(y,g,d,t,e,l):r(g,y,d,e,t,l);if(!(void 0===b?g===y||a(g,y,n,r,l):b)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var w=e.constructor,x=t.constructor;w!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x)&&(v=!1)}return l.delete(e),l.delete(t),v}var i=n(224),o=1,a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){return i(e,a,o)}var i=n(216),o=n(225),a=n(233);e.exports=r},function(e,t,n){function r(e){for(var t=o(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,i(a)]}return t}var i=n(226),o=n(48);e.exports=r},function(e,t,n){function r(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[l]=n:delete e[l]),i}var i=n(46),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function r(e,t,n){t=i(t,e);for(var r=-1,c=t.length,f=!1;++r<c;){var h=u(t[r]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++r!=c?f:!!(c=null==e?0:e.length)&&l(c)&&s(h,c)&&(a(e)||o(e))}var i=n(220),o=n(139),a=n(15),s=n(134),l=n(141),u=n(84);e.exports=r},function(e,t,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(83);e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(i){var n=t[e];return n===o?void 0:n}return s.call(t,e)?t[e]:void 0}var i=n(83),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return i?void 0!==t[e]:a.call(t,e)}var i=n(83),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?o:t,this}var i=n(83),o="__lodash_hash_undefined__";e.exports=r},function(e,t){function n(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,i=r.hasOwnProperty;e.exports=n},function(e,t,n){function r(e,t,n){var r=e.constructor;switch(t){case g:return i(e);case u:case c:return new r(+e);case y:return o(e,n);case b:case w:case x:case k:case _:case S:case T:case O:case C:return l(e,n);case f:return new r;case h:case v:return new r(e);case d:return a(e);case p:return new r;case m:return s(e)}}var i=n(131),o=n(556),a=n(557),s=n(558),l=n(559),u="[object Boolean]",c="[object Date]",f="[object Map]",h="[object Number]",d="[object RegExp]",p="[object Set]",v="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",_="[object Int32Array]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",C="[object Uint32Array]";e.exports=r},function(e,t,n){function r(e){return"function"!=typeof e.constructor||a(e)?{}:i(o(e))}var i=n(530),o=n(132),a=n(136);e.exports=r},function(e,t,n){function r(e){return a(e)||o(e)||!!(s&&e&&e[s])}var i=n(46),o=n(139),a=n(15),s=i?i.isConcatSpreadable:void 0;e.exports=r},function(e,t,n){function r(e,t,n){if(!s(n))return!1;var r=typeof t;return!!("number"==r?o(n)&&a(t,n.length):"string"==r&&t in n)&&i(n[t],e)}var i=n(85),o=n(47),a=n(134),s=n(21);e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return!!o&&o in e}var i=n(565),o=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}var i=n(77),o=Array.prototype,a=o.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}var i=n(77);e.exports=r},function(e,t,n){function r(e){return i(this.__data__,e)>-1}var i=n(77);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var i=n(77);e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(519),o=n(76),a=n(126);e.exports=r},function(e,t,n){function r(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}var i=n(81);e.exports=r},function(e,t,n){function r(e){return i(this,e).get(e)}var i=n(81);e.exports=r},function(e,t,n){function r(e){return i(this,e).has(e)}var i=n(81);e.exports=r},function(e,t,n){function r(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var i=n(81);e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=n},function(e,t,n){function r(e){var t=i(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}var i=n(627),o=500;e.exports=r},function(e,t,n){var r=n(228),i=r(Object.keys,Object);e.exports=i},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t,n){function r(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=o(r.length-t,0),l=Array(s);++a<s;)l[a]=r[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=r[a];return u[t]=n(l),i(e,this,u)}}var i=n(524),o=Math.max;e.exports=r},function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){var r=n(550),i=n(608),o=i(r);e.exports=o},function(e,t){function n(e){var t=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;e.exports=n},function(e,t,n){function r(){this.__data__=new i,this.size=0}var i=n(76);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(e,t),this.size=n.size,this}var i=n(76),o=n(126),a=n(127),s=200;e.exports=r},function(e,t,n){var r=n(599),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=a},function(e,t,n){function r(e){return i(e,o|a)}var i=n(529),o=1,a=4;e.exports=r},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){e.exports=n(620)},function(e,t,n){var r=n(568),i=n(619),o=r(i);e.exports=o},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var l=null==n?0:a(n);return l<0&&(l=s(r+l,0)),i(e,o(t,3),l)}var i=n(531),o=n(78),a=n(634),s=Math.max;e.exports=r},function(e,t,n){function r(e,t){return(s(e)?i:o)(e,a(t))}var i=n(209),o=n(213),a=n(219),s=n(15);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}var i=n(215);e.exports=r},function(e,t,n){function r(e,t){return null!=e&&o(e,t,i)}var i=n(534),o=n(575);e.exports=r},function(e,t,n){var r=n(537),i=n(79),o=n(137),a=o&&o.isMap,s=a?i(a):r;e.exports=s},function(e,t,n){function r(e){if(!a(e)||i(e)!=s)return!1;var t=o(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==h}var i=n(41),o=n(132),a=n(24),s="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,h=c.call(Object);e.exports=r},function(e,t,n){var r=n(540),i=n(79),o=n(137),a=o&&o.isSet,s=a?i(a):r;e.exports=s},function(e,t,n){function r(e){return"string"==typeof e||!o(e)&&a(e)&&i(e)==s}var i=n(41),o=n(15),a=n(24),s="[object String]";e.exports=r},function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=n(127),o="Expected a function";r.Cache=i,e.exports=r},function(e,t,n){var r=n(18),i=function(){return r.Date.now()};e.exports=i},function(e,t,n){function r(e){return a(e)?i(s(e)):o(e)}var i=n(547),o=n(548),a=n(135),s=n(84);e.exports=r},function(e,t,n){var r=n(532),i=n(546),o=n(549),a=n(585),s=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])});e.exports=s},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e,t,n){var r=!0,s=!0;if("function"!=typeof e)throw new TypeError(a);return o(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),i(e,t,{leading:r,maxWait:t,trailing:s})}var i=n(230),o=n(21),a="Expected a function";e.exports=r},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if((e=i(e))===o||e===-o){return(e<0?-1:1)*a}return e===e?e:0}var i=n(235),o=1/0,a=1.7976931348623157e308;e.exports=r},function(e,t,n){function r(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}var i=n(633);e.exports=r},function(e,t,n){function r(e){return null==e?"":i(e)}var i=n(553);e.exports=r},function(e,t,n){"use strict";var r=n(514),i=n(515),o=n(637);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){return decodeURIComponent(e.replace(/\+/g," "))}function i(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,i={};t=n.exec(e);i[r(t[1])]=r(t[2]));return i}function o(e,t){t=t||"";var n=[];"string"!=typeof t&&(t="?");for(var r in e)a.call(e,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.length?t+n.join("&"):""}var a=Object.prototype.hasOwnProperty;t.stringify=o,t.parse=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=r(o),s=n(1),l=r(s),u=n(5),c=n(640),f=r(c),h=t.AlphaPicker=function(e){var t=e.rgb,n=e.hsl,r=e.width,o=e.height,s=e.onChange,c=e.direction,f=e.style,h=e.renderers,d=e.pointer,p=e.className,v=void 0===p?"":p,m=(0,l.default)({default:{picker:{position:"relative",width:r,height:o},alpha:{radius:"2px",style:f}}});return a.default.createElement("div",{style:m.picker,className:"alpha-picker "+v},a.default.createElement(u.Alpha,i({},m.alpha,{rgb:t,hsl:n,pointer:d,renderers:h,onChange:s,direction:c})))};h.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:f.default},t.default=(0,u.ColorWrap)(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=t.AlphaPointer=function(e){var t=e.direction,n=(0,s.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return o.default.createElement("div",{style:n.picker})};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(19),f=r(c),h=n(5),d=n(642),p=r(d),v=t.Block=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,a=e.width,s=e.triangle,l=e.className,c=void 0===l?"":l,d="transparent"===r,v=function(e,n){f.default.isValidHex(e)&&t({hex:e,source:"hex"},n)},m=(0,u.default)({default:{card:{width:a,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:f.default.getContrastingColor(r),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},{"hide-triangle":"hide"===s});return o.default.createElement("div",{style:m.card,className:"block-picker "+c},o.default.createElement("div",{style:m.triangle}),o.default.createElement("div",{style:m.head},d&&o.default.createElement(h.Checkboard,{borderRadius:"6px 6px 0 0"}),o.default.createElement("div",{style:m.label},r)),o.default.createElement("div",{style:m.body},o.default.createElement(p.default,{colors:i,onClick:v,onSwatchHover:n}),o.default.createElement(h.EditableInput,{style:{input:m.input},value:r,onChange:v})))};v.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.string),triangle:s.default.oneOf(["top","hide"])},v.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top"},t.default=(0,h.ColorWrap)(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(27),u=r(l),c=n(5),f=t.BlockSwatches=function(e){var t=e.colors,n=e.onClick,r=e.onSwatchHover,i=(0,s.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return o.default.createElement("div",{style:i.swatches},(0,u.default)(t,function(e){return o.default.createElement(c.Swatch,{key:e,color:e,style:i.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})}),o.default.createElement("div",{style:i.clear}))};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(5),f=n(644),h=r(f),d=n(645),p=r(d),v=n(646),m=r(v),g=t.Chrome=function(e){var t=e.onChange,n=e.disableAlpha,r=e.rgb,i=e.hsl,a=e.hsv,s=e.hex,l=e.renderers,f=e.className,d=void 0===f?"":f,v=(0,u.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},{disableAlpha:n});return o.default.createElement("div",{style:v.picker,className:"chrome-picker "+d},o.default.createElement("div",{style:v.saturation},o.default.createElement(c.Saturation,{style:v.Saturation,hsl:i,hsv:a,pointer:m.default,onChange:t})),o.default.createElement("div",{style:v.body},o.default.createElement("div",{style:v.controls,className:"flexbox-fix"},o.default.createElement("div",{style:v.color},o.default.createElement("div",{style:v.swatch},o.default.createElement("div",{style:v.active}),o.default.createElement(c.Checkboard,{renderers:l}))),o.default.createElement("div",{style:v.toggles},o.default.createElement("div",{style:v.hue},o.default.createElement(c.Hue,{style:v.Hue,hsl:i,pointer:p.default,onChange:t})),o.default.createElement("div",{style:v.alpha},o.default.createElement(c.Alpha,{style:v.Alpha,rgb:r,hsl:i,pointer:p.default,renderers:l,onChange:t})))),o.default.createElement(h.default,{rgb:r,hsl:i,hex:s,onChange:t,disableAlpha:n})))};g.propTypes={disableAlpha:s.default.bool},g.defaultProps={disableAlpha:!1},t.default=(0,c.ColorWrap)(g)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),f=r(c),h=n(19),d=r(h),p=n(5),v=t.ChromeFields=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={view:""},r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?d.default.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&r.props.onChange({h:e.h||r.props.hsl.h,s:Number(e.s&&e.s||r.props.hsl.s),l:Number(e.l&&e.l||r.props.hsl.l),source:"hsl"},t)},r.showHighlight=function(e){e.target.style.background="#eee"},r.hideHighlight=function(e){e.target.style.background="transparent"},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var e=this,t=(0,f.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=u.default.createElement("div",{style:t.fields,className:"flexbox-fix"},u.default.createElement("div",{style:t.field},u.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=u.default.createElement("div",{style:t.fields,className:"flexbox-fix"},u.default.createElement("div",{style:t.field},u.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),u.default.createElement("div",{style:t.field},u.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),u.default.createElement("div",{style:t.field},u.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),u.default.createElement("div",{style:t.alpha},u.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=u.default.createElement("div",{style:t.fields,className:"flexbox-fix"},u.default.createElement("div",{style:t.field},u.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),u.default.createElement("div",{style:t.field},u.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),u.default.createElement("div",{style:t.field},u.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),u.default.createElement("div",{style:t.alpha},u.default.createElement(p.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),u.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,u.default.createElement("div",{style:t.toggle},u.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},u.default.createElement("svg",{style:t.svg,viewBox:"0 0 24 24",onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight},u.default.createElement("path",{ref:function(t){return e.iconUp=t},fill:"#333",d:"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}),u.default.createElement("path",{ref:function(t){return e.iconDown=t},fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"})))))}}]),t}(u.default.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=t.ChromePointer=function(){var e=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return o.default.createElement("div",{style:e.picker})};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=t.ChromePointerCircle=function(){var e=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return o.default.createElement("div",{style:e.picker})};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(27),f=r(c),h=n(236),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),p=n(5),v=n(648),m=r(v),g=t.Circle=function(e){var t=e.width,n=e.onChange,r=e.onSwatchHover,i=e.colors,a=e.hex,s=e.circleSize,l=e.circleSpacing,c=e.className,h=void 0===c?"":c,d=(0,u.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-l,marginBottom:-l}}}),p=function(e,t){return n({hex:e,source:"hex"},t)};return o.default.createElement("div",{style:d.card,className:"circle-picker "+h},(0,f.default)(i,function(e){return o.default.createElement(m.default,{key:e,color:e,onClick:p,onSwatchHover:r,active:a===e.toLowerCase(),circleSize:s,circleSpacing:l})}))};g.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),circleSize:s.default.number,circleSpacing:s.default.number},g.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[d.red[500],d.pink[500],d.purple[500],d.deepPurple[500],d.indigo[500],d.blue[500],d.lightBlue[500],d.cyan[500],d.teal[500],d.green[500],d.lightGreen[500],d.lime[500],d.yellow[500],d.amber[500],d.orange[500],d.deepOrange[500],d.brown[500],d.blueGrey[500]]},t.default=(0,p.ColorWrap)(g)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(5),u=t.CircleSwatch=function(e){var t=e.color,n=e.onClick,r=e.onSwatchHover,i=e.hover,a=e.active,u=e.circleSize,c=e.circleSpacing,f=(0,s.default)({default:{swatch:{width:u,height:u,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+u/2+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:i,active:a});return o.default.createElement("div",{style:f.swatch},o.default.createElement(l.Swatch,{style:f.Swatch,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:f.Swatch.boxShadow+", 0 0 5px "+t}}))};u.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,a.handleHover)(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),f=n(1),h=r(f),d=n(680),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),v=n(237),m=r(v),g=t.Alpha=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleChange=function(e,t){var n=p.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},a=n,o(r,a)}return a(t,e),l(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,h.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:s({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return c.default.createElement("div",{style:n.alpha},c.default.createElement("div",{style:n.checkboard},c.default.createElement(m.default,{renderers:this.props.renderers})),c.default.createElement("div",{style:n.gradient}),c.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},c.default.createElement("div",{style:n.pointer},this.props.pointer?c.default.createElement(this.props.pointer,this.props):c.default.createElement("div",{style:n.slider}))))}}]),t}(u.PureComponent||u.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),f=n(1),h=r(f),d=t.EditableInput=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.props.label?n.props.onChange&&n.props.onChange(i({},n.props.label,e.target.value),e):n.props.onChange&&n.props.onChange(e.target.value,e),n.setState({value:e.target.value})},n.handleKeyDown=function(e){var t=String(e.target.value),r=t.indexOf("%")>-1,o=Number(t.replace(/%/g,""));if(!isNaN(o)){var a=n.props.arrowOffset||1;38===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(i({},n.props.label,o+a),e):n.props.onChange&&n.props.onChange(o+a,e),r?n.setState({value:o+a+"%"}):n.setState({value:o+a})),40===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(i({},n.props.label,o-a),e):n.props.onChange&&n.props.onChange(o-a,e),r?n.setState({value:o-a+"%"}):n.setState({value:o-a}))}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(i({},n.props.label,t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return s(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=(0,h.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return c.default.createElement("div",{style:t.wrap},c.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?c.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(u.PureComponent||u.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),f=r(c),h=n(682),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),p=t.Hue=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleChange=function(e,t){var n=d.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,f.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return u.default.createElement("div",{style:r.hue},u.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},u.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),u.default.createElement("div",{style:r.pointer},this.props.pointer?u.default.createElement(this.props.pointer,this.props):u.default.createElement("div",{style:r.slider}))))}}]),t}(l.PureComponent||l.Component);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=t.Raised=function(e){var t=e.zDepth,n=e.radius,r=e.background,i=e.children,a=(0,u.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},{"zDepth-1":1===t});return o.default.createElement("div",{style:a.wrap},o.default.createElement("div",{style:a.bg}),o.default.createElement("div",{style:a.content},i))};c.propTypes={background:s.default.string,zDepth:s.default.oneOf([0,1,2,3,4,5]),radius:s.default.number},c.defaultProps={background:"#fff",zDepth:1,radius:2},t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),f=r(c),h=n(632),d=r(h),p=n(684),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),m=t.Saturation=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e,t){n.props.onChange&&n.throttle(n.props.onChange,v.calculateChange(e,t,n.props,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,d.default)(function(e,t,n){e(t,n)},50),n}return a(t,e),s(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,i=t.black,o=t.pointer,a=t.circle,s=(0,f.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:o,circle:a}},{custom:!!this.props.style});return u.default.createElement("div",{style:s.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},u.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),u.default.createElement("div",{style:s.white,className:"saturation-white"},u.default.createElement("div",{style:s.black,className:"saturation-black"}),u.default.createElement("div",{style:s.pointer},this.props.pointer?u.default.createElement(this.props.pointer,this.props):u.default.createElement("div",{style:s.circle}))))}}]),t}(l.PureComponent||l.Component);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=r(o),s=n(1),l=r(s),u=n(683),c=n(5),f=t.Swatch=function(e){var t=e.color,n=e.style,r=e.onClick,o=void 0===r?function(){}:r,s=e.onHover,u=e.title,f=void 0===u?t:u,h=e.children,d=e.focus,p=e.focusStyle,v=void 0===p?{}:p,m="transparent"===t,g=(0,l.default)({default:{swatch:i({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,d?v:{})}}),y=function(e){return o(t,e)},b=function(e){return 13===e.keyCode&&o(t,e)},w=function(e){return s(t,e)},x={};return s&&(x.onMouseOver=w),a.default.createElement("div",i({style:g.swatch,onClick:y,title:f,tabIndex:0,onKeyDown:b},x),h,m&&a.default.createElement(c.Checkboard,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,u.handleFocus)(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(27),f=r(c),h=n(19),d=r(h),p=n(5),v=n(656),m=r(v),g=n(657),y=r(g),b=t.Compact=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.colors,i=e.hex,a=e.rgb,s=e.className,l=void 0===s?"":s,c=(0,u.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}}),h=function(e,n){e.hex?d.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return o.default.createElement(p.Raised,{style:c.Compact},o.default.createElement("div",{style:c.compact,className:"compact-picker "+l},o.default.createElement("div",null,(0,f.default)(r,function(e){return o.default.createElement(m.default,{key:e,color:e,active:e.toLowerCase()===i,onClick:h,onSwatchHover:n})}),o.default.createElement("div",{style:c.clear})),o.default.createElement(y.default,{hex:i,rgb:a,onChange:h})))};b.propTypes={colors:s.default.arrayOf(s.default.string)},b.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]},t.default=(0,p.ColorWrap)(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(19),u=r(l),c=n(5),f=t.CompactColor=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,a=e.active,l=(0,s.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:u.default.getContrastingColor(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:a,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return o.default.createElement(c.Swatch,{style:l.color,color:t,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},o.default.createElement("div",{style:l.dot}))};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(5),u=t.CompactFields=function(e){var t=e.hex,n=e.rgb,r=e.onChange,i=(0,s.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),a=function(e,t){e.r||e.g||e.b?r({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):r({hex:e.hex,source:"hex"},t)};return o.default.createElement("div",{style:i.fields,className:"flexbox-fix"},o.default.createElement("div",{style:i.active}),o.default.createElement(l.EditableInput,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:t,onChange:a}),o.default.createElement(l.EditableInput,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:n.r,onChange:a}),o.default.createElement(l.EditableInput,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:n.g,onChange:a}),o.default.createElement(l.EditableInput,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:n.b,onChange:a}))};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(27),f=r(c),h=n(5),d=n(659),p=r(d),v=t.Github=function(e){var t=e.width,n=e.colors,r=e.onChange,i=e.onSwatchHover,a=e.triangle,s=e.className,l=void 0===s?"":s,c=(0,u.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a,"bottom-left-triangle":"bottom-left"==a,"bottom-right-triangle":"bottom-right"===a}),h=function(e,t){return r({hex:e,source:"hex"},t)};return o.default.createElement("div",{style:c.card,className:"github-picker "+l},o.default.createElement("div",{style:c.triangleShadow}),o.default.createElement("div",{style:c.triangle}),(0,f.default)(n,function(e){return o.default.createElement(p.default,{color:e,key:e,onClick:h,onSwatchHover:i})}))};v.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.string),triangle:s.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"])},v.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left"},t.default=(0,h.ColorWrap)(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(5),u=t.GithubSwatch=function(e){var t=e.hover,n=e.color,r=e.onClick,i=e.onSwatchHover,a={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=(0,s.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:a}},{hover:t});return o.default.createElement("div",{style:u.swatch},o.default.createElement(l.Swatch,{color:n,onClick:r,onHover:i,focusStyle:a}))};t.default=(0,a.handleHover)(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=r(o),s=n(1),l=r(s),u=n(5),c=n(661),f=r(c),h=t.HuePicker=function(e){var t=e.width,n=e.height,r=e.onChange,o=e.hsl,s=e.direction,c=e.pointer,f=e.className,h=void 0===f?"":f,d=(0,l.default)({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}}),p=function(e){return r({a:1,h:e.h,l:.5,s:1})};return a.default.createElement("div",{style:d.picker,className:"hue-picker "+h},a.default.createElement(u.Hue,i({},d.hue,{hsl:o,pointer:c,onChange:p,direction:s})))};h.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:f.default},t.default=(0,u.ColorWrap)(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=t.SliderPointer=function(e){var t=e.direction,n=(0,s.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return o.default.createElement("div",{style:n.picker})};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(19),u=r(l),c=n(5),f=t.Material=function(e){var t=e.onChange,n=e.hex,r=e.rgb,i=e.className,a=void 0===i?"":i,l=(0,s.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}}),f=function(e,n){e.hex?u.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},n)};return o.default.createElement(c.Raised,null,o.default.createElement("div",{style:l.material,className:"material-picker "+a},o.default.createElement(c.EditableInput,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"hex",value:n,onChange:f}),o.default.createElement("div",{style:l.split,className:"flexbox-fix"},o.default.createElement("div",{style:l.third},o.default.createElement(c.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:r.r,onChange:f})),o.default.createElement("div",{style:l.third},o.default.createElement(c.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:r.g,onChange:f})),o.default.createElement("div",{style:l.third},o.default.createElement(c.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:r.b,onChange:f})))))};t.default=(0,c.ColorWrap)(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(2),f=r(c),h=n(1),d=r(h),p=n(5),v=n(665),m=r(v),g=n(667),y=r(g),b=n(666),w=r(b),x=n(664),k=r(x),_=n(668),S=r(_),T=t.Photoshop=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.className,t=void 0===e?"":e,n=(0,d.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}});return u.default.createElement("div",{style:n.picker,className:"photoshop-picker "+t},u.default.createElement("div",{style:n.head},this.props.header),u.default.createElement("div",{style:n.body,className:"flexbox-fix"},u.default.createElement("div",{style:n.saturation},u.default.createElement(p.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:y.default,onChange:this.props.onChange})),u.default.createElement("div",{style:n.hue},u.default.createElement(p.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:w.default,onChange:this.props.onChange})),u.default.createElement("div",{style:n.controls},u.default.createElement("div",{style:n.top,className:"flexbox-fix"},u.default.createElement("div",{style:n.previews},u.default.createElement(S.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),u.default.createElement("div",{style:n.actions},u.default.createElement(k.default,{label:"OK",onClick:this.props.onAccept,active:!0}),u.default.createElement(k.default,{label:"Cancel",onClick:this.props.onCancel}),u.default.createElement(m.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(u.default.Component);T.propTypes={header:f.default.string},T.defaultProps={header:"Color Picker"},t.default=(0,p.ColorWrap)(T)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopBotton=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=t.PhotoshopBotton=function(e){var t=e.onClick,n=e.label,r=e.children,i=e.active,a=(0,s.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return o.default.createElement("div",{style:a.button,onClick:t},n||r)};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(19),u=r(l),c=n(5),f=t.PhotoshopPicker=function(e){var t=e.onChange,n=e.rgb,r=e.hsv,i=e.hex,a=(0,s.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),l=function(e,i){e["#"]?u.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},i):(e.h||e.s||e.v)&&t({h:e.h||r.h,s:e.s||r.s,v:e.v||r.v,source:"hsv"},i)};return o.default.createElement("div",{style:a.fields},o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"h",value:Math.round(r.h),onChange:l}),o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:l}),o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:l}),o.default.createElement("div",{style:a.divider}),o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:l}),o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:l}),o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:l}),o.default.createElement("div",{style:a.divider}),o.default.createElement(c.EditableInput,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"#",value:i.replace("#",""),onChange:l}),o.default.createElement("div",{style:a.fieldSymbols},o.default.createElement("div",{style:a.symbol},"°"),o.default.createElement("div",{style:a.symbol},"%"),o.default.createElement("div",{style:a.symbol},"%")))};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=t.PhotoshopPointerCircle=function(){var e=(0,s.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return o.default.createElement("div",{style:e.pointer},o.default.createElement("div",{style:e.left},o.default.createElement("div",{style:e.leftInside})),o.default.createElement("div",{style:e.right},o.default.createElement("div",{style:e.rightInside})))};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=t.PhotoshopPointerCircle=function(e){var t=e.hsl,n=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return o.default.createElement("div",{style:n.picker})};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=t.PhotoshopPreviews=function(e){var t=e.rgb,n=e.currentColor,r=(0,s.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return o.default.createElement("div",null,o.default.createElement("div",{style:r.label},"new"),o.default.createElement("div",{style:r.swatches},o.default.createElement("div",{style:r.new}),o.default.createElement("div",{style:r.current})),o.default.createElement("div",{style:r.label},"current"))};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(5),f=n(670),h=r(f),d=n(671),p=r(d),v=t.Sketch=function(e){var t=e.width,n=e.rgb,r=e.hex,i=e.hsv,a=e.hsl,s=e.onChange,l=e.onSwatchHover,f=e.disableAlpha,d=e.presetColors,v=e.renderers,m=e.className,g=void 0===m?"":m,y=(0,u.default)({default:{picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},{disableAlpha:f});return o.default.createElement("div",{style:y.picker,className:"sketch-picker "+g},o.default.createElement("div",{style:y.saturation},o.default.createElement(c.Saturation,{style:y.Saturation,hsl:a,hsv:i,onChange:s})),o.default.createElement("div",{style:y.controls,className:"flexbox-fix"},o.default.createElement("div",{style:y.sliders},o.default.createElement("div",{style:y.hue},o.default.createElement(c.Hue,{style:y.Hue,hsl:a,onChange:s})),o.default.createElement("div",{style:y.alpha},o.default.createElement(c.Alpha,{style:y.Alpha,rgb:n,hsl:a,renderers:v,onChange:s}))),o.default.createElement("div",{style:y.color},o.default.createElement(c.Checkboard,null),o.default.createElement("div",{style:y.activeColor}))),o.default.createElement(h.default,{rgb:n,hsl:a,hex:r,onChange:s,disableAlpha:f}),o.default.createElement(p.default,{colors:d,onClick:s,onSwatchHover:l}))};v.propTypes={disableAlpha:s.default.bool,width:s.default.oneOfType([s.default.string,s.default.number])},v.defaultProps={disableAlpha:!1,width:200,presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,c.ColorWrap)(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(19),u=r(l),c=n(5),f=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,i=e.hex,a=e.disableAlpha,l=(0,s.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:a}),f=function(e,i){e.hex?u.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},i):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:"rgb"},i))};return o.default.createElement("div",{style:l.fields,className:"flexbox-fix"},o.default.createElement("div",{style:l.double},o.default.createElement(c.EditableInput,{style:{input:l.input,label:l.label},label:"hex",value:i.replace("#",""),onChange:f})),o.default.createElement("div",{style:l.single},o.default.createElement(c.EditableInput,{style:{input:l.input,label:l.label},label:"r",value:n.r,onChange:f,dragLabel:"true",dragMax:"255"})),o.default.createElement("div",{style:l.single},o.default.createElement(c.EditableInput,{style:{input:l.input,label:l.label},label:"g",value:n.g,onChange:f,dragLabel:"true",dragMax:"255"})),o.default.createElement("div",{style:l.single},o.default.createElement(c.EditableInput,{style:{input:l.input,label:l.label},label:"b",value:n.b,onChange:f,dragLabel:"true",dragMax:"255"})),o.default.createElement("div",{style:l.alpha},o.default.createElement(c.EditableInput,{style:{input:l.input,label:l.label},label:"a",value:Math.round(100*n.a),onChange:f,dragLabel:"true",dragMax:"100"})))};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=r(o),s=n(2),l=r(s),u=n(1),c=r(u),f=n(5),h=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,s=(0,c.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),l=function(e,t){r({hex:e,source:"hex"},t)};return a.default.createElement("div",{style:s.colors,className:"flexbox-fix"},t.map(function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return a.default.createElement("div",{key:n,style:s.swatchWrap},a.default.createElement(f.Swatch,i({},t,{style:s.swatch,onClick:l,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))}))};h.propTypes={colors:l.default.arrayOf(l.default.oneOfType([l.default.string,l.default.shape({color:l.default.string,title:l.default.string})])).isRequired},t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(5),u=n(675),c=r(u),f=n(673),h=r(f),d=t.Slider=function(e){var t=e.hsl,n=e.onChange,r=e.pointer,i=e.className,a=void 0===i?"":i,u=(0,s.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}});return o.default.createElement("div",{className:"slider-picker "+a},o.default.createElement("div",{style:u.hue},o.default.createElement(l.Hue,{style:u.Hue,hsl:t,pointer:r,onChange:n})),o.default.createElement("div",{style:u.swatches},o.default.createElement(c.default,{hsl:t,onClick:n})))};d.defaultProps={pointer:h.default},t.default=(0,l.ColorWrap)(d)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=t.SliderPointer=function(){var e=(0,s.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return o.default.createElement("div",{style:e.picker})};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=t.SliderSwatch=function(e){var t=e.hsl,n=e.offset,r=e.onClick,i=void 0===r?function(){}:r,a=e.active,l=e.first,u=e.last,c=(0,s.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:a,first:l,last:u}),f=function(e){return i({h:t.h,s:.5,l:n,source:"hsl"},e)};return o.default.createElement("div",{style:c.swatch,onClick:f})};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(674),u=r(l),c=t.SliderSwatches=function(e){var t=e.onClick,n=e.hsl,r=(0,s.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return o.default.createElement("div",{style:r.swatches},o.default.createElement("div",{style:r.swatch},o.default.createElement(u.default,{hsl:n,offset:".80",active:Math.round(100*n.l)/100==.8&&Math.round(100*n.s)/100==.5,onClick:t,first:!0})),o.default.createElement("div",{style:r.swatch},o.default.createElement(u.default,{hsl:n,offset:".65",active:Math.round(100*n.l)/100==.65&&Math.round(100*n.s)/100==.5,onClick:t})),o.default.createElement("div",{style:r.swatch},o.default.createElement(u.default,{hsl:n,offset:".50",active:Math.round(100*n.l)/100==.5&&Math.round(100*n.s)/100==.5,onClick:t})),o.default.createElement("div",{style:r.swatch},o.default.createElement(u.default,{hsl:n,offset:".35",active:Math.round(100*n.l)/100==.35&&Math.round(100*n.s)/100==.5,onClick:t})),o.default.createElement("div",{style:r.swatch},o.default.createElement(u.default,{hsl:n,offset:".20",active:Math.round(100*n.l)/100==.2&&Math.round(100*n.s)/100==.5,onClick:t,last:!0})),o.default.createElement("div",{style:r.clear}))};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(27),f=r(c),h=n(19),d=r(h),p=n(236),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),m=n(5),g=n(678),y=r(g),b=t.Swatches=function(e){var t=e.width,n=e.height,r=e.onChange,i=e.onSwatchHover,a=e.colors,s=e.hex,l=e.className,c=void 0===l?"":l,h=(0,u.default)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}}),p=function(e,t){d.default.isValidHex(e)&&r({hex:e,source:"hex"},t)};return o.default.createElement("div",{style:h.picker,className:"swatches-picker "+c},o.default.createElement(m.Raised,null,o.default.createElement("div",{style:h.overflow},o.default.createElement("div",{style:h.body},(0,f.default)(a,function(e){return o.default.createElement(y.default,{key:e.toString(),group:e,active:s,onClick:p,onSwatchHover:i})}),o.default.createElement("div",{style:h.clear})))))};b.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.arrayOf(s.default.string))},b.defaultProps={width:320,height:240,colors:[[v.red[900],v.red[700],v.red[500],v.red[300],v.red[100]],[v.pink[900],v.pink[700],v.pink[500],v.pink[300],v.pink[100]],[v.purple[900],v.purple[700],v.purple[500],v.purple[300],v.purple[100]],[v.deepPurple[900],v.deepPurple[700],v.deepPurple[500],v.deepPurple[300],v.deepPurple[100]],[v.indigo[900],v.indigo[700],v.indigo[500],v.indigo[300],v.indigo[100]],[v.blue[900],v.blue[700],v.blue[500],v.blue[300],v.blue[100]],[v.lightBlue[900],v.lightBlue[700],v.lightBlue[500],v.lightBlue[300],v.lightBlue[100]],[v.cyan[900],v.cyan[700],v.cyan[500],v.cyan[300],v.cyan[100]],[v.teal[900],v.teal[700],v.teal[500],v.teal[300],v.teal[100]],["#194D33",v.green[700],v.green[500],v.green[300],v.green[100]],[v.lightGreen[900],v.lightGreen[700],v.lightGreen[500],v.lightGreen[300],v.lightGreen[100]],[v.lime[900],v.lime[700],v.lime[500],v.lime[300],v.lime[100]],[v.yellow[900],v.yellow[700],v.yellow[500],v.yellow[300],v.yellow[100]],[v.amber[900],v.amber[700],v.amber[500],v.amber[300],v.amber[100]],[v.orange[900],v.orange[700],v.orange[500],v.orange[300],v.orange[100]],[v.deepOrange[900],v.deepOrange[700],v.deepOrange[500],v.deepOrange[300],v.deepOrange[100]],[v.brown[900],v.brown[700],v.brown[500],v.brown[300],v.brown[100]],[v.blueGrey[900],v.blueGrey[700],v.blueGrey[500],v.blueGrey[300],v.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]]},t.default=(0,m.ColorWrap)(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(19),u=r(l),c=n(5),f=t.SwatchesColor=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,a=e.first,l=e.last,f=e.active,h=(0,s.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{fill:u.default.getContrastingColor(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{fill:"#333"}},transparent:{check:{fill:"#333"}}},{first:a,last:l,active:f,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return o.default.createElement(c.Swatch,{color:t,style:h.color,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},o.default.createElement("div",{style:h.check},o.default.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},o.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(27),u=r(l),c=n(677),f=r(c),h=t.SwatchesGroup=function(e){var t=e.onClick,n=e.onSwatchHover,r=e.group,i=e.active,a=(0,s.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return o.default.createElement("div",{style:a.group},(0,u.default)(r,function(e,a){return o.default.createElement(f.default,{key:e,color:e,active:e.toLowerCase()===i,first:0===a,last:a===r.length-1,onClick:t,onSwatchHover:n})}))};t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(27),f=r(c),h=n(19),d=r(h),p=n(5),v=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,a=e.width,s=e.triangle,l=e.className,c=void 0===l?"":l,h=(0,u.default)({default:{card:{width:a,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},{"hide-triangle":"hide"===s,"top-left-triangle":"top-left"===s,"top-right-triangle":"top-right"===s}),v=function(e,n){d.default.isValidHex(e)&&t({hex:e,source:"hex"},n)};return o.default.createElement("div",{style:h.card,className:"twitter-picker "+c},o.default.createElement("div",{style:h.triangleShadow}),o.default.createElement("div",{style:h.triangle}),o.default.createElement("div",{style:h.body},(0,f.default)(i,function(e,t){return o.default.createElement(p.Swatch,{key:t,color:e,hex:e,style:h.swatch,onClick:v,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})}),o.default.createElement("div",{style:h.hash},"#"),o.default.createElement(p.EditableInput,{style:{input:h.input},value:r.replace("#",""),onChange:v}),o.default.createElement("div",{style:h.clear})))};v.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),triangle:s.default.oneOf(["hide","top-left","top-right"]),colors:s.default.arrayOf(s.default.string)},v.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left"},t.default=(0,p.ColorWrap)(v)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.clientWidth,o=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(c=u<0?0:u>o?1:Math.round(100*u/o)/100,n.hsl.a!==c)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:c,source:"rgb"}}else{var f=void 0;if(f=l<0?0:l>i?1:Math.round(100*l/i)/100,n.a!==f)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:f,source:"rgb"}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},i=t.render=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var o=i.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null};t.get=function(e,t,n,o){var a=e+"-"+t+"-"+n+(o?"-server":""),s=i(e,t,n,o);return r[a]?r[a]:(r[a]=s,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.clientWidth,o=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(u<0)c=359;else if(u>o)c=0;else{var f=-100*u/o+100;c=360*f/100}if(n.hsl.h!==c)return{h:c,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}else{var h=void 0;if(l<0)h=0;else if(l>i)h=359;else{var d=100*l/i;h=360*d/100}if(n.hsl.h!==h)return{h:h,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}return null}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l);t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function l(){var e,t,n,o;r(this,l);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return t=n=i(this,(e=l.__proto__||Object.getPrototypeOf(l)).call.apply(e,[this].concat(s))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},o=t,i(n,o)}return o(l,n),s(l,[{key:"render",value:function(){return u.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},u.default.createElement(e,a({},this.props,this.state)))}}]),l}(u.default.Component)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.getBoundingClientRect(),o=i.width,a=i.height,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=s-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>o?u=o:c<0?c=0:c>a&&(c=a);var f=100*u/o,h=-100*c/a+100;return{h:n.hsl.h,s:f,v:h,a:n.hsl.a,source:"rgb"}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(0),u=r(l),c=n(2),f=r(c),h=n(240),d=n(691),p=n(61),v=n(157),m=r(v),g=function(e){function t(){var n,r,a;i(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(l))),r.state={resizing:null,dragging:null,className:""},a=n,o(r,a)}return a(t,e),t.prototype.calcColWidth=function(){var e=this.props,t=e.margin,n=e.containerPadding,r=e.containerWidth,i=e.cols;return(r-t[0]*(i-1)-2*n[0])/i},t.prototype.calcPosition=function(e,t,n,r,i){var o=this.props,a=o.margin,s=o.containerPadding,l=o.rowHeight,u=this.calcColWidth(),c={left:Math.round((u+a[0])*e+s[0]),top:Math.round((l+a[1])*t+s[1]),width:n===1/0?n:Math.round(u*n+Math.max(0,n-1)*a[0]),height:r===1/0?r:Math.round(l*r+Math.max(0,r-1)*a[1])};return i&&i.resizing&&(c.width=Math.round(i.resizing.width),c.height=Math.round(i.resizing.height)),i&&i.dragging&&(c.top=Math.round(i.dragging.top),c.left=Math.round(i.dragging.left)),c},t.prototype.calcXY=function(e,t){var n=this.props,r=n.margin,i=n.cols,o=n.rowHeight,a=n.w,s=n.h,l=n.maxRows,u=this.calcColWidth(),c=Math.round((t-r[0])/(u+r[0])),f=Math.round((e-r[1])/(o+r[1]));return c=Math.max(Math.min(c,i-a),0),f=Math.max(Math.min(f,l-s),0),{x:c,y:f}},t.prototype.calcWH=function(e){var t=e.height,n=e.width,r=this.props,i=r.margin,o=r.maxRows,a=r.cols,s=r.rowHeight,l=r.x,u=r.y,c=this.calcColWidth(),f=Math.round((n+i[0])/(c+i[0])),h=Math.round((t+i[1])/(s+i[1]));return f=Math.max(Math.min(f,a-l),0),h=Math.max(Math.min(h,o-u),0),{w:f,h:h}},t.prototype.createStyle=function(e){var t=this.props,n=t.usePercentages,r=t.containerWidth,i=t.useCSSTransforms,o=void 0;return i?o=(0,p.setTransform)(e):(o=(0,p.setTopLeft)(e),n&&(o.left=(0,p.perc)(e.left/r),o.width=(0,p.perc)(e.width/r))),o},t.prototype.mixinDraggable=function(e){return u.default.createElement(h.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},e)},t.prototype.mixinResizable=function(e,t){var n=this.props,r=n.cols,i=n.x,o=n.minW,a=n.minH,s=n.maxW,l=n.maxH,c=this.calcPosition(0,0,r-i,0).width,f=this.calcPosition(0,0,o,a),h=this.calcPosition(0,0,s,l),p=[f.width,f.height],v=[Math.min(h.width,c),Math.min(h.height,1/0)];return u.default.createElement(d.Resizable,{width:t.width,height:t.height,minConstraints:p,maxConstraints:v,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},e)},t.prototype.onDragHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.deltaX,a=r.deltaY,s=t.props[e];if(s){var l={top:0,left:0};switch(e){case"onDragStart":var u=i.offsetParent;if(!u)return;var c=u.getBoundingClientRect(),f=i.getBoundingClientRect();l.left=f.left-c.left+u.scrollLeft,l.top=f.top-c.top+u.scrollTop,t.setState({dragging:l});break;case"onDrag":if(!t.state.dragging)throw new Error("onDrag called before onDragStart.");l.left=t.state.dragging.left+o,l.top=t.state.dragging.top+a,t.setState({dragging:l});break;case"onDragStop":if(!t.state.dragging)throw new Error("onDragEnd called before onDragStart.");l.left=t.state.dragging.left,l.top=t.state.dragging.top,t.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+e)}var h=t.calcXY(l.top,l.left),d=h.x,p=h.y;return s.call(t,t.props.i,d,p,{e:n,node:i,newPosition:l})}}},t.prototype.onResizeHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.size,a=t.props[e];if(a){var s=t.props,l=s.cols,u=s.x,c=s.i,f=s.maxW,h=s.minW,d=s.maxH,p=s.minH,v=t.calcWH(o),m=v.w,g=v.h;m=Math.min(m,l-u),m=Math.max(m,1),m=Math.max(Math.min(m,f),h),g=Math.max(Math.min(g,d),p),t.setState({resizing:"onResizeStop"===e?null:o}),a.call(t,c,m,g,{e:n,node:i,size:o})}}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,r=e.w,i=e.h,o=e.isDraggable,a=e.isResizable,l=e.useCSSTransforms,c=this.calcPosition(t,n,r,i,this.state),f=u.default.Children.only(this.props.children),h=u.default.cloneElement(f,{className:(0,m.default)("react-grid-item",f.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":o,"react-draggable-dragging":Boolean(this.state.dragging),cssTransforms:l}),style:s({},this.props.style,f.props.style,this.createStyle(c))});return a&&(h=this.mixinResizable(h,c)),o&&(h=this.mixinDraggable(h)),h},t}(u.default.Component);g.propTypes={children:f.default.element,cols:f.default.number.isRequired,containerWidth:f.default.number.isRequired,rowHeight:f.default.number.isRequired,margin:f.default.array.isRequired,maxRows:f.default.number.isRequired,containerPadding:f.default.array.isRequired,x:f.default.number.isRequired,y:f.default.number.isRequired,w:f.default.number.isRequired,h:f.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:f.default.string.isRequired,onDragStop:f.default.func,onDragStart:f.default.func,onDrag:f.default.func,onResizeStop:f.default.func,onResizeStart:f.default.func,onResize:f.default.func,isDraggable:f.default.bool.isRequired,isResizable:f.default.bool.isRequired,static:f.default.bool,useCSSTransforms:f.default.bool.isRequired,className:f.default.string,handle:f.default.string,cancel:f.default.string},g.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0},t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),c=r(u),f=n(2),h=r(f),d=n(125),p=r(d),v=n(61),m=n(242),g=n(241),y=r(g),b=function(e){return Object.prototype.toString.call(e)},w=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=a(this,e.call.apply(e,[this].concat(u))),r.state=r.generateInitialState(),r.onLayoutChange=function(e){var t;r.props.onLayoutChange(e,l({},r.props.layouts,(t={},t[r.state.breakpoint]=e,t)))},i=n,a(r,i)}return s(t,e),t.prototype.generateInitialState=function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,i=e.cols,o=(0,m.getBreakpointFromWidth)(n,t),a=(0,m.getColsFromBreakpoint)(o,i),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,m.findOrGenerateResponsiveLayout)(r,n,o,o,a,s),breakpoint:o,cols:a}},t.prototype.componentWillReceiveProps=function(e){if(e.width==this.props.width&&e.breakpoint===this.props.breakpoint&&(0,p.default)(e.breakpoints,this.props.breakpoints)&&(0,p.default)(e.cols,this.props.cols)){if(!(0,p.default)(e.layouts,this.props.layouts)){var t=this.state,n=t.breakpoint,r=t.cols,i=(0,m.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType);this.setState({layout:i})}}else this.onWidthChange(e)},t.prototype.onWidthChange=function(e){var t=e.breakpoints,n=e.cols,r=e.layouts,i=e.compactType,o=e.breakpoint||(0,m.getBreakpointFromWidth)(e.breakpoints,e.width),a=this.state.breakpoint;if(a!==o||this.props.breakpoints!==t||this.props.cols!==n){a in r||(r[a]=(0,v.cloneLayout)(this.state.layout));var s=(0,m.getColsFromBreakpoint)(o,n),l=(0,m.findOrGenerateResponsiveLayout)(r,t,o,a,s,i);l=(0,v.synchronizeLayoutWithChildren)(l,e.children,s,i),r[o]=l,this.props.onLayoutChange(l,r),this.props.onBreakpointChange(o,s),this.props.onWidthChange(e.width,e.margin,s,e.containerPadding),this.setState({breakpoint:o,layout:l,cols:s})}},t.prototype.render=function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,i(e,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]));return c.default.createElement(y.default,l({},t,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))},t}(c.default.Component);w.propTypes={breakpoint:h.default.string,breakpoints:h.default.object,cols:h.default.object,layouts:function(e,t){if("[object Object]"!==b(e[t]))throw new Error("Layout property must be an object. Received: "+b(e[t]));Object.keys(e[t]).forEach(function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,v.validateLayout)(e.layouts[t],"layouts."+t)})},width:h.default.number.isRequired,onBreakpointChange:h.default.func,onLayoutChange:h.default.func,onWidthChange:h.default.func},w.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:v.noop,onLayoutChange:v.noop,onWidthChange:v.noop},t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t,n;return n=t=function(t){function n(){var e,r,i;o(this,n);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return e=r=a(this,t.call.apply(t,[this].concat(l))),r.state={width:1280},r.mounted=!1,r.onWindowResize=function(){if(r.mounted){var e=v.default.findDOMNode(r);e instanceof HTMLElement&&r.setState({width:e.offsetWidth})}},i=e,a(r,i)}return s(n,t),n.prototype.componentDidMount=function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},n.prototype.componentWillUnmount=function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)},n.prototype.render=function(){var t=this.props,n=t.measureBeforeMount,r=i(t,["measureBeforeMount"]);return n&&!this.mounted?f.default.createElement("div",{className:this.props.className,style:this.props.style}):f.default.createElement(e,u({},r,this.state))},n}(f.default.Component),t.defaultProps={measureBeforeMount:!1},t.propTypes={measureBeforeMount:d.default.bool},n}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=l;var c=n(0),f=r(c),h=n(2),d=r(h),p=n(11),v=r(p)},function(e,t,n){e.exports=n(241).default,e.exports.utils=n(61),e.exports.Responsive=n(686).default,e.exports.Responsive.utils=n(242),e.exports.WidthProvider=n(687).default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),c=r(u),f=n(2),h=r(f),d=n(243),p=r(d),v=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,e.call.apply(e,[this].concat(l))),r.state={width:r.props.width,height:r.props.height},r.onResize=function(e,t){var n=t.size;n.width,n.height;r.props.onResize?(e.persist&&e.persist(),r.setState(n,function(){return r.props.onResize&&r.props.onResize(e,t)})):r.setState(n)},i=n,a(r,i)}return s(t,e),t.prototype.componentWillReceiveProps=function(e){e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.render=function(){var e=this.props,t=e.handleSize,n=(e.onResize,e.onResizeStart),r=e.onResizeStop,o=e.draggableOpts,a=e.minConstraints,s=e.maxConstraints,u=e.lockAspectRatio,f=e.axis,h=(e.width,e.height,i(e,["handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height"]));return c.default.createElement(p.default,{handleSize:t,width:this.state.width,height:this.state.height,onResizeStart:n,onResize:this.onResize,onResizeStop:r,draggableOpts:o,minConstraints:a,maxConstraints:s,lockAspectRatio:u,axis:f},c.default.createElement("div",l({style:{width:this.state.width+"px",height:this.state.height+"px"}},h)))},t}(c.default.Component);v.propTypes={height:h.default.number,width:h.default.number},v.defaultProps={handleSize:[20,20]},t.default=v},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=function(e,t){return t.style&&e.props.style&&(t.style=r({},e.props.style,t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),o.default.cloneElement(e,t)}},function(e,t,n){"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(243).default,e.exports.ResizableBox=n(689).default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(618),s=r(a),l=n(630),u=r(l),c=function(){function e(){i(this,e),this.refs={}}return o(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"getActive",value:function(){var e=this;return(0,s.default)(this.refs[this.active.collection],function(t){return t.node.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.active.collection:arguments[0];return(0,u.default)(this.refs[e],function(e){return e.node.sortableInfo.index})}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t,n,r=arguments.length<=1||void 0===arguments[1]?{withRef:!1}:arguments[1];return n=t=function(t){function n(e){o(this,n);var t=a(this,Object.getPrototypeOf(n).call(this,e));return t.handleStart=function(e){var n=t.props,r=n.distance,i=n.shouldCancelStart;if(2===e.button||i(e))return!1;t._touched=!0,t._pos={x:e.clientX,y:e.clientY};var o=(0,y.closest)(e.target,function(e){return null!=e.sortableInfo});if(o&&o.sortableInfo&&!t.state.sorting){var a=t.props.useDragHandle,s=o.sortableInfo,l=s.index,u=s.collection;if(a&&!(0,y.closest)(e.target,function(e){return null!=e.sortableHandle}))return;t.manager.active={index:l,collection:u},r||(t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}},t.handleMove=function(e){var n=t.props.distance;if(!t.state.sorting&&t._touched){t._delta={x:t._pos.x-e.clientX,y:t._pos.y-e.clientY};var r=Math.abs(t._delta.x)+Math.abs(t._delta.y);n?r>=n&&t.handlePress(e):t.cancel()}},t.handleEnd=function(){var e=t.props.distance;t._touched=!1,e||t.cancel()},t.cancel=function(){t.state.sorting||(clearTimeout(t.pressTimer),t.manager.active=null)},t.handlePress=function(e){var n=t.manager.getActive();if(n){var r=t.props,o=r.axis,a=r.onSortStart,s=r.helperClass,l=r.hideSortableGhost,u=r.useWindowAsScrollContainer,c=n.node,f=n.collection,h=c.sortableInfo.index,d=(0,y.getElementMargin)(c),p=t.container.getBoundingClientRect();t.node=c,t.margin=d,t.width=c.offsetWidth,t.height=c.offsetHeight,t.dimension="x"===o?t.width:t.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=c.getBoundingClientRect(),t.index=h,t.newIndex=h;var v=t.edge="x"===o?"Left":"Top";if(t.offsetEdge=t.getEdgeOffset(v,c),t.initialOffset=t.getOffset(e),t.initialScroll=t.scrollContainer["scroll"+v],t.helper=t.document.body.appendChild(c.cloneNode(!0)),t.helper.style.position="fixed",t.helper.style.top=t.boundingClientRect.top-d.top+"px",t.helper.style.left=t.boundingClientRect.left-d.left+"px",t.helper.style.width=t.width+"px",t.helper.style.boxSizing="border-box",l&&(t.sortableGhost=c,c.style.visibility="hidden"),"x"===o?(t.minTranslate=(u?0:p.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate=(u?t.contentWindow.innerWidth:p.left+p.width)-t.boundingClientRect.left-t.width/2):(t.minTranslate=(u?0:p.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate=(u?t.contentWindow.innerHeight:p.top+p.height)-t.boundingClientRect.top-t.height/2),s){var m;(m=t.helper.classList).add.apply(m,i(s.split(" ")))}t.listenerNode=e.touches?c:t.contentWindow,y.events.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),y.events.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}),t.setState({sorting:!0,sortingIndex:h}),a&&a({node:c,index:h,collection:f},e)}},t.handleSortMove=function(e){var n=t.props.onSortMove;e.preventDefault(),t.updatePosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)},t.handleSortEnd=function(e){var n=t.props,r=n.hideSortableGhost,i=n.onSortEnd,o=t.manager.active.collection;t.listenerNode&&(y.events.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),y.events.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&(t.sortableGhost.style.visibility="");for(var a=t.manager.refs[o],s=0,l=a.length;s<l;s++){var u=a[s],c=u.node;u.edgeOffset=null,c.style[y.vendorPrefix+"Transform"]="",c.style[y.vendorPrefix+"TransitionDuration"]=""}"function"==typeof i&&i({oldIndex:t.index,newIndex:t.newIndex,collection:o},e),clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.setState({sorting:!1,sortingIndex:null}),t._touched=!1},t.autoscroll=function(){var e=t.translate,n=0,r=1;e>=t.maxTranslate-t.dimension/2?(n=1,r=10*Math.abs((t.maxTranslate-t.dimension/2-e)/t.dimension)):e<=t.minTranslate+t.dimension/2&&(n=-1,r=10*Math.abs((e-t.dimension/2-t.minTranslate)/t.dimension)),t.autoscrollInterval&&(clearTimeout(t.autoscrollInterval),t.autoscrollInterval=null,t.isAutoScrolling=!1),0!==n&&(t.autoscrollInterval=setInterval(function(){t.isAutoScrolling=!0;var e=1*r*n;t.scrollContainer["scroll"+t.edge]+=e,t.translate+=e,t.animateNodes()},5))},t.manager=new g.default,t.events={start:t.handleStart,move:t.handleMove,end:t.handleEnd},(0,w.default)(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time."),t.state={},t}return s(n,t),f(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.contentWindow,r=t.getContainer,i=t.useWindowAsScrollContainer;this.container="function"==typeof r?r(this.getWrappedInstance()):v.default.findDOMNode(this),this.document=this.container.ownerDocument||document,this.scrollContainer=i?this.document.body:this.container,this.contentWindow="function"==typeof n?n():n;for(var o in this.events)!function(t){y.events[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})}(o)}},{key:"componentWillUnmount",value:function(){var e=this;for(var t in this.events)!function(t){y.events[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})}(t)}},{key:"getEdgeOffset",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(t)return t.parentNode!==this.container?this.getEdgeOffset(e,t.parentNode,n+t["offset"+e]):t["offset"+e]+n}},{key:"getOffset",value:function(e){return{x:e.touches?e.touches[0].clientX:e.clientX,y:e.touches?e.touches[0].clientY:e.clientY}}},{key:"getLockPixelOffsets",value:function(){var e=this.props.lockOffset;Array.isArray(e)||(e=[e,e]),(0,w.default)(2===e.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",e);var t=e,n=c(t,2),r=n[0],i=n[1];return[this.getLockPixelOffset(r),this.getLockPixelOffset(i)]}},{key:"getLockPixelOffset",value:function(e){var t=e,n="px";if("string"==typeof e){var r=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);(0,w.default)(null!==r,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',e),t=parseFloat(e),n=r[1]}return(0,w.default)(isFinite(t),"lockOffset value should be a finite. Given %s",e),"%"===n&&(t=t*this.dimension/100),t}},{key:"updatePosition",value:function(e){var t=this.props,n=t.axis,r=t.lockAxis,i=t.lockToContainerEdges,o=this.getOffset(e),a={x:o.x-this.initialOffset.x,y:o.y-this.initialOffset.y};if(this.translate=a[n],i){var s=this.getLockPixelOffsets(),l=c(s,2),u=l[0],f=l[1],h=this.dimension/2-u,d=this.dimension/2-f;a[n]=(0,y.limit)(this.minTranslate+h,this.maxTranslate-d,a[n])}switch(r){case"x":a.y=0;break;case"y":a.x=0}this.helper.style[y.vendorPrefix+"Transform"]="translate3d("+a.x+"px,"+a.y+"px, 0)"}},{key:"animateNodes",value:function(){var e=this.props,t=e.axis,n=e.transitionDuration,r=e.hideSortableGhost,i=this.manager.getOrderedRefs(),o=this.scrollContainer["scroll"+this.edge]-this.initialScroll,a=this.offsetEdge+this.translate+o;this.newIndex=null;for(var s=0,l=i.length;s<l;s++){var u=i[s],c=u.node,f=u.edgeOffset,h=c.sortableInfo.index,d="x"===t?c.offsetWidth:c.offsetHeight,p=this.dimension>d?d/2:this.dimension/2,v=0,m=0,g=0;null==f&&(i[s].edgeOffset=f=this.getEdgeOffset(this.edge,c)),h!==this.index?(n&&(c.style[y.vendorPrefix+"TransitionDuration"]=n+"ms"),h>this.index&&a+p>=f?(v=-(this.dimension+this.marginOffset[t]),this.newIndex=h):h<this.index&&a<=f+p&&(v=this.dimension+this.marginOffset[t],null==this.newIndex&&(this.newIndex=h)),"x"===t?m=v:g=v,c.style[y.vendorPrefix+"Transform"]="translate3d("+m+"px,"+g+"px,0)"):r&&(this.sortableGhost=c,c.style.visibility="hidden")}null==this.newIndex&&(this.newIndex=this.index)}},{key:"getWrappedInstance",value:function(){return(0,w.default)(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return d.default.createElement(e,u({ref:t},this.props,this.state))}}]),n}(h.Component),t.displayName=e.displayName?"SortableList("+e.displayName+")":"SortableList",t.WrappedComponent=e,t.defaultProps={axis:"y",transitionDuration:300,pressDelay:0,distance:0,useWindowAsScrollContainer:!1,hideSortableGhost:!0,contentWindow:"undefined"!=typeof window?window:null,shouldCancelStart:function(e){if(-1!==["input","textarea","select","option"].indexOf(e.target.tagName.toLowerCase()))return!0},lockToContainerEdges:!1,lockOffset:"50%"},t.propTypes={axis:h.PropTypes.oneOf(["x","y"]),distance:h.PropTypes.number,lockAxis:h.PropTypes.string,helperClass:h.PropTypes.string,transitionDuration:h.PropTypes.number,contentWindow:h.PropTypes.any,onSortStart:h.PropTypes.func,onSortMove:h.PropTypes.func,onSortEnd:h.PropTypes.func,shouldCancelStart:h.PropTypes.func,pressDelay:h.PropTypes.number,useDragHandle:h.PropTypes.bool,useWindowAsScrollContainer:h.PropTypes.bool,hideSortableGhost:h.PropTypes.bool,lockToContainerEdges:h.PropTypes.bool,lockOffset:h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.string,h.PropTypes.arrayOf(h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.string]))]),getContainer:h.PropTypes.func},t.childContextTypes={manager:h.PropTypes.object.isRequired},n}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=l;var h=n(0),d=r(h),p=n(11),v=r(p),m=n(692),g=r(m),y=n(244),b=n(124),w=r(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n,r=arguments.length<=1||void 0===arguments[1]?{withRef:!1}:arguments[1];return n=t=function(t){function n(){return i(this,n),o(this,Object.getPrototypeOf(n).apply(this,arguments))}return a(n,t),u(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index;n||this.setDraggable(t,r)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.index!==e.index&&this.node&&(this.node.sortableInfo.index=e.index),this.props.disabled!==e.disabled){var t=e.collection,n=e.disabled,r=e.index;n?this.removeDraggable(t):this.setDraggable(t,r)}else this.props.collection!==e.collection&&(this.removeDraggable(this.props.collection),this.setDraggable(e.collection,e.index))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.collection;e.disabled||this.removeDraggable(t)}},{key:"setDraggable",value:function(e,t){var n=this.node=(0,h.findDOMNode)(this);n.sortableInfo={index:t,collection:e},this.ref={node:n},this.context.manager.add(e,this.ref)}},{key:"removeDraggable",value:function(e){this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return(0,p.default)(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return f.default.createElement(e,l({ref:t},this.props))}}]),n}(c.Component),t.displayName=e.displayName?"SortableElement("+e.displayName+")":"SortableElement",t.WrappedComponent=e,t.contextTypes={manager:c.PropTypes.object.isRequired},t.propTypes={index:c.PropTypes.number.isRequired,collection:c.PropTypes.oneOfType([c.PropTypes.number,c.PropTypes.string]),disabled:c.PropTypes.bool},t.defaultProps={collection:0},n}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=s;var c=n(0),f=r(c),h=n(11),d=n(124),p=r(d)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,n,r=arguments.length<=1||void 0===arguments[1]?{withRef:!1}:arguments[1];return n=t=function(t){function n(){return i(this,n),o(this,Object.getPrototypeOf(n).apply(this,arguments))}return a(n,t),u(n,[{key:"componentDidMount",value:function(){(0,h.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return(0,p.default)(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return f.default.createElement(e,l({ref:t},this.props))}}]),n}(c.Component),t.displayName=e.displayName?"SortableHandle("+e.displayName+")":"SortableHandle",t.WrappedComponent=e,n}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=s;var c=n(0),f=r(c),h=n(11),d=n(124),p=r(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r=n(138),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},s=t.autoprefix=function(e){var t={};return(0,i.default)(e,function(e,n){var r={};(0,i.default)(e,function(e,t){var n=a[t];n?r=o({},r,n(e)):r[t]=e}),t[n]=r}),t};t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function s(){var n,o,u,c;r(this,s);for(var f=arguments.length,h=Array(f),d=0;d<f;d++)h[d]=arguments[d];return o=u=i(this,(n=s.__proto__||Object.getPrototypeOf(s)).call.apply(n,[this].concat(h))),u.state={active:!1},u.handleMouseDown=function(){return u.setState({active:!0})},u.handleMouseUp=function(){return u.setState({active:!1})},u.render=function(){return l.default.createElement(t,{onMouseDown:u.handleMouseDown,onMouseUp:u.handleMouseUp},l.default.createElement(e,a({},u.props,u.state)))},c=o,i(u,c)}return o(s,n),s}(l.default.Component)};t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function s(){var n,o,u,c;r(this,s);for(var f=arguments.length,h=Array(f),d=0;d<f;d++)h[d]=arguments[d];return o=u=i(this,(n=s.__proto__||Object.getPrototypeOf(s)).call.apply(n,[this].concat(h))),u.state={hover:!1},u.handleMouseOver=function(){return u.setState({hover:!0})},u.handleMouseOut=function(){return u.setState({hover:!1})},u.render=function(){return l.default.createElement(t,{onMouseOver:u.handleMouseOver,onMouseOut:u.handleMouseOut},l.default.createElement(e,a({},u.props,u.state)))},c=o,i(u,c)}return o(s,n),s}(l.default.Component)};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var i=n(626),o=r(i),a=n(138),s=r(a),l=n(624),u=r(l),c=n(27),f=r(c),h=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,f.default)(t,function(t){Array.isArray(t)?e(t).map(function(e){return n.push(e)}):(0,u.default)(t)?(0,s.default)(t,function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)}):(0,o.default)(t)&&n.push(t)}),n};t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var i=n(138),o=r(i),a=n(615),s=r(a),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,s.default)(e.default)||{};return t.map(function(t){var r=e[t];return r&&(0,o.default)(r,function(e,t){n[t]||(n[t]={}),n[t]=l({},n[t],r[t])}),t}),n};t.default=u},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){(function(e){var r=n(707);t.encode=function(t){var n=r.parse(t);return new e(n).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.decode=function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/")+"==";return r.unparse(new e(n,"base64"))},t.v4=function(){return r.v4(null,new e(16)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.nice=function(){var t=r.v4(null,new e(16));return t[0]=127&t[0],t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)}}).call(t,n(156).Buffer)},function(e,t,n){var r;!function(i){function o(e,t){if(e=e||"",t=t||{},e instanceof o)return e;if(!(this instanceof o))return new o(e,t);var n=a(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=W(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=W(this._r)),this._g<1&&(this._g=W(this._g)),this._b<1&&(this._b=W(this._b)),this._ok=n.ok,this._tc_id=U++}function a(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,l=!1;return"string"==typeof e&&(e=N(e)),"object"==typeof e&&(B(e.r)&&B(e.g)&&B(e.b)?(t=s(e.r,e.g,e.b),a=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):B(e.h)&&B(e.s)&&B(e.v)?(r=D(e.s),i=D(e.v),t=f(e.h,r,i),a=!0,l="hsv"):B(e.h)&&B(e.s)&&B(e.l)&&(r=D(e.s),o=D(e.l),t=u(e.h,r,o),a=!0,l="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=P(n),{ok:a,format:e.format||l,r:Y(255,G(t.r,0)),g:Y(255,G(t.g,0)),b:Y(255,G(t.b,0)),a:n}}function s(e,t,n){return{r:255*E(e,255),g:255*E(t,255),b:255*E(n,255)}}function l(e,t,n){e=E(e,255),t=E(t,255),n=E(n,255);var r,i,o=G(e,t,n),a=Y(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function u(e,t,n){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var i,o,a;if(e=E(e,360),t=E(t,100),n=E(n,100),0===t)i=o=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=r(l,s,e+1/3),o=r(l,s,e),a=r(l,s,e-1/3)}return{r:255*i,g:255*o,b:255*a}}function c(e,t,n){e=E(e,255),t=E(t,255),n=E(n,255);var r,i,o=G(e,t,n),a=Y(e,t,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function f(e,t,n){e=6*E(e,360),t=E(t,100),n=E(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),l=n*(1-(1-o)*t),u=r%6;return{r:255*[n,s,a,a,l,n][u],g:255*[l,n,n,s,a,a][u],b:255*[a,a,l,n,n,s][u]}}function h(e,t,n,r){var i=[I(W(e).toString(16)),I(W(t).toString(16)),I(W(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function d(e,t,n,r,i){var o=[I(W(e).toString(16)),I(W(t).toString(16)),I(W(n).toString(16)),I(L(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function p(e,t,n,r){return[I(L(r)),I(W(e).toString(16)),I(W(t).toString(16)),I(W(n).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s-=t/100,n.s=M(n.s),o(n)}function m(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s+=t/100,n.s=M(n.s),o(n)}function g(e){return o(e).desaturate(100)}function y(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l+=t/100,n.l=M(n.l),o(n)}function b(e,t){t=0===t?0:t||10;var n=o(e).toRgb();return n.r=G(0,Y(255,n.r-W(-t/100*255))),n.g=G(0,Y(255,n.g-W(-t/100*255))),n.b=G(0,Y(255,n.b-W(-t/100*255))),o(n)}function w(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l-=t/100,n.l=M(n.l),o(n)}function x(e,t){var n=o(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,o(n)}function k(e){var t=o(e).toHsl();return t.h=(t.h+180)%360,o(t)}function _(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+120)%360,s:t.s,l:t.l}),o({h:(n+240)%360,s:t.s,l:t.l})]}function S(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+90)%360,s:t.s,l:t.l}),o({h:(n+180)%360,s:t.s,l:t.l}),o({h:(n+270)%360,s:t.s,l:t.l})]}function T(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+72)%360,s:t.s,l:t.l}),o({h:(n+216)%360,s:t.s,l:t.l})]}function O(e,t,n){t=t||6,n=n||30;var r=o(e).toHsl(),i=360/n,a=[o(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(o(r));return a}function C(e,t){t=t||6;for(var n=o(e).toHsv(),r=n.h,i=n.s,a=n.v,s=[],l=1/t;t--;)s.push(o({h:r,s:i,v:a})),a=(a+l)%1;return s}function P(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function E(e,t){j(e)&&(e="100%");var n=R(e);return e=Y(t,G(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function M(e){return Y(1,G(0,e))}function A(e){return parseInt(e,16)}function j(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function R(e){return"string"==typeof e&&-1!=e.indexOf("%")}function I(e){return 1==e.length?"0"+e:""+e}function D(e){return e<=1&&(e=100*e+"%"),e}function L(e){return i.round(255*parseFloat(e)).toString(16)}function z(e){return A(e)/255}function B(e){return!!K.CSS_UNIT.exec(e)}function N(e){e=e.replace(V,"").replace(F,"").toLowerCase();var t=!1;if(Z[e])e=Z[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=K.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=K.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=K.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=K.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=K.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=K.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=K.hex8.exec(e))?{r:A(n[1]),g:A(n[2]),b:A(n[3]),a:z(n[4]),format:t?"name":"hex8"}:(n=K.hex6.exec(e))?{r:A(n[1]),g:A(n[2]),b:A(n[3]),format:t?"name":"hex"}:(n=K.hex4.exec(e))?{r:A(n[1]+""+n[1]),g:A(n[2]+""+n[2]),b:A(n[3]+""+n[3]),a:z(n[4]+""+n[4]),format:t?"name":"hex8"}:!!(n=K.hex3.exec(e))&&{r:A(n[1]+""+n[1]),g:A(n[2]+""+n[2]),b:A(n[3]+""+n[3]),format:t?"name":"hex"}}function H(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var V=/^\s+/,F=/\s+$/,U=0,W=i.round,Y=i.min,G=i.max,X=i.random;o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r,o,a,s=this.toRgb();return e=s.r/255,t=s.g/255,n=s.b/255,r=e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4),o=t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4),a=n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4),.2126*r+.7152*o+.0722*a},setAlpha:function(e){return this._a=P(e),this._roundA=W(100*this._a)/100,this},toHsv:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=c(this._r,this._g,this._b),t=W(360*e.h),n=W(100*e.s),r=W(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=l(this._r,this._g,this._b),t=W(360*e.h),n=W(100*e.s),r=W(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return h(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return d(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:W(this._r),g:W(this._g),b:W(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+W(this._r)+", "+W(this._g)+", "+W(this._b)+")":"rgba("+W(this._r)+", "+W(this._g)+", "+W(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:W(100*E(this._r,255))+"%",g:W(100*E(this._g,255))+"%",b:W(100*E(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+W(100*E(this._r,255))+"%, "+W(100*E(this._g,255))+"%, "+W(100*E(this._b,255))+"%)":"rgba("+W(100*E(this._r,255))+"%, "+W(100*E(this._g,255))+"%, "+W(100*E(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(q[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+p(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=o(e);n="#"+p(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},o.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:D(e[r]));e=n}return o(e,t)},o.equals=function(e,t){return!(!e||!t)&&o(e).toRgbString()==o(t).toRgbString()},o.random=function(){return o.fromRatio({r:X(),g:X(),b:X()})},o.mix=function(e,t,n){n=0===n?0:n||50;var r=o(e).toRgb(),i=o(t).toRgb(),a=n/100;return o({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},o.readability=function(e,t){var n=o(e),r=o(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},o.isReadable=function(e,t,n){var r,i,a=o.readability(e,t);switch(i=!1,r=H(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},o.mostReadable=function(e,t,n){var r,i,a,s,l=null,u=0;n=n||{},i=n.includeFallbackColors,a=n.level,s=n.size;for(var c=0;c<t.length;c++)(r=o.readability(e,t[c]))>u&&(u=r,l=o(t[c]));return o.isReadable(e,l,{level:a,size:s})||!i?l:(n.includeFallbackColors=!1,o.mostReadable(e,["#fff","#000"],n))};var Z=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},q=o.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(Z),K=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==e&&e.exports?e.exports=o:void 0!==(r=function(){return o}.call(t,n,t,e))&&(e.exports=r)}(Math)},function(e,t,n){"use strict";(function(t){function r(e){e=e||t.location||{};var n,r={},i=typeof e;if("blob:"===e.protocol)r=new a(unescape(e.pathname),{});else if("string"===i){r=new a(e,{});for(n in p)delete r[n]}else if("object"===i){for(n in e)n in p||(r[n]=e[n]);void 0===r.slashes&&(r.slashes=h.test(e.href))}return r}function i(e){var t=f.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function o(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);var s,l,f,h,p,v,m=d.slice(),g=typeof t,y=this,b=0;for("object"!==g&&"string"!==g&&(n=t,t=null),n&&"function"!=typeof n&&(n=c.parse),t=r(t),l=i(e||""),s=!l.protocol&&!l.slashes,y.slashes=l.slashes||s&&t.slashes,y.protocol=l.protocol||t.protocol||"",e=l.rest,l.slashes||(m[2]=[/(.*)/,"pathname"]);b<m.length;b++)h=m[b],f=h[0],v=h[1],f!==f?y[v]=e:"string"==typeof f?~(p=e.indexOf(f))&&("number"==typeof h[2]?(y[v]=e.slice(0,p),e=e.slice(p+h[2])):(y[v]=e.slice(p),e=e.slice(0,p))):(p=f.exec(e))&&(y[v]=p[1],e=e.slice(0,p.index)),y[v]=y[v]||(s&&h[3]?t[v]||"":""),h[4]&&(y[v]=y[v].toLowerCase());n&&(y.query=n(y.query)),s&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=o(y.pathname,t.pathname)),u(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(h=y.auth.split(":"),y.username=h[0]||"",y.password=h[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}function s(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||c.parse)(t)),r[e]=t;break;case"port":r[e]=t,u(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";r[e]=t.charAt(0)!==i?i+t:t}else r[e]=t;break;default:r[e]=t}for(var o=0;o<d.length;o++){var a=d[o];a[4]&&(r[a[1]]=r[a[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function l(e){e&&"function"==typeof e||(e=c.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(n.slashes?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,t="object"==typeof n.query?e(n.query):n.query,t&&(i+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(i+=n.hash),i}var u=n(702),c=n(638),f=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,h=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,d=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};a.prototype={set:s,toString:l},a.extractProtocol=i,a.location=r,a.qs=c,e.exports=a}).call(t,n(43))},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(t,n(43))},function(e,t,n){function r(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){i<16&&(t[r+i++]=u[e])});i<16;)t[r+i++]=0;return t}function i(e,t){var n=t||0,r=l;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function o(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:d,s=void 0!==e.msecs?e.msecs:(new Date).getTime(),l=void 0!==e.nsecs?e.nsecs:v+1,u=s-p+(l-v)/1e4;if(u<0&&void 0===e.clockseq&&(a=a+1&16383),(u<0||s>p)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=s,v=l,d=a,s+=122192928e5;var c=(1e4*(268435455&s)+l)%4294967296;o[r++]=c>>>24&255,o[r++]=c>>>16&255,o[r++]=c>>>8&255,o[r++]=255&c;var f=s/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var m=e.node||h,g=0;g<6;g++)o[r+g]=m[g];return t||i(o)}function a(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;a++)t[r+a]=o[a];return t||i(o)}for(var s=n(706),l=[],u={},c=0;c<256;c++)l[c]=(c+256).toString(16).substr(1),u[l[c]]=c;var f=s(),h=[1|f[0],f[1],f[2],f[3],f[4],f[5]],d=16383&(f[6]<<8|f[7]),p=0,v=0,m=a;m.v1=o,m.v4=a,m.parse=r,m.unparse=i,e.exports=m},function(e,t){/**
* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.
*
* Copyright (c) 2012 Vadim Kiryukhin
* vkiryukhin @ gmail.com
* http://www.eslinstructor.net/vkbeautify/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*   Pretty print
*
*        vkbeautify.xml(text [,indent_pattern]);
*        vkbeautify.json(text [,indent_pattern]);
*        vkbeautify.css(text [,indent_pattern]);
*        vkbeautify.sql(text [,indent_pattern]);
*
*        @text - String; text to beatufy;
*        @indent_pattern - Integer | String;
*                Integer:  number of white spaces;
*                String:   character string to visualize indentation ( can also be a set of white spaces )
*   Minify
*
*        vkbeautify.xmlmin(text [,preserve_comments]);
*        vkbeautify.jsonmin(text);
*        vkbeautify.cssmin(text [,preserve_comments]);
*        vkbeautify.sqlmin(text);
*
*        @text - String; text to minify;
*        @preserve_comments - Bool; [optional];
*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )
*
*   Examples:
*        vkbeautify.xml(text); // pretty print XML
*        vkbeautify.json(text, 4 ); // pretty print JSON
*        vkbeautify.css(text, '. . . .'); // pretty print CSS
*        vkbeautify.sql(text, '----'); // pretty print SQL
*
*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments
*        vkbeautify.jsonmin(text);// minify JSON
*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )
*        vkbeautify.sqlmin(text);// minify SQL
*
*/
function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],r=0;r<100;r++)n.push(n[r]+t);return n}function r(){this.step="    ",this.shift=n(this.step)}function i(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function o(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}r.prototype.xml=function(e,t){var r=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),i=r.length,o=!1,a=0,s="",l=0,u=t?n(t):this.shift;for(l=0;l<i;l++)r[l].search(/<!/)>-1?(s+=u[a]+r[l],o=!0,(r[l].search(/-->/)>-1||r[l].search(/\]>/)>-1||r[l].search(/!DOCTYPE/)>-1)&&(o=!1)):r[l].search(/-->/)>-1||r[l].search(/\]>/)>-1?(s+=r[l],o=!1):/^<\w/.exec(r[l-1])&&/^<\/\w/.exec(r[l])&&/^<[\w:\-\.\,]+/.exec(r[l-1])==/^<\/[\w:\-\.\,]+/.exec(r[l])[0].replace("/","")?(s+=r[l],o||a--):r[l].search(/<\w/)>-1&&-1==r[l].search(/<\//)&&-1==r[l].search(/\/>/)?s=s+=o?r[l]:u[a++]+r[l]:r[l].search(/<\w/)>-1&&r[l].search(/<\//)>-1?s=s+=o?r[l]:u[a]+r[l]:r[l].search(/<\//)>-1?s=s+=o?r[l]:u[--a]+r[l]:r[l].search(/\/>/)>-1?s=s+=o?r[l]:u[a]+r[l]:r[l].search(/<\?/)>-1?s+=u[a]+r[l]:r[l].search(/xmlns\:/)>-1||r[l].search(/xmlns\=/)>-1?s+=u[a]+r[l]:s+=r[l];return"\n"==s[0]?s.slice(1):s},r.prototype.json=function(e,t){var t=t||this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},r.prototype.css=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),i=r.length,o=0,a="",s=0,l=t?n(t):this.shift;for(s=0;s<i;s++)/\{/.exec(r[s])?a+=l[o++]+r[s]:/\}/.exec(r[s])?a+=l[--o]+r[s]:(/\*\\/.exec(r[s]),a+=l[o]+r[s]);return a.replace(/^\n{1,}/,"")},r.prototype.sql=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),a=r.length,s=[],l=0,u=this.step,c=0,f="",h=0,d=t?n(t):this.shift;for(h=0;h<a;h++)s=h%2?s.concat(r[h]):s.concat(o(r[h],u));for(a=s.length,h=0;h<a;h++){c=i(s[h],c),/\s{0,}\s{0,}SELECT\s{0,}/.exec(s[h])&&(s[h]=s[h].replace(/\,/g,",\n"+u+u)),/\s{0,}\s{0,}SET\s{0,}/.exec(s[h])&&(s[h]=s[h].replace(/\,/g,",\n"+u+u)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(s[h])?(l++,f+=d[l]+s[h]):/\'/.exec(s[h])?(c<1&&l&&l--,f+=s[h]):(f+=d[l]+s[h],c<1&&l&&l--)}return f=f.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},r.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},r.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},r.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},r.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new r},function(e,t,n){e.exports=n(245)}])});
//# sourceMappingURL=hglib.js.map